!function(m){var d,e,r,h,c,u,n,i,a,p,o,s;function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return void 0===e}function f(e,t,n){var r=null;if(!t||d.collectWindowErrors){for(var a in i)if(g(i,a))try{i[a](e,t,n)}catch(e){r=e}if(r)throw r}}function t(e,t,n,r,a){var i,o,s,l;return p?(d.computeStackTrace.augmentStackTraceWithInitialElement(p,t,n,e),b()):a?f(d.computeStackTrace(a),!0,a):(i={url:t,line:n,column:r},"[object String]"==={}.toString.call(s=e)&&(l=e.match(c))&&(o=l[1],s=l[2]),i.func=d.computeStackTrace.guessFunctionName(i.url,i.line),i.context=d.computeStackTrace.gatherContext(i.url,i.line),f({name:o,message:s,mode:"onerror",stack:[i]},!0,null)),!!u&&u.apply(this,arguments)}function b(){var e=p,t=a;a=p=null,f(e,!1,t)}function l(e){if(p){if(a===e)return;b()}var t=d.computeStackTrace(e);throw p=t,a=e,setTimeout(function(){a===e&&b()},t.incomplete?2e3:0),e}function y(e){if("string"!=typeof e)return[];if(!g(s,e)){var t="",n="";try{n=m.document.domain}catch(e){}var r=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);r&&r[2]===n&&(t=function(e){if(!d.remoteFetching)return"";try{var t=function(){try{return new m.XMLHttpRequest}catch(e){return new m.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(e)),s[e]=t?t.split("\n"):[]}return s[e]}function $(e,t){var n,r=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",o=y(e);if(o.length)for(var s=0;s<10;++s)if(!v(i=o[t-s]+i)){if(n=a.exec(i))return n[1];if(n=r.exec(i))return n[1]}return h}function w(e,t){var n=y(e);if(!n.length)return null;var r=[],e=Math.floor(d.linesOfContext/2),a=e+d.linesOfContext%2,e=Math.max(0,t-e-1),i=Math.min(n.length,t+a-1);--t;for(var o=e;o<i;++o)v(n[o])||r.push(n[o]);return 0<r.length?r:null}function k(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function x(e){return k(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function S(e,t){for(var n,r,a=0,i=t.length;a<i;++a)if((n=y(t[a])).length&&(n=n.join("\n"),r=e.exec(n)))return{url:t[a],line:n.substring(0,r.index).split("\n").length,column:r.index-n.lastIndexOf("\n",r.index)-1};return null}function _(e,t,n){var t=y(t),e=new RegExp("\\b"+k(e)+"\\b");return--n,t&&t.length>n&&(e=e.exec(t[n]))?e.index:null}function C(e){if(!e.stack)return null;for(var t,n,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,o=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=e.stack.split("\n"),c=[],u=/^(.*) is undefined$/.exec(e.message),d=0,p=l.length;d<p;++d){if(n=r.exec(l[d])){var f=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=s.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),f={url:f?null:n[2],func:n[1]||h,args:f?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(l[d]))f={url:n[2],func:n[1]||h,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(l[d])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=o.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==d||n[5]||v(e.columnNumber)||(c[0].column=e.columnNumber+1),f={url:n[3],func:n[1]||h,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!f.func&&f.line&&(f.func=$(f.url,f.line)),f.context=f.line?w(f.url,f.line):null,c.push(f)}return c.length?(c[0]&&c[0].line&&!c[0].column&&u&&(c[0].column=_(u[1],c[0].url,c[0].line)),{mode:"stack",name:e.name,message:e.message,stack:c}):null}function E(e,t,n,r){t={url:t,line:n};if(t.url&&t.line){e.incomplete=!1,t.func||(t.func=$(t.url,t.line)),t.context||(t.context=w(t.url,t.line));n=/ '([^']+)' /.exec(r);if(n&&(t.column=_(n[1],t.url,t.line)),0<e.stack.length&&e.stack[0].url===t.url){if(e.stack[0].line===t.line)return!1;if(!e.stack[0].line&&e.stack[0].func===t.func)return e.stack[0].line=t.line,e.stack[0].context=t.context,!1}return e.stack.unshift(t),e.partial=!0}return!(e.incomplete=!0)}function T(e,t){for(var n,r,a,i,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],l={},c=!1,u=T.caller;u&&!c;u=u.caller)if(u!==P&&u!==d.report){if(r={url:null,func:h,args:[],line:null,column:null},u.name?r.func=u.name:(n=o.exec(u.toString()))&&(r.func=n[1]),void 0===r.func)try{r.func=n.input.substring(0,n.input.indexOf("{"))}catch(e){}(a=function(e){if(!v(m&&m.document)){for(var t,n,r,a=[m.location.href],i=m.document.getElementsByTagName("script"),e=""+e,o=0;o<i.length;++o){var s=i[o];s.src&&a.push(s.src)}if(n=S((t=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(e))?(n=t[1]?"\\s+"+t[1]:"",l=t[2].split(",").join("\\s*,\\s*"),r=k(t[3]).replace(/;$/,";?"),new RegExp("function"+n+"\\s*\\(\\s*"+l+"\\s*\\)\\s*{\\s*"+r+"\\s*}")):new RegExp(k(e).replace(/\s+/g,"\\s+")),a))return n;if(t=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(e)){var l=t[1];if(r=x(t[2]),n=S(new RegExp("on"+l+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i"),a[0]))return n;if(n=S(new RegExp(r),a))return n}return null}}(u))&&(r.url=a.url,r.line=a.line,r.func===h&&(r.func=$(r.url,r.line)),i=/ '([^']+)' /.exec(e.message||e.description))&&(r.column=_(i[1],a.url,a.line)),l[""+u]?c=!0:l[""+u]=!0,s.push(r)}t&&s.splice(0,t);t={mode:"callers",name:e.name,message:e.message,stack:s};return E(t,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),t}function P(e,t){var n=null;t=null==t?0:+t;try{if(n=function(e){var t=e.stacktrace;if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,a=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.split("\n"),o=[],s=0;s<i.length;s+=2){var l=null;if((n=r.exec(i[s]))?l={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=a.exec(i[s]))&&(l={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),l){if(!l.func&&l.line&&(l.func=$(l.url,l.line)),l.line)try{l.context=w(l.url,l.line)}catch(e){}l.context||(l.context=[i[s+1]]),o.push(l)}}return o.length?{mode:"stacktrace",name:e.name,message:e.message,stack:o}:null}}(e))return n}catch(e){if(o)throw e}try{if(n=C(e))return n}catch(e){if(o)throw e}try{if(n=function(e){var t=e.message.split("\n");if(t.length<4)return null;var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of function script\s*$/i,o=[],s=m&&m.document&&m.document.getElementsByTagName("script"),l=[];for(n in s)g(s,n)&&!s[n].src&&l.push(s[n]);for(var c=2;c<t.length;c+=2){var u,d,p,f,h=null;(f=r.exec(t[c]))?h={url:f[2],func:f[3],args:[],line:+f[1],column:null}:(f=a.exec(t[c]))?(h={url:f[3],func:f[4],args:[],line:+f[1],column:null},u=+f[1],(p=l[f[2]-1])&&(d=y(h.url))&&0<=(p=(d=d.join("\n")).indexOf(p.innerText))&&(h.line=u+d.substring(0,p).split("\n").length)):(f=i.exec(t[c]))&&(h={url:u=m.location.href.replace(/#.*$/,""),func:"",args:[],line:(d=S(new RegExp(x(t[c+1])),[u]))?d.line:f[1],column:null}),h&&(h.func||(h.func=$(h.url,h.line)),f=(p=w(h.url,h.line))?p[Math.floor(p.length/2)]:null,p&&f.replace(/^\s*/,"")===t[c+1].replace(/^\s*/,"")?h.context=p:h.context=[t[c+1]],o.push(h))}return o.length?{mode:"multiline",name:e.name,message:t[0],stack:o}:null}(e))return n}catch(e){if(o)throw e}try{if(n=T(e,t+1))return n}catch(e){if(o)throw e}return{name:e.name,message:e.message,mode:"failed"}}m&&(d={},e=m.TraceKit,r=[].slice,h="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,d.noConflict=function(){return m.TraceKit=e,d},d.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw d.report(e),e}}},d.report=(i=[],p=a=null,l.subscribe=function(e){!0!==n&&(u=m.onerror,m.onerror=t,n=!0),i.push(e)},l.unsubscribe=function(e){for(var t=i.length-1;0<=t;--t)i[t]===e&&i.splice(t,1);0===i.length&&(m.onerror=u,n=!1)},l),d.computeStackTrace=(o=!1,s={},P.augmentStackTraceWithInitialElement=E,P.computeStackTraceFromStackProp=C,P.guessFunctionName=$,P.gatherContext=w,P.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return P(e,t+1)}},P.getSource=y,P),d.extendToAsynchronousCallbacks=function(){function e(e){var n=m[e];m[e]=function(){var e=r.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=d.wrap(t)),n.apply?n.apply(this,e):n(e[0],e[1])}}e("setTimeout"),e("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),"function"==typeof define&&define.amd?define("TraceKit",[],d):"undefined"!=typeof module&&module.exports&&m.module!==module?module.exports=d:m.TraceKit=d)}("undefined"!=typeof window?window:global),function(e,t){var n,r;"function"==typeof define&&define.amd?define("exceptionless",["require","exports","TraceKit"],t):e.exceptionless=t(0,n,e.TraceKit)}("undefined"!=typeof window?window:global,function(j,e,r){e=e||{};var a,t=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},i=(Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultSubmissionAdapter=e.BrowserStorageProvider=e.DefaultRequestInfoCollector=e.DefaultModuleCollector=e.DefaultErrorParser=e.BrowserStorage=e.KeyValueStorageBase=e.InMemoryStorage=e.SubmissionMethodPlugin=e.RequestInfoPlugin=e.ModuleInfoPlugin=e.EventExclusionPlugin=e.ErrorPlugin=e.EnvironmentInfoPlugin=e.DuplicateCheckerPlugin=e.ConfigurationDefaultsPlugin=e.EventBuilder=e.SettingsResponse=e.Configuration=e.ContextData=e.ExceptionlessClient=e.SubmissionResponse=e.SettingsManager=e.Utils=e.DefaultSubmissionClient=e.InMemoryStorageProvider=e.DefaultEventQueue=e.EventPluginManager=e.EventPluginContext=e.ReferenceIdPlugin=e.HeartbeatPlugin=e.NullLog=e.ConsoleLog=e.DefaultLastReferenceIdManager=void 0,o.prototype.getLast=function(){return this._lastReferenceId},o.prototype.clearLast=function(){this._lastReferenceId=null},o.prototype.setLast=function(e){this._lastReferenceId=e},o);function o(){this._lastReferenceId=null}e.DefaultLastReferenceIdManager=i;l.prototype.trace=function(e){this.log("debug",e)},l.prototype.info=function(e){this.log("info",e)},l.prototype.warn=function(e){this.log("warn",e)},l.prototype.error=function(e){this.log("error",e)},l.prototype.log=function(e,t){console&&(t="["+e+"] Exceptionless: "+t,console[e]?console[e](t):console.log&&console.log(t))};var s=l;function l(){}e.ConsoleLog=s;c.prototype.trace=function(e){},c.prototype.info=function(e){},c.prototype.warn=function(e){},c.prototype.error=function(e){};var F=c;function c(){}e.NullLog=F;L.prototype.run=function(e,t){clearInterval(this._intervalId);var n=e.event.data["@user"];n&&n.identity&&(this._intervalId=setInterval(function(){return e.client.submitSessionHeartbeat(n.identity)},this._interval)),t&&t()};var z=L;function L(e){void 0===e&&(e=3e4),this.priority=100,this.name="HeartbeatPlugin",this._interval=3e4<=e?e:6e4}e.HeartbeatPlugin=z;U.prototype.run=function(e,t){e.event.reference_id&&0!==e.event.reference_id.length||"error"!==e.event.type||(e.event.reference_id=h.guid().replace("-","").substring(0,10)),t&&t()};var R=U;function U(){this.priority=20,this.name="ReferenceIdPlugin"}e.ReferenceIdPlugin=R;Object.defineProperty(H.prototype,"log",{get:function(){return this.client.config.log},enumerable:!1,configurable:!0});var q=H;function H(e,t,n){this.cancelled=!1,this.client=e,this.event=t,this.contextData=n||new $}e.EventPluginContext=q;d.run=function(n,r){function e(t,e){return function(){try{n.cancelled||t.run(n,e)}catch(e){n.cancelled=!0,n.log.error("Error running plugin '"+t.name+"': "+e.message+". Discarding Event.")}n.cancelled&&r&&r(n)}}var t=n.client.config.plugins,a=[];r&&(a[t.length]=e({name:"cb",priority:9007199254740992,run:r},null));for(var i=t.length-1;-1<i;i--)a[i]=e(t[i],r||i<t.length-1?a[i+1]:null);a[0]()},d.addDefaultPlugins=function(e){e.addPlugin(new K),e.addPlugin(new ne),e.addPlugin(new J),e.addPlugin(new ae),e.addPlugin(new ie),e.addPlugin(new se),e.addPlugin(new ee),e.addPlugin(new ce)};var u=d;function d(){}e.EventPluginManager=u;p.prototype.enqueue=function(e){var t="The event will not be queued.",n=this._config,r=n.log;n.enabled?n.isValid?this.areQueuedItemsDiscarded()?r.info("Queue items are currently being discarded. "+t):(this.ensureQueueTimer(),n=n.storage.queue.save(e),e="type="+e.type+" "+(e.reference_id?"refid="+e.reference_id:""),n?r.info("Enqueuing event: "+n+" "+e):r.error("Could not enqueue event "+e)):r.info("Invalid Api Key. "+t):r.info("Configuration is disabled. "+t)},p.prototype.process=function(e){var t=this,n="The queue will not be processed.",r=this._config,a=r.log;if(!this._processingQueue)if(a.info("Processing queue..."),r.enabled)if(r.isValid){this._processingQueue=!0,this.ensureQueueTimer();try{var i=r.storage.queue.get(r.submissionBatchSize);i&&0!==i.length?(a.info("Sending "+i.length+" events to "+r.serverUrl+"."),r.submissionClient.postEvents(i.map(function(e){return e.value}),r,function(e){t.processSubmissionResponse(e,i),t.eventsPosted(i.map(function(e){return e.value}),e),a.info("Finished processing queue."),t._processingQueue=!1},e)):this._processingQueue=!1}catch(e){a.error("Error processing queue: "+e),this.suspendProcessing(),this._processingQueue=!1}}else a.info("Invalid Api Key. "+n);else a.info("Configuration is disabled. "+n)},p.prototype.suspendProcessing=function(e,t,n){var r=this._config;r.log.info("Suspending processing for "+(e=!e||e<=0?5:e)+" minutes."),this._suspendProcessingUntil=new Date((new Date).getTime()+6e4*e),t&&(this._discardQueuedItemsUntil=this._suspendProcessingUntil),n&&r.storage.queue.clear()},p.prototype.onEventsPosted=function(e){e&&this._handlers.push(e)},p.prototype.eventsPosted=function(e,t){for(var n=0,r=this._handlers;n<r.length;n++){var a=r[n];try{a(e,t)}catch(e){this._config.log.error("Error calling onEventsPosted handler: "+e)}}},p.prototype.areQueuedItemsDiscarded=function(){return this._discardQueuedItemsUntil&&this._discardQueuedItemsUntil>new Date},p.prototype.ensureQueueTimer=function(){var e=this;this._queueTimer||(this._queueTimer=setInterval(function(){return e.onProcessQueue()},1e4))},p.prototype.isQueueProcessingSuspended=function(){return this._suspendProcessingUntil&&this._suspendProcessingUntil>new Date},p.prototype.onProcessQueue=function(){this.isQueueProcessingSuspended()||this._processingQueue||this.process()},p.prototype.processSubmissionResponse=function(e,t){var n,r="The event will not be submitted.",a=this._config,i=a.log;e.success?(i.info("Sent "+t.length+" events."),this.removeEvents(t)):e.serviceUnavailable?(i.error("Server returned service unavailable."),this.suspendProcessing()):e.paymentRequired?(i.info("Too many events have been submitted, please upgrade your plan."),this.suspendProcessing(null,!0,!0)):e.unableToAuthenticate?(i.info("Unable to authenticate, please check your configuration. "+r),this.suspendProcessing(15),this.removeEvents(t)):e.notFound||e.badRequest?(i.error("Error while trying to submit data: "+e.message),this.suspendProcessing(240),this.removeEvents(t)):e.requestEntityTooLarge?(n="Event submission discarded for being too large.",1<a.submissionBatchSize?(i.error(n+" Retrying with smaller batch size."),a.submissionBatchSize=Math.max(1,Math.round(a.submissionBatchSize/1.5))):(i.error(n+" "+r),this.removeEvents(t))):e.success||(i.error("Error submitting events: "+(e.message||"Please check the network tab for more info.")),this.suspendProcessing())},p.prototype.removeEvents=function(e){for(var t=0;t<(e||[]).length;t++)this._config.storage.queue.remove(e[t].timestamp)};var V=p;function p(e){this._handlers=[],this._processingQueue=!1,this._config=e}e.DefaultEventQueue=V;var Y=function(e){this.queue=new T(e=void 0===e?250:e),this.settings=new T(1)},B=(e.InMemoryStorageProvider=Y,f.prototype.postEvents=function(e,t,n,r){e=JSON.stringify(e),e=this.createRequest(t,"POST",t.serverUrl+"/api/v2/events",e),n=this.createSubmissionCallback(t,n);return t.submissionAdapter.sendRequest(e,n,r)},f.prototype.postUserDescription=function(e,t,n,r){e=n.serverUrl+"/api/v2/events/by-ref/"+encodeURIComponent(e)+"/user-description",t=JSON.stringify(t),e=this.createRequest(n,"POST",e,t),t=this.createSubmissionCallback(n,r);return n.submissionAdapter.sendRequest(e,t)},f.prototype.getSettings=function(a,e,i){e=this.createRequest(a,"GET",a.configServerUrl+"/api/v2/projects/config?v="+e);return a.submissionAdapter.sendRequest(e,function(e,t,n){if(200!==e)return i(new S(!1,null,-1,null,t));var r;try{r=JSON.parse(n)}catch(e){a.log.error("Unable to parse settings: '"+n+"'")}if(!r||isNaN(r.version))return i(new S(!1,null,-1,null,"Invalid configuration settings."));i(new S(!0,r.settings||{},r.version))})},f.prototype.sendHeartbeat=function(e,t,n){e=this.createRequest(n,"GET",n.heartbeatServerUrl+"/api/v2/events/session/heartbeat?id="+e+"&close="+t);n.submissionAdapter.sendRequest(e)},f.prototype.createRequest=function(e,t,n,r){return{method:t,url:n,data:r=void 0===r?null:r,apiKey:e.apiKey,userAgent:e.userAgent}},f.prototype.createSubmissionCallback=function(a,i){var o=this;return function(e,t,n,r){r=r&&parseInt(r[o.configurationVersionHeader],10);isNaN(r)?a.log.error("No config version header was returned."):g.checkVersion(r,a),i(new b(e,t))}},f);function f(){this.configurationVersionHeader="x-exceptionless-configversion"}e.DefaultSubmissionClient=B;m.addRange=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e=e||[],t&&0!==t.length)for(var r=0,a=t;r<a.length;r++){var i=a[r];i&&e.indexOf(i)<0&&e.push(i)}return e},m.getHashCode=function(e){if(!e||0===e.length)return 0;for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return t},m.getCookies=function(e,t){for(var n={},r=0,a=(e||"").split("; ");r<a.length;r++){var i=a[r].split("=");m.isMatch(i[0],t)||(n[i[0]]=i[1])}return m.isEmpty(n)?null:n},m.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},m.merge=function(e,t){var n,r={};for(n in e||{})void 0!==e[n]&&null!==e[n]&&(r[n]=e[n]);for(n in t||{})void 0!==t[n]&&null!==t[n]&&(r[n]=t[n]);return r},m.parseVersion=function(e){return(e=e&&/(v?((\d+)\.(\d+)(\.(\d+))?)(?:-([\dA-Za-z-]+(?:\.[\dA-Za-z-]+)*))?(?:\+([\dA-Za-z-]+(?:\.[\dA-Za-z-]+)*))?)/.exec(e))&&0<e.length?e[0]:null},m.parseQueryString=function(e,t){if(!e||0===e.length)return null;e=e.split("&");if(0===e.length)return null;for(var n={},r=0,a=e;r<a.length;r++){var i=a[r].split("=");m.isMatch(i[0],t)||(n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return m.isEmpty(n)?null:n},m.randomNumber=function(){return Math.floor(9007199254740992*Math.random())},m.isMatch=function(r,e,a){var i;return void 0===a&&(a=!0),"string"==typeof r&&(i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=(a?r.toLowerCase():r).replace(i,""),(e||[]).some(function(e){var t,n;return"string"==typeof e&&((e=e&&(a?e.toLowerCase():e).replace(i,""))?"*"===e||null!=r&&((n="*"===(e=(t="*"===e[0])?e.slice(1):e)[e.length-1])&&(e=e.substring(0,e.length-1)),t&&n?e.length<=r.length&&-1!==r.indexOf(e,0):t?m.endsWith(r,e):n?m.startsWith(r,e):r===e):null==r)}))},m.isEmpty=function(e){return null===e||"object"==typeof e&&0===Object.keys(e).length},m.startsWith=function(e,t){return e.substring(0,t.length)===t},m.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},m.stringify=function(e,t,n){function r(e,n){var r=[];return JSON.stringify(e,function(e,t){if(!m.isMatch(e,n)){if("object"==typeof t&&t){if(-1!==r.indexOf(t))return;r.push(t)}return t}})}if("[object Object]"==={}.toString.call(e)){var a,i={};for(a in e)e[a]!==e&&(i[a]=e[a]);return r(i,t)}if("[object Array]"!=={}.toString.call(e))return r(e,t);for(var o=[],s=0;s<e.length;s++)o[s]=JSON.parse(r(e[s],t));return JSON.stringify(o)},m.toBoolean=function(e,t){if(void 0===t&&(t=!1),"boolean"==typeof e)return e;if(null!==e&&("number"==typeof e||"string"==typeof e))switch((e+"").toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1}return t};var h=m;function m(){}e.Utils=h;v.onChanged=function(e){e&&this._handlers.push(e)},v.applySavedServerSettings=function(e){var t;e&&e.isValid&&(t=this.getSavedServerSettings(e),e.log.info("Applying saved settings: v"+t.version),e.settings=h.merge(e.settings,t.settings),this.changed(e))},v.getVersion=function(e){return e&&e.isValid&&this.getSavedServerSettings(e).version||0},v.checkVersion=function(e,t){var n=this.getVersion(t);e<=n||(t.log.info("Updating settings from v"+n+" to v"+e),this.updateSettings(t,n))},v.updateSettings=function(r,e){var a,i=this;r&&r.enabled&&!this._isUpdatingSettings&&(a="Unable to update settings",r.isValid?((!e||e<0)&&(e=this.getVersion(r)),r.log.info("Checking for updated settings from: v"+e+"."),this._isUpdatingSettings=!0,r.submissionClient.getSettings(r,e,function(e){try{if(r&&e&&e.success&&e.settings){for(var t in r.settings=h.merge(r.settings,e.settings),v.getSavedServerSettings(r))e.settings[t]||delete r.settings[t];var n={version:e.settingsVersion,settings:e.settings};r.storage.settings.save(n),r.log.info("Updated settings: v"+n.version),i.changed(r)}else r.log.warn(a+": "+e.message)}finally{i._isUpdatingSettings=!1}})):r.log.error(a+": ApiKey is not set."))},v.changed=function(t){for(var e=0,n=this._handlers;e<n.length;e++){var r=n[e];try{r(t)}catch(e){t.log.error("Error calling onChanged handler: "+e)}}},v.getSavedServerSettings=function(e){e=e.storage.settings.get()[0];return e&&e.value&&e.value.version&&e.value.settings?e.value:{version:0,settings:{}}},v._isUpdatingSettings=!1,v._handlers=[];var g=v;function v(){}e.SettingsManager=g;var b=function(e,t){this.success=!1,this.badRequest=!1,this.serviceUnavailable=!1,this.paymentRequired=!1,this.unableToAuthenticate=!1,this.notFound=!1,this.requestEntityTooLarge=!1,this.statusCode=e,this.message=t,this.success=200<=e&&e<=299,this.badRequest=400===e,this.serviceUnavailable=503===e,this.paymentRequired=402===e,this.unableToAuthenticate=401===e||403===e,this.notFound=404===e,this.requestEntityTooLarge=413===e},W=(e.SubmissionResponse=b,y.prototype.createException=function(e){var t=new $;return t.setException(e),this.createEvent(t).setType("error")},y.prototype.submitException=function(e,t){this.createException(e).submit(t)},y.prototype.createUnhandledException=function(e,t){e=this.createException(e);return e.pluginContextData.markAsUnhandledError(),e.pluginContextData.setSubmissionMethod(t),e},y.prototype.submitUnhandledException=function(e,t,n){this.createUnhandledException(e,t).submit(n)},y.prototype.createFeatureUsage=function(e){return this.createEvent().setType("usage").setSource(e)},y.prototype.submitFeatureUsage=function(e,t){this.createFeatureUsage(e).submit(t)},y.prototype.createLog=function(e,t,n){var r=this.createEvent().setType("log");if(n)r=r.setSource(e).setMessage(t).setProperty("@level",n);else if(t)r=r.setSource(e).setMessage(t);else{r=r.setMessage(e);try{var a=this.createLog.caller,r=r.setSource(a&&a.caller&&a.caller.name)}catch(e){this.config.log.trace("Unable to resolve log source: "+e.message)}}return r},y.prototype.submitLog=function(e,t,n,r){this.createLog(e,t,n).submit(r)},y.prototype.createNotFound=function(e){return this.createEvent().setType("404").setSource(e)},y.prototype.submitNotFound=function(e,t){this.createNotFound(e).submit(t)},y.prototype.createSessionStart=function(){return this.createEvent().setType("session")},y.prototype.submitSessionStart=function(e){this.createSessionStart().submit(e)},y.prototype.submitSessionEnd=function(e){e&&this.config.enabled&&this.config.isValid&&(this.config.log.info("Submitting session end: "+e),this.config.submissionClient.sendHeartbeat(e,!0,this.config))},y.prototype.submitSessionHeartbeat=function(e){e&&this.config.enabled&&this.config.isValid&&(this.config.log.info("Submitting session heartbeat: "+e),this.config.submissionClient.sendHeartbeat(e,!1,this.config))},y.prototype.createEvent=function(e){return new G({date:new Date},this,e)},y.prototype.submitEvent=function(e,t,r){function n(e){return e&&(e.cancelled=!0),r&&r(e)}t=new q(this,e,t);return e?this.config.enabled&&this.config.isValid?(e.data||(e.data={}),e.tags&&e.tags.length||(e.tags=[]),void u.run(t,function(e){var t=e.client.config,n=e.event;e.cancelled||(n.type&&0!==n.type.length||(n.type="log"),n.date||(n.date=new Date),t.queue.enqueue(n),n.reference_id&&0<n.reference_id.length&&(e.log.info("Setting last reference id '"+n.reference_id+"'"),t.lastReferenceIdManager.setLast(n.reference_id))),r&&r(e)})):(this.config.log.info("Event submission is currently disabled."),n(t)):n(t)},y.prototype.updateUserEmailAndDescription=function(t,e,n,r){var a=this;if(!(t&&e&&n&&this.config.enabled&&this.config.isValid))return r&&r(new b(500,"cancelled"));this.config.submissionClient.postUserDescription(t,{email_address:e,description:n},this.config,function(e){e.success||a.config.log.error("Failed to submit user email and description for event '"+t+"': "+e.statusCode+" "+e.message),r&&r(e)})},y.prototype.getLastReferenceId=function(){return this.config.lastReferenceIdManager.getLast()},y.prototype.updateSettingsTimer=function(e){var t,n=this,r=(this._timeoutId=clearTimeout(this._timeoutId),this._timeoutId=clearInterval(this._intervalId),this.config.updateSettingsWhenIdleInterval);0<r?(this.config.log.info("Update settings every "+r+"ms ("+(e||0)+"ms delay)"),t=function(){return g.updateSettings(n.config)},0<e&&(this._timeoutId=setTimeout(t,e)),this._intervalId=setInterval(t,r)):this.config.log.info("Turning off update settings")},Object.defineProperty(y,"default",{get:function(){return y._instance=null===y._instance?new y(null):y._instance},enumerable:!1,configurable:!0}),y._instance=null,y);function y(e,t){var n=this;this.config=new k("object"==typeof e?e:{apiKey:e,serverUrl:t}),this.updateSettingsTimer(5e3),this.config.onChanged(function(){return n.updateSettingsTimer(0<n._timeoutId?5e3:0)}),this.config.queue.onEventsPosted(function(){return n.updateSettingsTimer()})}e.ExceptionlessClient=W;w.prototype.setException=function(e){e&&(this["@@_Exception"]=e)},Object.defineProperty(w.prototype,"hasException",{get:function(){return!!this["@@_Exception"]},enumerable:!1,configurable:!0}),w.prototype.getException=function(){return this["@@_Exception"]||null},w.prototype.markAsUnhandledError=function(){this["@@_IsUnhandledError"]=!0},Object.defineProperty(w.prototype,"isUnhandledError",{get:function(){return!!this["@@_IsUnhandledError"]},enumerable:!1,configurable:!0}),w.prototype.setSubmissionMethod=function(e){e&&(this["@@_SubmissionMethod"]=e)},w.prototype.getSubmissionMethod=function(){return this["@@_SubmissionMethod"]||null};var $=w;function w(){}e.ContextData=$;Object.defineProperty(x.prototype,"apiKey",{get:function(){return this._apiKey},set:function(e){this._apiKey=e||null,this.log.info("apiKey: "+this._apiKey),this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isValid",{get:function(){return this.apiKey&&10<=this.apiKey.length},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"serverUrl",{get:function(){return this._serverUrl},set:function(e){e&&(this._serverUrl=e,this._configServerUrl=e,this._heartbeatServerUrl=e,this.log.info("serverUrl: "+e),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"configServerUrl",{get:function(){return this._configServerUrl},set:function(e){e&&(this._configServerUrl=e,this.log.info("configServerUrl: "+e),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"heartbeatServerUrl",{get:function(){return this._heartbeatServerUrl},set:function(e){e&&(this._heartbeatServerUrl=e,this.log.info("heartbeatServerUrl: "+e),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"updateSettingsWhenIdleInterval",{get:function(){return this._updateSettingsWhenIdleInterval},set:function(e){"number"==typeof e&&(e<=0?e=-1:0<e&&e<12e4&&(e=12e4),this._updateSettingsWhenIdleInterval=e,this.log.info("updateSettingsWhenIdleInterval: "+e),this.changed())},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"dataExclusions",{get:function(){var e=this.settings["@@DataExclusions"];return this._dataExclusions.concat(e&&e.split(",")||[])},enumerable:!1,configurable:!0}),x.prototype.addDataExclusions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._dataExclusions=h.addRange.apply(h,n([this._dataExclusions],e))},Object.defineProperty(x.prototype,"includePrivateInformation",{get:function(){return this._includePrivateInformation},set:function(e){e=e||!1;this._includePrivateInformation=e,this._includeUserName=e,this._includeMachineName=e,this._includeIpAddress=e,this._includeCookies=e,this._includePostData=e,this._includeQueryString=e,this.log.info("includePrivateInformation: "+e),this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"includeUserName",{get:function(){return this._includeUserName},set:function(e){this._includeUserName=e||!1,this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"includeMachineName",{get:function(){return this._includeMachineName},set:function(e){this._includeMachineName=e||!1,this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"includeIpAddress",{get:function(){return this._includeIpAddress},set:function(e){this._includeIpAddress=e||!1,this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"includeCookies",{get:function(){return this._includeCookies},set:function(e){this._includeCookies=e||!1,this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"includePostData",{get:function(){return this._includePostData},set:function(e){this._includePostData=e||!1,this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"includeQueryString",{get:function(){return this._includeQueryString},set:function(e){this._includeQueryString=e||!1,this.changed()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"userAgentBotPatterns",{get:function(){var e=this.settings["@@UserAgentBotPatterns"];return this._userAgentBotPatterns.concat(e&&e.split(",")||[])},enumerable:!1,configurable:!0}),x.prototype.addUserAgentBotPatterns=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userAgentBotPatterns=h.addRange.apply(h,n([this._userAgentBotPatterns],e))},Object.defineProperty(x.prototype,"plugins",{get:function(){return this._plugins.sort(function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0})},enumerable:!1,configurable:!0}),x.prototype.addPlugin=function(e,t,n){var r=n?{name:e,priority:t,run:n}:e;if(r&&r.run){r.name||(r.name=h.guid()),r.priority||(r.priority=0);for(var a=!1,t=this._plugins,i=0,o=t;i<o.length;i++)if(o[i].name===r.name){a=!0;break}a||t.push(r)}else this.log.error("Add plugin failed: Run method not defined")},x.prototype.removePlugin=function(e){var t="string"==typeof e?e:e.name;if(t){for(var n=this._plugins,r=0;r<n.length;r++)if(n[r].name===t){n.splice(r,1);break}}else this.log.error("Remove plugin failed: Plugin name not defined")},x.prototype.setVersion=function(e){e&&(this.defaultData["@version"]=e)},x.prototype.setUserIdentity=function(e,t){e="string"!=typeof e?e:{identity:e,name:t},t=!e||!e.identity&&!e.name;t?delete this.defaultData["@user"]:this.defaultData["@user"]=e,this.log.info("user identity: "+(t?"null":e.identity))},Object.defineProperty(x.prototype,"userAgent",{get:function(){return"exceptionless-js/1.6.4"},enumerable:!1,configurable:!0}),x.prototype.useSessions=function(e,t){void 0===t&&(t=3e4),(e=void 0===e?!0:e)&&this.addPlugin(new z(t))},x.prototype.useReferenceIds=function(){this.addPlugin(new R)},x.prototype.useLocalStorage=function(){},x.prototype.useDebugLogger=function(){this.log=new s},x.prototype.onChanged=function(e){e&&this._handlers.push(e)},x.prototype.changed=function(){for(var e=0,t=this._handlers;e<t.length;e++){var n=t[e];try{n(this)}catch(e){this.log.error("Error calling onChanged handler: "+e)}}},Object.defineProperty(x,"defaults",{get:function(){return x._defaultSettings=null===x._defaultSettings?{includePrivateInformation:!0}:x._defaultSettings},enumerable:!1,configurable:!0}),x._defaultSettings=null;var k=x;function x(e){function t(e){return"function"==typeof e?e(this):e}this.defaultTags=[],this.defaultData={},this.enabled=!0,this.lastReferenceIdManager=new i,this.settings={},this._serverUrl="https://collector.exceptionless.io",this._configServerUrl="https://config.exceptionless.io",this._heartbeatServerUrl="https://heartbeat.exceptionless.io",this._updateSettingsWhenIdleInterval=12e4,this._dataExclusions=[],this._userAgentBotPatterns=[],this._plugins=[],this._handlers=[],e=h.merge(x.defaults,e),this.log=t(e.log)||new F,this.apiKey=e.apiKey,this.serverUrl=e.serverUrl,this.configServerUrl=e.configServerUrl,this.heartbeatServerUrl=e.heartbeatServerUrl,this.updateSettingsWhenIdleInterval=e.updateSettingsWhenIdleInterval,this.includePrivateInformation=e.includePrivateInformation,this.environmentInfoCollector=t(e.environmentInfoCollector),this.errorParser=t(e.errorParser),this.lastReferenceIdManager=t(e.lastReferenceIdManager)||new i,this.moduleCollector=t(e.moduleCollector),this.requestInfoCollector=t(e.requestInfoCollector),this.submissionBatchSize=t(e.submissionBatchSize)||50,this.submissionAdapter=t(e.submissionAdapter),this.submissionClient=t(e.submissionClient)||new B,this.storage=t(e.storage)||new Y,this.queue=t(e.queue)||new V(this),g.applySavedServerSettings(this),u.addDefaultPlugins(this)}e.Configuration=k;var S=function(e,t,n,r,a){void 0===n&&(n=-1),void 0===r&&(r=null),void 0===a&&(a=null),this.success=!1,this.settingsVersion=-1,this.success=e,this.settings=t,this.settingsVersion=n,this.exception=r,this.message=a},G=(e.SettingsResponse=S,_.prototype.setType=function(e){return e&&(this.target.type=e),this},_.prototype.setSource=function(e){return e&&(this.target.source=e),this},_.prototype.setReferenceId=function(e){if(this.isValidIdentifier(e))return this.target.reference_id=e,this;throw new Error("ReferenceId "+this._validIdentifierErrorMessage)},_.prototype.setEventReference=function(e,t){if(!e)throw new Error("Invalid name");if(t&&this.isValidIdentifier(t))return this.setProperty("@ref:"+e,t),this;throw new Error("Id "+this._validIdentifierErrorMessage)},_.prototype.setMessage=function(e){return e&&(this.target.message=e),this},_.prototype.setGeo=function(e,t){if(e<-90||90<e)throw new Error("Must be a valid latitude value between -90.0 and 90.0.");if(t<-180||180<t)throw new Error("Must be a valid longitude value between -180.0 and 180.0.");return this.target.geo=e+","+t,this},_.prototype.setUserIdentity=function(e,t){e="string"!=typeof e?e:{identity:e,name:t};return e&&(e.identity||e.name)&&this.setProperty("@user",e),this},_.prototype.setUserDescription=function(e,t){return e&&t&&this.setProperty("@user_description",{email_address:e,description:t}),this},_.prototype.setManualStackingInfo=function(e,t){return e&&(e={signature_data:e},t&&(e.title=t),this.setProperty("@stack",e)),this},_.prototype.setManualStackingKey=function(e,t){return e&&this.setManualStackingInfo({ManualStackingKey:e},t),this},_.prototype.setValue=function(e){return e&&(this.target.value=e),this},_.prototype.addTags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.target.tags=h.addRange.apply(h,n([this.target.tags],e)),this},_.prototype.setProperty=function(e,t,n,r){return e&&void 0!==t&&null!=t&&(this.target.data||(this.target.data={}),t=JSON.parse(h.stringify(t,this.client.config.dataExclusions.concat(r||[]),n)),h.isEmpty(t)||(this.target.data[e]=t)),this},_.prototype.markAsCritical=function(e){return e&&this.addTags("Critical"),this},_.prototype.addRequestInfo=function(e){return e&&(this.pluginContextData["@request"]=e),this},_.prototype.submit=function(e){this.client.submitEvent(this.target,this.pluginContextData,e)},_.prototype.isValidIdentifier=function(e){if(e){if(e.length<8||100<e.length)return!1;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(!(48<=n&&n<=57)&&!(65<=n&&n<=90||97<=n&&n<=122)&&!(45===n))return!1}}return!0},_);function _(e,t,n){this._validIdentifierErrorMessage="must contain between 8 and 100 alphanumeric or '-' characters.",this.target=e,this.client=t,this.pluginContextData=n||new $}e.EventBuilder=G;X.prototype.run=function(e,t){for(var n=e.client.config,r=0,a=n.defaultTags||[];r<a.length;r++){var i=a[r];i&&e.event.tags.indexOf(i)<0&&e.event.tags.push(i)}var o,s,l=n.defaultData||{};for(o in l)l[o]&&(s=JSON.parse(h.stringify(l[o],n.dataExclusions)),h.isEmpty(s)||(e.event.data[o]=s));t&&t()};var K=X;function X(){this.priority=10,this.name="ConfigurationDefaultsPlugin"}e.ConfigurationDefaultsPlugin=K;Z.prototype.run=function(e,t){var n=this;var r=function(e){for(var t=0;e;)e.message&&e.message.length&&(t+=397*t^h.getHashCode(e.message)),e.stack_trace&&e.stack_trace.length&&(t+=397*t^h.getHashCode(JSON.stringify(e.stack_trace))),e=e.inner;return t}(e.event.data["@error"]);if(r){var a=e.event.count||1,i=this._getCurrentTime(),o=this._mergedEvents.filter(function(e){return e.hashCode===r})[0];if(o&&(o.incrementCount(a),o.updateDate(e.event.date),e.log.info("Ignoring duplicate event with hash: "+r),e.cancelled=!0),!e.cancelled&&this._processedHashcodes.some(function(e){return e.hash===r&&e.timestamp>=i-n._interval})&&(e.log.trace("Adding event with hash: "+r),this._mergedEvents.push(new Q(r,e,a)),e.cancelled=!0),!e.cancelled)for(e.log.trace("Enqueueing event with hash: "+r+"to cache."),this._processedHashcodes.push({hash:r,timestamp:i});50<this._processedHashcodes.length;)this._processedHashcodes.shift()}t&&t()};var J=Z;function Z(e,t){var n=this;void 0===e&&(e=function(){return Date.now()}),void 0===t&&(t=3e4),this.priority=1010,this.name="DuplicateCheckerPlugin",this._mergedEvents=[],this._processedHashcodes=[],this._getCurrentTime=e,this._interval=t,setInterval(function(){for(;0<n._mergedEvents.length;)n._mergedEvents.shift().resubmit()},t)}e.DuplicateCheckerPlugin=J;C.prototype.incrementCount=function(e){this._count+=e},C.prototype.resubmit=function(){this._context.event.count=this._count,this._context.client.config.queue.enqueue(this._context.event)},C.prototype.updateDate=function(e){e>this._context.event.date&&(this._context.event.date=e)};var Q=C;function C(e,t,n){this.hashCode=e,this._context=t,this._count=n}te.prototype.run=function(e,t){var n="@environment",r=e.client.config.environmentInfoCollector;!e.event.data[n]&&r&&(r=r.getEnvironmentInfo(e))&&(e.event.data[n]=r),t&&t()};var ee=te;function te(){this.priority=80,this.name="EnvironmentInfoPlugin"}e.EnvironmentInfoPlugin=ee;re.prototype.run=function(e,t){var n=e.contextData.getException();if(n&&(e.event.type="error",!e.event.data["@error"])){var r=e.client.config,a=r.errorParser;if(!a)throw new Error("No error parser was defined.");a=a.parse(e,n);a&&(n=JSON.parse(h.stringify(n,r.dataExclusions.concat(["arguments","column","columnNumber","description","fileName","message","name","number","line","lineNumber","opera#sourceloc","sourceId","sourceURL","stack","stackArray","stacktrace"]))),h.isEmpty(n)||(a.data||(a.data={}),a.data["@ext"]=n),e.event.data["@error"]=a)}t&&t()};var ne=re;function re(){this.priority=30,this.name="ErrorPlugin"}e.ErrorPlugin=ne;E.prototype.run=function(e,t){var n=e.event,r=e.log,a=e.client.config.settings;if("log"===n.type){var i=this.getMinLogLevel(a,n.source),o=this.getLogLevel(n.data["@level"]);-1!==o&&(6===o||o<i)&&(r.info("Cancelling log event due to minimum log level."),e.cancelled=!0)}else if("error"===n.type)for(var s=n.data["@error"];!e.cancelled&&s;)!1===this.getTypeAndSourceSetting(a,n.type,s.type,!0)&&(r.info("Cancelling error from excluded exception type: "+s.type),e.cancelled=!0),s=s.inner;else!1===this.getTypeAndSourceSetting(a,n.type,n.source,!0)&&(r.info("Cancelling event from excluded type: "+n.type+" and source: "+n.source),e.cancelled=!0);t&&t()},E.prototype.getLogLevel=function(e){switch((e||"").toLowerCase().trim()){case"trace":case"true":case"1":case"yes":return 0;case"debug":return 1;case"info":return 2;case"warn":return 3;case"error":return 4;case"fatal":return 5;case"off":case"false":case"0":case"no":return 6;default:return-1}},E.prototype.getMinLogLevel=function(e,t){return this.getLogLevel(this.getTypeAndSourceSetting(e,"log",t,"other")+"")},E.prototype.getTypeAndSourceSetting=function(e,t,n,r){if(void 0===e&&(e={}),t){var a="log"===t,i="@@"+t+":",t=e[i+(n=n||"")];if(t)return a?t:h.toBoolean(t);var o,s=Object.keys(e).sort(function(e,t){return t.length-e.length||e.localeCompare(t)});for(o in s){var l=s[o];if(h.startsWith(l.toLowerCase(),i)){var c=l.substring(i.length);if(h.isMatch(n,[c]))return a?e[l]:h.toBoolean(e[l])}}}return r};var ae=E;function E(){this.priority=45,this.name="EventExclusionPlugin"}e.EventExclusionPlugin=ae;oe.prototype.run=function(e,t){var n=e.client.config.moduleCollector;e.event.data["@error"]&&!e.event.data["@error"].modules&&n&&(n=n.getModules())&&0<n.length&&(e.event.data["@error"].modules=n),t&&t()};var ie=oe;function oe(){this.priority=50,this.name="ModuleInfoPlugin"}e.ModuleInfoPlugin=ie;le.prototype.run=function(e,t){var n="@request",r=e.client.config,a=r.requestInfoCollector;!e.event.data[n]&&a&&(a=a.getRequestInfo(e))&&(h.isMatch(a.user_agent,r.userAgentBotPatterns)?(e.log.info("Cancelling event as the request user agent matches a known bot pattern"),e.cancelled=!0):e.event.data[n]=a),t&&t()};var se=le;function le(){this.priority=70,this.name="RequestInfoPlugin"}e.RequestInfoPlugin=se;ue.prototype.run=function(e,t){var n=e.contextData.getSubmissionMethod();n&&(e.event.data["@submission_method"]=n),t&&t()};var ce=ue;function ue(){this.priority=100,this.name="SubmissionMethodPlugin"}e.SubmissionMethodPlugin=ce;P.prototype.save=function(e){var t,n;return e?(t=this.items,n=Math.max(Date.now(),this.lastTimestamp+1),t.push(e={timestamp:n,value:e})>this.maxItems&&t.shift(),this.lastTimestamp=n,e.timestamp):null},P.prototype.get=function(e){return this.items.slice(0,e)},P.prototype.remove=function(e){for(var t=this.items,n=0;n<t.length;n++)if(t[n].timestamp===e)return void t.splice(n,1)},P.prototype.clear=function(){this.items=[]};var T=P;function P(e){this.items=[],this.lastTimestamp=0,this.maxItems=e}e.InMemoryStorage=T;M.prototype.save=function(e){if(!e)return null;this.ensureIndex();var t=this.items,n=Math.max(Date.now(),this.lastTimestamp+1),r=this.getKey(n),e=JSON.stringify(e);try{this.write(r,e),this.lastTimestamp=n,t.push(n)>this.maxItems&&this.delete(this.getKey(t.shift()))}catch(e){return null}return n},M.prototype.get=function(e){var r=this;return this.ensureIndex(),this.items.slice(0,e).map(function(e){var t=r.getKey(e);try{var n=r.read(t);return{timestamp:e,value:JSON.parse(n,de)}}catch(e){return r.safeDelete(t),null}}).filter(function(e){return null!=e})},M.prototype.remove=function(e){this.ensureIndex();var t=this.items,n=t.indexOf(e);0<=n&&(e=this.getKey(e),this.safeDelete(e),t.splice(n,1))},M.prototype.clear=function(){var t=this;this.items.forEach(function(e){return t.safeDelete(t.getKey(e))}),this.items=[]},M.prototype.ensureIndex=function(){this.items||(this.items=this.createIndex(),this.lastTimestamp=Math.max.apply(Math,n([0],this.items))+1)},M.prototype.safeDelete=function(e){try{this.delete(e)}catch(e){}},M.prototype.createIndex=function(){var n=this;try{return this.readAllKeys().map(function(t){try{var e=n.getTimestamp(t);return e?e:(n.safeDelete(t),null)}catch(e){return n.safeDelete(t),null}}).filter(function(e){return null!=e}).sort(function(e,t){return e-t})}catch(e){return[]}};var D=M;function M(e){this.lastTimestamp=0,this.maxItems=e}function de(e,t){if("string"==typeof t&&/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/g.exec(t))return new Date(t);return t}e.KeyValueStorageBase=D;t(O,pe=D),O.isAvailable=function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},O.prototype.write=function(e,t){window.localStorage.setItem(e,t)},O.prototype.read=function(e){return window.localStorage.getItem(e)},O.prototype.readAllKeys=function(){var t=this;return Object.keys(window.localStorage).filter(function(e){return 0===e.indexOf(t.prefix)})},O.prototype.delete=function(e){window.localStorage.removeItem(e)},O.prototype.getKey=function(e){return this.prefix+e},O.prototype.getTimestamp=function(e){return parseInt(e.substr(this.prefix.length),10)};var pe,A=O;function O(e,t,n){void 0===t&&(t="com.exceptionless.");n=pe.call(this,n=void 0===n?20:n)||this;return n.prefix=t+e+"-",n}e.BrowserStorage=A;fe.prototype.parse=function(e,t){var n="@@_TraceKit.StackTrace",e=e.contextData[n]||r.computeStackTrace(t,25);if(e)return{type:e.name||"Error",message:e.message||t.message||("string"==typeof t?t:void 0),stack_trace:function(e){for(var t="<anonymous>",n=[],r=0,a=e;r<a.length;r++){var i=a[r];n.push({name:(i.func||t).replace("?",t),parameters:function(e){for(var t=[],n=0,r=("string"==typeof e?[e]:e)||[];n<r.length;n++){var a=r[n];t.push({name:a})}return t}(i.args),file_name:i.url,line_number:i.line||0,column:i.column||0})}return n}(e.stack||[])};throw new Error("Unable to parse the exceptions stack trace.")};t=fe;function fe(){}e.DefaultErrorParser=t;he.prototype.getModules=function(){if(!document||!document.getElementsByTagName)return null;var e=[],t=document.getElementsByTagName("script");if(t&&0<t.length)for(var n=0;n<t.length;n++)t[n].src?e.push({module_id:n,name:t[n].src.split("?")[0],version:h.parseVersion(t[n].src)}):t[n].innerHTML&&e.push({module_id:n,name:"Script Tag",version:h.getHashCode(t[n].innerHTML).toString()});return e};D=he;function he(){}e.DefaultModuleCollector=D;ge.prototype.getRequestInfo=function(e){var t,n;return document&&navigator&&location?(t=(e=e.client.config).dataExclusions,n={user_agent:navigator.userAgent,is_secure:"https:"===location.protocol,host:location.hostname,port:location.port&&""!==location.port?parseInt(location.port,10):80,path:location.pathname},e.includeCookies&&(n.cookies=h.getCookies(document.cookie,t)),e.includeQueryString&&(n.query_string=h.parseQueryString(location.search.substring(1),t)),document.referrer&&""!==document.referrer&&(n.referrer=document.referrer),n):null};var me=ge;function ge(){}e.DefaultRequestInfoCollector=me;var I,N,ve=function(e,t){this.queue=new A("q",e,t=void 0===t?250:t),this.settings=new A("settings",e,1)},be=(e.BrowserStorageProvider=ve,ye.prototype.sendRequest=function(i,o,e){var s="timeout",l="loaded",t="withCredentials",c=!1,n=!1;function r(e,t){if(!c){c=!0;var n=t.statusText,r=t.responseText,a=t.status;if(e===s||0===a)n="Unable to connect to server.",a=0;else if(e!==l||a){if(a<200||299<a){e=t.responseBody;if(e&&e.message)n=e.message;else if(r&&-1!==r.indexOf("message"))try{n=JSON.parse(r).message}catch(e){n=r}}}else a="POST"===i.method?202:200;o&&o(a||500,n||"",r,function(e){for(var t={},n=0,r=(e||"").split("\r\n");n<r.length;n++){var a=r[n],i=a.indexOf(": ");0<i&&(t[a.substring(0,i).toLowerCase().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")]=a.substring(i+2))}return t}(t.getAllResponseHeaders&&t.getAllResponseHeaders()))}}var a,u,d,p=""+i.url+(-1===i.url.indexOf("?")?"?":"&")+"access_token="+encodeURIComponent(i.apiKey),f=(a=i.userAgent,u=i.method||"POST",p=p,d=new XMLHttpRequest,t in d?(d.open(u,p,!0),d.setRequestHeader("X-Exceptionless-Client",a),"POST"===u&&d.setRequestHeader("Content-Type","application/json")):"undefined"!=typeof XDomainRequest?(n=!0,(d=new XDomainRequest).open(u,"http:"===location.protocol?p.replace("https:","http:"):p)):d=null,d&&(d.timeout=1e4),d);if(!f)return o&&o(503,"CORS not supported.");t in f&&(f.onreadystatechange=function(){4===f.readyState&&r(l,f)}),f.onprogress=function(){},f.ontimeout=function(){return r(s,f)},f.onerror=function(){return r("error",f)},f.onload=function(){return r(l,f)},n?setTimeout(function(){return f.send(i.data)},500):f.send(i.data)},ye);function ye(){}return e.DefaultSubmissionAdapter=be,"undefined"!=typeof document&&(k.prototype.useLocalStorage=function(){A.isAvailable()&&(this.storage=new ve,g.applySavedServerSettings(this),this.changed())},I=k.defaults,(N=function(){if(document&&document.getElementsByTagName)for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(e[t].src&&-1<e[t].src.indexOf("/exceptionless"))return h.parseQueryString(e[t].src.split("?").pop());return null}())&&(N.apiKey&&(I.apiKey=N.apiKey),N.serverUrl&&(I.serverUrl=N.serverUrl),"string"==typeof N.includePrivateInformation)&&(I.includePrivateInformation="false"!==N.includePrivateInformation),I.errorParser=new t,I.moduleCollector=new D,I.requestInfoCollector=new me,I.submissionAdapter=new be,r.report.subscribe(function(e,t){(t=W.default.createUnhandledException(new Error(e.message||(t||{}).status||"Script error"),"onerror")).pluginContextData["@@_TraceKit.StackTrace"]=e,t.submit()}),r.extendToAsynchronousCallbacks(),Error.stackTraceLimit=1/0),e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var j;function m(){return j.apply(null,arguments)}function g(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function F(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(p(e,t))return;return 1}function v(e){return void 0===e}function b(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function L(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function R(e,t){for(var n=[],r=e.length,a=0;a<r;++a)n.push(t(e[a],a));return n}function U(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return Mt(e,t,n,r,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function q(e){if(null==e._isValid){var t=y(e),n=V.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function H(e){var t=c(NaN);return null!=e?U(y(t),e):y(t).userInvalidated=!0,t}var V=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1},Y=m.momentProperties=[],B=!1;function W(e,t){var n,r,a,i=Y.length;if(v(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),v(t._i)||(e._i=t._i),v(t._f)||(e._f=t._f),v(t._l)||(e._l=t._l),v(t._strict)||(e._strict=t._strict),v(t._tzm)||(e._tzm=t._tzm),v(t._isUTC)||(e._isUTC=t._isUTC),v(t._offset)||(e._offset=t._offset),v(t._pf)||(e._pf=y(t)),v(t._locale)||(e._locale=t._locale),0<i)for(n=0;n<i;n++)v(a=t[r=Y[n]])||(e[r]=a);return e}function G(e){W(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===B&&(B=!0,m.updateOffset(this),B=!1)}function $(e){return e instanceof G||null!=e&&null!=e._isAMomentObject}function K(e){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(i,o){var s=!0;return U(function(){if(null!=m.deprecationHandler&&m.deprecationHandler(null,i),s){for(var e,t,n=[],r=arguments.length,a=0;a<r;a++){if(e="","object"==typeof arguments[a]){for(t in e+="\n["+a+"] ",arguments[0])p(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[a];n.push(e)}K(i+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),s=!1}return o.apply(this,arguments)},o)}var X={};function J(e,t){null!=m.deprecationHandler&&m.deprecationHandler(e,t),X[e]||(K(t),X[e]=!0)}function o(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Z(e,t){var n,r=U({},e);for(n in t)p(t,n)&&(F(e[n])&&F(t[n])?(r[n]={},U(r[n],e[n]),U(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)p(e,n)&&!p(t,n)&&F(e[n])&&(r[n]=U({},r[n]));return r}function Q(e){null!=e&&this.set(e)}m.suppressDeprecationWarnings=!1,m.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};function i(e,t,n){var r=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-r.length)).toString().substr(1)+r}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,re={},ae={};function r(e,t,n,r){var a="string"==typeof r?function(){return this[r]()}:r;e&&(ae[e]=a),t&&(ae[t[0]]=function(){return i(a.apply(this,arguments),t[1],t[2])}),n&&(ae[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function ie(e,t){return e.isValid()?(t=oe(t,e.localeData()),re[t]=re[t]||function(r){for(var e,a=r.match(te),t=0,i=a.length;t<i;t++)ae[a[t]]?a[t]=ae[a[t]]:a[t]=(e=a[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<i;n++)t+=o(a[n])?a[n].call(e,r):a[n];return t}}(t),re[t](e)):e.localeData().invalidDate()}function oe(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,r),ne.lastIndex=0,--n;return e}var se={};function t(e,t){var n=e.toLowerCase();se[n]=se[n+"s"]=se[t]=e}function s(e){return"string"==typeof e?se[e]||se[e.toLowerCase()]:void 0}function le(e){var t,n,r={};for(n in e)p(e,n)&&(t=s(n))&&(r[t]=e[n]);return r}var ce={};function n(e,t){ce[e]=t}function ue(e){return e%4==0&&e%100!=0||e%400==0}function d(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function u(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?d(e):t}function de(t,n){return function(e){return null!=e?(fe(this,t,e),m.updateOffset(this,n),this):pe(this,t)}}function pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=u(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Oe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var a=/\d/,l=/\d\d/,he=/\d{3}/,me=/\d{4}/,ge=/[+-]?\d{6}/,f=/\d\d?/,ve=/\d\d\d\d?/,be=/\d\d\d\d\d\d?/,ye=/\d{1,3}/,$e=/\d{1,4}/,we=/[+-]?\d{1,6}/,ke=/\d+/,xe=/[+-]?\d+/,Se=/Z|[+-]\d\d:?\d\d/gi,_e=/Z|[+-]\d\d(?::?\d\d)?/gi,h=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function w(e,n,r){Ee[e]=o(n)?n:function(e,t){return e&&r?r:n}}function Ce(e,t){return p(Ee,e)?Ee[e](t._strict,t._locale):new RegExp(k(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a})))}function k(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ee={},Te={};function x(e,n){var t,r,a=n;for("string"==typeof e&&(e=[e]),b(n)&&(a=function(e,t){t[n]=u(e)}),r=e.length,t=0;t<r;t++)Te[e[t]]=a}function Pe(e,a){x(e,function(e,t,n,r){n._w=n._w||{},a(e,n._w,n,r)})}var S,_=0,C=1,E=2,T=3,P=4,D=5,De=6,Me=7,Ae=8;function Oe(e,t){var n;return isNaN(e)||isNaN(t)?NaN:(n=(t%(n=12)+n)%n,e+=(t-n)/12,1==n?ue(e)?29:28:31-n%7%2)}S=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},r("M",["MM",2],"Mo",function(){return this.month()+1}),r("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),r("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),w("M",f),w("MM",f,l),w("MMM",function(e,t){return t.monthsShortRegex(e)}),w("MMMM",function(e,t){return t.monthsRegex(e)}),x(["M","MM"],function(e,t){t[C]=u(e)-1}),x(["MMM","MMMM"],function(e,t,n,r){r=n._locale.monthsParse(e,r,n._strict);null!=r?t[C]=r:y(n).invalidMonth=e});var Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fe=h,ze=h;function Le(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=u(t);else if(!b(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),Oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Re(e){return null!=e?(Le(this,e),m.updateOffset(this,!0),this):pe(this,"Month")}function Ue(){function e(e,t){return t.length-e.length}for(var t,n=[],r=[],a=[],i=0;i<12;i++)t=c([2e3,i]),n.push(this.monthsShort(t,"")),r.push(this.months(t,"")),a.push(this.months(t,"")),a.push(this.monthsShort(t,""));for(n.sort(e),r.sort(e),a.sort(e),i=0;i<12;i++)n[i]=k(n[i]),r[i]=k(r[i]);for(i=0;i<24;i++)a[i]=k(a[i]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function qe(e){return ue(e)?366:365}r("Y",0,0,function(){var e=this.year();return e<=9999?i(e,4):"+"+e}),r(0,["YY",2],0,function(){return this.year()%100}),r(0,["YYYY",4],0,"year"),r(0,["YYYYY",5],0,"year"),r(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),w("Y",xe),w("YY",f,l),w("YYYY",$e,me),w("YYYYY",we,ge),w("YYYYYY",we,ge),x(["YYYYY","YYYYYY"],_),x("YYYY",function(e,t){t[_]=2===e.length?m.parseTwoDigitYear(e):u(e)}),x("YY",function(e,t){t[_]=m.parseTwoDigitYear(e)}),x("Y",function(e,t){t[_]=parseInt(e,10)}),m.parseTwoDigitYear=function(e){return u(e)+(68<u(e)?1900:2e3)};var He=de("FullYear",!0);function Ve(e,t,n,r,a,i,o){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,r,a,i,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,a,i,o),s}function Ye(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Be(e,t,n){n=7+t-n;return n-(7+Ye(e,0,n).getUTCDay()-t)%7-1}function We(e,t,n,r,a){var i,t=1+7*(t-1)+(7+n-r)%7+Be(e,r,a),n=t<=0?qe(i=e-1)+t:t>qe(e)?(i=e+1,t-qe(e)):(i=e,t);return{year:i,dayOfYear:n}}function Ge(e,t,n){var r,a,i=Be(e.year(),t,n),i=Math.floor((e.dayOfYear()-i-1)/7)+1;return i<1?r=i+M(a=e.year()-1,t,n):i>M(e.year(),t,n)?(r=i-M(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function M(e,t,n){var r=Be(e,t,n),t=Be(e+1,t,n);return(qe(e)-r+t)/7}r("w",["ww",2],"wo","week"),r("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),w("w",f),w("ww",f,l),w("W",f),w("WW",f,l),Pe(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=u(e)});function Ke(e,t){return e.slice(t,7).concat(e.slice(0,t))}r("d",0,"do","day"),r("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),r("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),r("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),r("e",0,0,"weekday"),r("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),w("d",f),w("e",f),w("E",f),w("dd",function(e,t){return t.weekdaysMinRegex(e)}),w("ddd",function(e,t){return t.weekdaysShortRegex(e)}),w("dddd",function(e,t){return t.weekdaysRegex(e)}),Pe(["dd","ddd","dddd"],function(e,t,n,r){r=n._locale.weekdaysParse(e,r,n._strict);null!=r?t.d=r:y(n).invalidWeekday=e}),Pe(["d","e","E"],function(e,t,n,r){t[r]=u(e)});var Xe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Qe=h,et=h,tt=h;function nt(){function e(e,t){return t.length-e.length}for(var t,n,r,a=[],i=[],o=[],s=[],l=0;l<7;l++)r=c([2e3,1]).day(l),t=k(this.weekdaysMin(r,"")),n=k(this.weekdaysShort(r,"")),r=k(this.weekdays(r,"")),a.push(t),i.push(n),o.push(r),s.push(t),s.push(n),s.push(r);a.sort(e),i.sort(e),o.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function rt(){return this.hours()%12||12}function at(e,t){r(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function it(e,t){return t._meridiemParse}r("H",["HH",2],0,"hour"),r("h",["hh",2],0,rt),r("k",["kk",2],0,function(){return this.hours()||24}),r("hmm",0,0,function(){return""+rt.apply(this)+i(this.minutes(),2)}),r("hmmss",0,0,function(){return""+rt.apply(this)+i(this.minutes(),2)+i(this.seconds(),2)}),r("Hmm",0,0,function(){return""+this.hours()+i(this.minutes(),2)}),r("Hmmss",0,0,function(){return""+this.hours()+i(this.minutes(),2)+i(this.seconds(),2)}),at("a",!0),at("A",!1),t("hour","h"),n("hour",13),w("a",it),w("A",it),w("H",f),w("h",f),w("k",f),w("HH",f,l),w("hh",f,l),w("kk",f,l),w("hmm",ve),w("hmmss",be),w("Hmm",ve),w("Hmmss",be),x(["H","HH"],T),x(["k","kk"],function(e,t,n){e=u(e);t[T]=24===e?0:e}),x(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),x(["h","hh"],function(e,t,n){t[T]=u(e),y(n).bigHour=!0}),x("hmm",function(e,t,n){var r=e.length-2;t[T]=u(e.substr(0,r)),t[P]=u(e.substr(r)),y(n).bigHour=!0}),x("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[T]=u(e.substr(0,r)),t[P]=u(e.substr(r,2)),t[D]=u(e.substr(a)),y(n).bigHour=!0}),x("Hmm",function(e,t,n){var r=e.length-2;t[T]=u(e.substr(0,r)),t[P]=u(e.substr(r))}),x("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[T]=u(e.substr(0,r)),t[P]=u(e.substr(r,2)),t[D]=u(e.substr(a))});h=de("Hours",!0);var ot,st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Xe,weekdaysMin:Ze,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},A={},lt={};function ct(e){return e&&e.toLowerCase().replace("_","-")}function ut(e){for(var t,n,r,a,i=0;i<e.length;){for(t=(a=ct(e[i]).split("-")).length,n=(n=ct(e[i+1]))?n.split("-"):null;0<t;){if(r=dt(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}(a,n)>=t-1)break;t--}i++}return ot}function dt(t){var e;if(void 0===A[t]&&"undefined"!=typeof module&&module&&module.exports&&null!=t.match("^[^/\\\\]*$"))try{e=ot._abbr,require("./locale/"+t),pt(e)}catch(e){A[t]=null}return A[t]}function pt(e,t){return e&&((t=v(t)?ht(e):ft(e,t))?ot=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function ft(e,t){if(null===t)return delete A[e],null;var n,r=st;if(t.abbr=e,null!=A[e])J("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=A[e]._config;else if(null!=t.parentLocale)if(null!=A[t.parentLocale])r=A[t.parentLocale]._config;else{if(null==(n=dt(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return A[e]=new Q(Z(r,t)),lt[e]&&lt[e].forEach(function(e){ft(e.name,e.config)}),pt(e),A[e]}function ht(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return ot;if(!g(e)){if(t=dt(e))return t;e=[e]}return ut(e)}function mt(e){var t=e._a;return t&&-2===y(e).overflow&&(t=t[C]<0||11<t[C]?C:t[E]<1||t[E]>Oe(t[_],t[C])?E:t[T]<0||24<t[T]||24===t[T]&&(0!==t[P]||0!==t[D]||0!==t[De])?T:t[P]<0||59<t[P]?P:t[D]<0||59<t[D]?D:t[De]<0||999<t[De]?De:-1,y(e)._overflowDayOfYear&&(t<_||E<t)&&(t=E),y(e)._overflowWeeks&&-1===t&&(t=Me),y(e)._overflowWeekday&&-1===t&&(t=Ae),y(e).overflow=t),e}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wt=/^\/?Date\((-?\d+)/i,kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,r,a,i,o,s=e._i,l=gt.exec(s)||vt.exec(s),s=yt.length,c=$t.length;if(l){for(y(e).iso=!0,t=0,n=s;t<n;t++)if(yt[t][1].exec(l[1])){a=yt[t][0],r=!1!==yt[t][2];break}if(null==a)e._isValid=!1;else{if(l[3]){for(t=0,n=c;t<n;t++)if($t[t][1].exec(l[3])){i=(l[2]||" ")+$t[t][0];break}if(null==i)return void(e._isValid=!1)}if(r||null==i){if(l[4]){if(!bt.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=a+(i||"")+(o||""),Pt(e)}else e._isValid=!1}}else e._isValid=!1}function _t(e,t,n,r,a,i){e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ne.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&e.push(parseInt(i,10)),e}function Ct(e){var t,n,r=kt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));r?(t=_t(r[4],r[3],r[2],r[5],r[6],r[7]),function(e,t,n){if(!e||Je.indexOf(e)===new Date(t[0],t[1],t[2]).getDay())return 1;y(n).weekdayMismatch=!0,n._isValid=!1}(r[1],t,e)&&(e._a=t,e._tzm=(t=r[8],n=r[9],r=r[10],t?xt[t]:n?0:60*(((t=parseInt(r,10))-(n=t%100))/100)+n),e._d=Ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0)):e._isValid=!1}function Et(e,t,n){return null!=e?e:null!=t?t:n}function Tt(e){var t,n,r,a,i,o,s,l,c,u,d,p=[];if(!e._d){for(r=e,a=new Date(m.now()),n=r._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()],e._w&&null==e._a[E]&&null==e._a[C]&&(null!=(a=(r=e)._w).GG||null!=a.W||null!=a.E?(l=1,c=4,i=Et(a.GG,r._a[_],Ge(O(),1,4).year),o=Et(a.W,1),((s=Et(a.E,1))<1||7<s)&&(u=!0)):(l=r._locale._week.dow,c=r._locale._week.doy,d=Ge(O(),l,c),i=Et(a.gg,r._a[_],d.year),o=Et(a.w,d.week),null!=a.d?((s=a.d)<0||6<s)&&(u=!0):null!=a.e?(s=a.e+l,(a.e<0||6<a.e)&&(u=!0)):s=l),o<1||o>M(i,l,c)?y(r)._overflowWeeks=!0:null!=u?y(r)._overflowWeekday=!0:(d=We(i,o,s,l,c),r._a[_]=d.year,r._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(a=Et(e._a[_],n[_]),(e._dayOfYear>qe(a)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),u=Ye(a,0,e._dayOfYear),e._a[C]=u.getUTCMonth(),e._a[E]=u.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=p[t]=n[t];for(;t<7;t++)e._a[t]=p[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[T]&&0===e._a[P]&&0===e._a[D]&&0===e._a[De]&&(e._nextDay=!0,e._a[T]=0),e._d=(e._useUTC?Ye:Ve).apply(null,p),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[T]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Pt(e){if(e._f===m.ISO_8601)St(e);else if(e._f===m.RFC_2822)Ct(e);else{e._a=[],y(e).empty=!0;for(var t,n,r,a,i,o=""+e._i,s=o.length,l=0,c=oe(e._f,e._locale).match(te)||[],u=c.length,d=0;d<u;d++)n=c[d],(t=(o.match(Ce(n,e))||[])[0])&&(0<(r=o.substr(0,o.indexOf(t))).length&&y(e).unusedInput.push(r),o=o.slice(o.indexOf(t)+t.length),l+=t.length),ae[n]?(t?y(e).empty=!1:y(e).unusedTokens.push(n),r=n,i=e,null!=(a=t)&&p(Te,r)&&Te[r](a,i._a,i,r)):e._strict&&!t&&y(e).unusedTokens.push(n);y(e).charsLeftOver=s-l,0<o.length&&y(e).unusedInput.push(o),e._a[T]<=12&&!0===y(e).bigHour&&0<e._a[T]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[T]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[T],e._meridiem),null!==(s=y(e).era)&&(e._a[_]=e._locale.erasConvertYear(s,e._a[_])),Tt(e),mt(e)}}function Dt(e){var t,n,r,a=e._i,i=e._f;if(e._locale=e._locale||ht(e._l),null===a||void 0===i&&""===a)return H({nullInput:!0});if("string"==typeof a&&(e._i=a=e._locale.preparse(a)),$(a))return new G(mt(a));if(L(a))e._d=a;else if(g(i)){var o,s,l,c,u,d,p=e,f=!1,h=p._f.length;if(0===h)y(p).invalidFormat=!0,p._d=new Date(NaN);else{for(c=0;c<h;c++)u=0,d=!1,o=W({},p),null!=p._useUTC&&(o._useUTC=p._useUTC),o._f=p._f[c],Pt(o),q(o)&&(d=!0),u=(u+=y(o).charsLeftOver)+10*y(o).unusedTokens.length,y(o).score=u,f?u<l&&(l=u,s=o):(null==l||u<l||d)&&(l=u,s=o,d)&&(f=!0);U(p,s||o)}}else if(i)Pt(e);else if(v(i=(a=e)._i))a._d=new Date(m.now());else L(i)?a._d=new Date(i.valueOf()):"string"==typeof i?(n=a,null!==(t=wt.exec(n._i))?n._d=new Date(+t[1]):(St(n),!1===n._isValid&&(delete n._isValid,Ct(n),!1===n._isValid)&&(delete n._isValid,n._strict?n._isValid=!1:m.createFromInputFallback(n)))):g(i)?(a._a=R(i.slice(0),function(e){return parseInt(e,10)}),Tt(a)):F(i)?(t=a)._d||(r=void 0===(n=le(t._i)).day?n.date:n.day,t._a=R([n.year,n.month,r,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),Tt(t)):b(i)?a._d=new Date(i):m.createFromInputFallback(a);return q(e)||(e._d=null),e}function Mt(e,t,n,r,a){var i={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(F(e)&&z(e)||g(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=r,(a=new G(mt(Dt(a=i))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function O(e,t,n,r){return Mt(e,t,n,r,!1)}m.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),m.ISO_8601=function(){},m.RFC_2822=function(){};ve=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=O.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:H()}),be=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=O.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:H()});function At(e,t){var n,r;if(!(t=1===t.length&&g(t[0])?t[0]:t).length)return O();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Ot=["year","quarter","month","week","day","hour","minute","second","millisecond"];function It(e){var e=le(e),t=e.year||0,n=e.quarter||0,r=e.month||0,a=e.week||e.isoWeek||0,i=e.day||0,o=e.hour||0,s=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(e){var t,n,r=!1,a=Ot.length;for(t in e)if(p(e,t)&&(-1===S.call(Ot,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<a;++n)if(e[Ot[n]]){if(r)return!1;parseFloat(e[Ot[n]])!==u(e[Ot[n]])&&(r=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*s+1e3*o*60*60,this._days=+i+7*a,this._months=+r+3*n+12*t,this._data={},this._locale=ht(),this._bubble()}function Nt(e){return e instanceof It}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){r(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+i(~~(e/60),2)+n+i(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),w("Z",_e),w("ZZ",_e),x(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(_e,e)});var zt=/([\+\-]|\d\d)/gi;function Lt(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(zt)||["-",0,0])[1]+u(e[2]))?0:"+"===e[0]?t:-t}function Rt(e,t){var n;return t._isUTC?(t=t.clone(),n=($(e)||L(e)?e:O(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),m.updateOffset(t,!1),t):O(e).local()}function Ut(e){return-Math.round(e._d.getTimezoneOffset())}function qt(){return!!this.isValid()&&this._isUTC&&0===this._offset}m.updateOffset=function(){};var Ht=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function I(e,t){var n,r=e;return Nt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:b(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(t=Ht.exec(e))?(n="-"===t[1]?-1:1,r={y:0,d:u(t[E])*n,h:u(t[T])*n,m:u(t[P])*n,s:u(t[D])*n,ms:u(jt(1e3*t[De]))*n}):(t=Vt.exec(e))?(n="-"===t[1]?-1:1,r={y:Yt(t[2],n),M:Yt(t[3],n),w:Yt(t[4],n),d:Yt(t[5],n),h:Yt(t[6],n),m:Yt(t[7],n),s:Yt(t[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(t=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Rt(t,e),e.isBefore(t)?n=Bt(e,t):((n=Bt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(O(r.from),O(r.to)),(r={}).ms=t.milliseconds,r.M=t.months),n=new It(r),Nt(e)&&p(e,"_locale")&&(n._locale=e._locale),Nt(e)&&p(e,"_isValid")&&(n._isValid=e._isValid),n}function Yt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Bt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(r,a){return function(e,t){var n;return null===t||isNaN(+t)||(J(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Gt(this,I(e,t),r),this}}function Gt(e,t,n,r){var a=t._milliseconds,i=jt(t._days),t=jt(t._months);e.isValid()&&(r=null==r||r,t&&Le(e,pe(e,"Month")+t*n),i&&fe(e,"Date",pe(e,"Date")+i*n),a&&e._d.setTime(e._d.valueOf()+a*n),r)&&m.updateOffset(e,i||t)}I.fn=It.prototype,I.invalid=function(){return I(NaN)};Ie=Wt(1,"add"),Xe=Wt(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function Xt(e){return $(e)||L(e)||Kt(e)||b(e)||function(t){var e=g(t),n=!1;e&&(n=0===t.filter(function(e){return!b(e)&&Kt(t)}).length);return e&&n}(e)||function(e){var t,n,r=F(e)&&!z(e),a=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o=i.length;for(t=0;t<o;t+=1)n=i[t],a=a||p(e,n);return r&&a}(e)||null==e}function Jt(e,t){var n,r;return e.date()<t.date()?-Jt(t,e):-((n=12*(t.year()-e.year())+(t.month()-e.month()))+(t-(r=e.clone().add(n,"months"))<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(1+n,"months")-r)))||0}function Zt(e){return void 0===e?this._locale._abbr:(null!=(e=ht(e))&&(this._locale=e),this)}m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Ze=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Qt(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function an(e,t){return t.erasAbbrRegex(e)}function on(){for(var e=[],t=[],n=[],r=[],a=this.eras(),i=0,o=a.length;i<o;++i)t.push(k(a[i].name)),e.push(k(a[i].abbr)),n.push(k(a[i].narrow)),r.push(k(a[i].name)),r.push(k(a[i].abbr)),r.push(k(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function sn(e,t){r(0,[e,e.length],0,t)}function ln(e,t,n,r,a){var i;return null==e?Ge(this,r,a).year:(i=M(e,r,a),function(e,t,n,r,a){e=We(e,t,n,r,a),t=Ye(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=i<t?i:t,n,r,a))}r("N",0,0,"eraAbbr"),r("NN",0,0,"eraAbbr"),r("NNN",0,0,"eraAbbr"),r("NNNN",0,0,"eraName"),r("NNNNN",0,0,"eraNarrow"),r("y",["y",1],"yo","eraYear"),r("y",["yy",2],0,"eraYear"),r("y",["yyy",3],0,"eraYear"),r("y",["yyyy",4],0,"eraYear"),w("N",an),w("NN",an),w("NNN",an),w("NNNN",function(e,t){return t.erasNameRegex(e)}),w("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),x(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){r=n._locale.erasParse(e,r,n._strict);r?y(n).era=r:y(n).invalidEra=e}),w("y",ke),w("yy",ke),w("yyy",ke),w("yyyy",ke),w("yo",function(e,t){return t._eraYearOrdinalRegex||ke}),x(["y","yy","yyy","yyyy"],_),x(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[_]=n._locale.eraYearOrdinalParse(e,a):t[_]=parseInt(e,10)}),r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),w("G",xe),w("g",xe),w("GG",f,l),w("gg",f,l),w("GGGG",$e,me),w("gggg",$e,me),w("GGGGG",we,ge),w("ggggg",we,ge),Pe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=u(e)}),Pe(["gg","GG"],function(e,t,n,r){t[r]=m.parseTwoDigitYear(e)}),r("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),w("Q",a),x("Q",function(e,t){t[C]=3*(u(e)-1)}),r("D",["DD",2],"Do","date"),t("date","D"),n("date",9),w("D",f),w("DD",f,l),w("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),x(["D","DD"],E),x("Do",function(e,t){t[E]=u(e.match(f)[0])});$e=de("Date",!0);r("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),w("DDD",ye),w("DDDD",he),x(["DDD","DDDD"],function(e,t,n){n._dayOfYear=u(e)}),r("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),w("m",f),w("mm",f,l),x(["m","mm"],P);var cn,me=de("Minutes",!1),we=(r("s",["ss",2],0,"second"),t("second","s"),n("second",15),w("s",f),w("ss",f,l),x(["s","ss"],D),de("Seconds",!1));for(r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),w("S",ye,a),w("SS",ye,l),w("SSS",ye,he),cn="SSSS";cn.length<=9;cn+="S")w(cn,ke);function un(e,t){t[De]=u(1e3*("0."+e))}for(cn="S";cn.length<=9;cn+="S")x(cn,un);ge=de("Milliseconds",!1),r("z",0,0,"zoneAbbr"),r("zz",0,0,"zoneName");a=G.prototype;function dn(e){return e}a.add=Ie,a.calendar=function(e,t){1===arguments.length&&(arguments[0]?Xt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=F(e)&&!z(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a=0;a<r.length;a+=1)n=n||p(e,r[a]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||O(),n=Rt(e,this).startOf("day"),n=m.calendarFormat(this,n)||"sameElse",t=t&&(o(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,O(e)))},a.clone=function(){return new G(this)},a.diff=function(e,t,n){var r,a,i;if(!this.isValid())return NaN;if(!(r=Rt(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=s(t)){case"year":i=Jt(this,r)/12;break;case"month":i=Jt(this,r);break;case"quarter":i=Jt(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:d(i)},a.endOf=function(e){var t,n;if(void 0!==(e=s(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}this._d.setTime(t),m.updateOffset(this,!0)}return this},a.format=function(e){return e=e||(this.isUtc()?m.defaultFormatUtc:m.defaultFormat),e=ie(this,e),this.localeData().postformat(e)},a.from=function(e,t){return this.isValid()&&($(e)&&e.isValid()||O(e).isValid())?I({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},a.fromNow=function(e){return this.from(O(),e)},a.to=function(e,t){return this.isValid()&&($(e)&&e.isValid()||O(e).isValid())?I({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},a.toNow=function(e){return this.to(O(),e)},a.get=function(e){return o(this[e=s(e)])?this[e]():this},a.invalidAt=function(){return y(this).overflow},a.isAfter=function(e,t){return e=$(e)?e:O(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=s(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},a.isBefore=function(e,t){return e=$(e)?e:O(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=s(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},a.isBetween=function(e,t,n,r){return e=$(e)?e:O(e),t=$(t)?t:O(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},a.isSame=function(e,t){var e=$(e)?e:O(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=s(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},a.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},a.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},a.isValid=function(){return q(this)},a.lang=Ze,a.locale=Zt,a.localeData=Qt,a.max=be,a.min=ve,a.parsingFlags=function(){return U({},y(this))},a.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)p(e,t)&&n.push({unit:t,priority:ce[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=le(e)),r=n.length,a=0;a<r;a++)this[n[a].unit](e[n[a].unit]);else if(o(this[e=s(e)]))return this[e](t);return this},a.startOf=function(e){var t,n;if(void 0!==(e=s(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}this._d.setTime(t),m.updateOffset(this,!0)}return this},a.subtract=Xe,a.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},a.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},a.toDate=function(){return new Date(this.valueOf())},a.toISOString=function(e){var t;return this.isValid()?(t=(e=!0!==e)?this.clone().utc():this).year()<0||9999<t.year()?ie(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):o(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ie(t,"Z")):ie(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ"):null},a.inspect=function(){var e,t,n;return this.isValid()?(t="moment",e="",this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),t="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))):"moment.invalid(/* "+this._i+" */)"},"undefined"!=typeof Symbol&&null!=Symbol.for&&(a[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},a.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},a.eraName=function(){for(var e,t=this.localeData().eras(),n=0,r=t.length;n<r;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},a.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,r=t.length;n<r;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},a.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,r=t.length;n<r;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},a.eraYear=function(){for(var e,t,n=this.localeData().eras(),r=0,a=n.length;r<a;++r)if(e=n[r].since<=n[r].until?1:-1,t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return(this.year()-m(n[r].since).year())*e+n[r].offset;return this.year()},a.year=He,a.isLeapYear=function(){return ue(this.year())},a.weekYear=function(e){return ln.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},a.isoWeekYear=function(e){return ln.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},a.quarter=a.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},a.month=Re,a.daysInMonth=function(){return Oe(this.year(),this.month())},a.week=a.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},a.isoWeek=a.isoWeeks=function(e){var t=Ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},a.weeksInYear=function(){var e=this.localeData()._week;return M(this.year(),e.dow,e.doy)},a.weeksInWeekYear=function(){var e=this.localeData()._week;return M(this.weekYear(),e.dow,e.doy)},a.isoWeeksInYear=function(){return M(this.year(),1,4)},a.isoWeeksInISOWeekYear=function(){return M(this.isoWeekYear(),1,4)},a.date=$e,a.day=a.days=function(e){var t,n,r;return this.isValid()?(t=this._isUTC?this._d.getUTCDay():this._d.getDay(),null!=e?(n=e,r=this.localeData(),e="string"!=typeof n?n:isNaN(n)?"number"==typeof(n=r.weekdaysParse(n))?n:null:parseInt(n,10),this.add(e-t,"d")):t):null!=e?this:NaN},a.weekday=function(e){var t;return this.isValid()?(t=(this.day()+7-this.localeData()._week.dow)%7,null==e?t:this.add(e-t,"d")):null!=e?this:NaN},a.isoWeekday=function(e){var t,n;return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN},a.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},a.hour=a.hours=h,a.minute=a.minutes=me,a.second=a.seconds=we,a.millisecond=a.milliseconds=ge,a.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?a:Ut(this);if("string"==typeof e){if(null===(e=Lt(_e,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ut(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Gt(this,I(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this},a.utc=function(e){return this.utcOffset(0,e)},a.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract(Ut(this),"m"),this},a.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Lt(Se,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},a.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?O(e).utcOffset():0,(this.utcOffset()-e)%60==0)},a.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},a.isLocal=function(){return!!this.isValid()&&!this._isUTC},a.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},a.isUtc=qt,a.isUTC=qt,a.zoneAbbr=function(){return this._isUTC?"UTC":""},a.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},a.dates=e("dates accessor is deprecated. Use date instead.",$e),a.months=e("months accessor is deprecated. Use month instead",Re),a.years=e("years accessor is deprecated. Use year instead",He),a.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),a.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return v(this._isDSTShifted)&&(W(e={},this),(e=Dt(e))._a?(t=(e._isUTC?c:O)(e._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&u(e[o])!==u(t[o]))&&i++;return i+a}(e._a,t.toArray())):this._isDSTShifted=!1),this._isDSTShifted});l=Q.prototype;function pn(e,t,n,r){var a=ht(),r=c().set(r,t);return a[n](r,e)}function fn(e,t,n){if(b(e)&&(t=e,e=void 0),e=e||"",null!=t)return pn(e,t,n,"month");for(var r=[],a=0;a<12;a++)r[a]=pn(e,a,n,"month");return r}function hn(e,t,n,r){t=("boolean"==typeof e?b(t)&&(n=t,t=void 0):(t=e,e=!1,b(n=t)&&(n=t,t=void 0)),t||"");var a,i=ht(),o=e?i._week.dow:0,s=[];if(null!=n)return pn(t,(n+o)%7,r,"day");for(a=0;a<7;a++)s[a]=pn(t,(a+o)%7,r,"day");return s}l.calendar=function(e,t,n){return o(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},l.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},l.invalidDate=function(){return this._invalidDate},l.ordinal=function(e){return this._ordinal.replace("%d",e)},l.preparse=dn,l.postformat=dn,l.relativeTime=function(e,t,n,r){var a=this._relativeTime[n];return o(a)?a(e,t,n,r):a.replace(/%d/i,e)},l.pastFuture=function(e,t){return o(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},l.set=function(e){var t,n;for(n in e)p(e,n)&&(o(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},l.eras=function(e,t){for(var n,r=this._eras||ht("en")._eras,a=0,i=r.length;a<i;++a)switch("string"==typeof r[a].since&&(n=m(r[a].since).startOf("day"),r[a].since=n.valueOf()),typeof r[a].until){case"undefined":r[a].until=1/0;break;case"string":n=m(r[a].until).startOf("day").valueOf(),r[a].until=n.valueOf()}return r},l.erasParse=function(e,t,n){var r,a,i,o,s,l=this.eras();for(e=e.toUpperCase(),r=0,a=l.length;r<a;++r)if(i=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(i===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if(0<=[i,o,s].indexOf(e))return l[r]},l.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?m(e.since).year():m(e.since).year()+(t-e.offset)*n},l.erasAbbrRegex=function(e){return p(this,"_erasAbbrRegex")||on.call(this),e?this._erasAbbrRegex:this._erasRegex},l.erasNameRegex=function(e){return p(this,"_erasNameRegex")||on.call(this),e?this._erasNameRegex:this._erasRegex},l.erasNarrowRegex=function(e){return p(this,"_erasNarrowRegex")||on.call(this),e?this._erasNarrowRegex:this._erasRegex},l.months=function(e,t){return e?(g(this._months)?this._months:this._months[(this._months.isFormat||je).test(t)?"format":"standalone"])[e.month()]:g(this._months)?this._months:this._months.standalone},l.monthsShort=function(e,t){return e?(g(this._monthsShort)?this._monthsShort:this._monthsShort[je.test(t)?"format":"standalone"])[e.month()]:g(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},l.monthsParse=function(e,t,n){var r,a;if(this._monthsParseExact)return function(e,t,n){var r,a,i,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=S.call(this._shortMonthsParse,e))?a:null:-1!==(a=S.call(this._longMonthsParse,e))?a:null:"MMM"===t?-1!==(a=S.call(this._shortMonthsParse,e))||-1!==(a=S.call(this._longMonthsParse,e))?a:null:-1!==(a=S.call(this._longMonthsParse,e))||-1!==(a=S.call(this._shortMonthsParse,e))?a:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},l.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ue.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=ze),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},l.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ue.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},l.week=function(e){return Ge(e,this._week.dow,this._week.doy).week},l.firstDayOfYear=function(){return this._week.doy},l.firstDayOfWeek=function(){return this._week.dow},l.weekdays=function(e,t){return t=g(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Ke(t,this._week.dow):e?t[e.day()]:t},l.weekdaysMin=function(e){return!0===e?Ke(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},l.weekdaysShort=function(e){return!0===e?Ke(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},l.weekdaysParse=function(e,t,n){var r,a;if(this._weekdaysParseExact)return function(e,t,n){var r,a,i,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=S.call(this._weekdaysParse,e))?a:null:"ddd"===t?-1!==(a=S.call(this._shortWeekdaysParse,e))?a:null:-1!==(a=S.call(this._minWeekdaysParse,e))?a:null:"dddd"===t?-1!==(a=S.call(this._weekdaysParse,e))||-1!==(a=S.call(this._shortWeekdaysParse,e))||-1!==(a=S.call(this._minWeekdaysParse,e))?a:null:"ddd"===t?-1!==(a=S.call(this._shortWeekdaysParse,e))||-1!==(a=S.call(this._weekdaysParse,e))||-1!==(a=S.call(this._minWeekdaysParse,e))?a:null:-1!==(a=S.call(this._minWeekdaysParse,e))||-1!==(a=S.call(this._weekdaysParse,e))||-1!==(a=S.call(this._shortWeekdaysParse,e))?a:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},l.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},l.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},l.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},l.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},l.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},pt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===u(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),m.lang=e("moment.lang is deprecated. Use moment.locale instead.",pt),m.langData=e("moment.langData is deprecated. Use moment.localeData instead.",ht);var mn=Math.abs;function gn(e,t,n,r){t=I(t,n);return e._milliseconds+=r*t._milliseconds,e._days+=r*t._days,e._months+=r*t._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function bn(e){return 4800*e/146097}function yn(e){return 146097*e/4800}function $n(e){return function(){return this.as(e)}}ye=$n("ms"),he=$n("s"),Ie=$n("m"),be=$n("h"),ve=$n("d"),Xe=$n("w"),h=$n("M"),me=$n("Q"),we=$n("y");function wn(e){return function(){return this.isValid()?this._data[e]:NaN}}var ge=wn("milliseconds"),$e=wn("seconds"),He=wn("minutes"),l=wn("hours"),kn=wn("days"),xn=wn("months"),Sn=wn("years");var _n=Math.round,Cn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function En(e,t,n,r){var a=I(e).abs(),i=_n(a.as("s")),o=_n(a.as("m")),s=_n(a.as("h")),l=_n(a.as("d")),c=_n(a.as("M")),u=_n(a.as("w")),a=_n(a.as("y")),i=(i<=n.ss?["s",i]:i<n.s&&["ss",i])||(o<=1?["m"]:o<n.m&&["mm",o])||(s<=1?["h"]:s<n.h&&["hh",s])||(l<=1?["d"]:l<n.d&&["dd",l]);return(i=(i=null!=n.w?i||(u<=1?["w"]:u<n.w&&["ww",u]):i)||(c<=1?["M"]:c<n.M&&["MM",c])||(a<=1?["y"]:["yy",a]))[2]=t,i[3]=0<+e,i[4]=r,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,i)}var Tn=Math.abs;function Pn(e){return(0<e)-(e<0)||+e}function Dn(){var e,t,n,r,a,i,o,s,l,c,u;return this.isValid()?(e=Tn(this._milliseconds)/1e3,t=Tn(this._days),n=Tn(this._months),(s=this.asSeconds())?(r=d(e/60),a=d(r/60),e%=60,r%=60,i=d(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=Pn(this._months)!==Pn(s)?"-":"",c=Pn(this._days)!==Pn(s)?"-":"",u=Pn(this._milliseconds)!==Pn(s)?"-":"",(s<0?"-":"")+"P"+(i?l+i+"Y":"")+(n?l+n+"M":"")+(t?c+t+"D":"")+(a||r||e?"T":"")+(a?u+a+"H":"")+(r?u+r+"M":"")+(e?u+o+"S":"")):"P0D"):this.localeData().invalidDate()}var N=It.prototype;return N.isValid=function(){return this._isValid},N.abs=function(){var e=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),e.milliseconds=mn(e.milliseconds),e.seconds=mn(e.seconds),e.minutes=mn(e.minutes),e.hours=mn(e.hours),e.months=mn(e.months),e.years=mn(e.years),this},N.add=function(e,t){return gn(this,e,t,1)},N.subtract=function(e,t){return gn(this,e,t,-1)},N.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=s(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+bn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(yn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},N.asMilliseconds=ye,N.asSeconds=he,N.asMinutes=Ie,N.asHours=be,N.asDays=ve,N.asWeeks=Xe,N.asMonths=h,N.asQuarters=me,N.asYears=we,N.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN},N._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*vn(yn(n)+t),n=t=0),r.milliseconds=e%1e3,e=d(e/1e3),r.seconds=e%60,e=d(e/60),r.minutes=e%60,e=d(e/60),r.hours=e%24,t+=d(e/24),n+=e=d(bn(t)),t-=vn(yn(e)),e=d(n/12),n%=12,r.days=t,r.months=n,r.years=e,this},N.clone=function(){return I(this)},N.get=function(e){return e=s(e),this.isValid()?this[e+"s"]():NaN},N.milliseconds=ge,N.seconds=$e,N.minutes=He,N.hours=l,N.days=kn,N.weeks=function(){return d(this.days()/7)},N.months=xn,N.years=Sn,N.humanize=function(e,t){var n,r;return this.isValid()?(n=!1,r=Cn,"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(r=Object.assign({},Cn,t),null!=t.s)&&null==t.ss&&(r.ss=t.s-1),e=this.localeData(),t=En(this,!n,r,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)):this.localeData().invalidDate()},N.toISOString=Dn,N.toString=Dn,N.toJSON=Dn,N.locale=Zt,N.localeData=Qt,N.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dn),N.lang=Ze,r("X",0,0,"unix"),r("x",0,0,"valueOf"),w("x",xe),w("X",/[+-]?\d+(\.\d{1,3})?/),x("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),x("x",function(e,t,n){n._d=new Date(u(e))}),m.version="2.29.4",j=O,m.fn=a,m.min=function(){return At("isBefore",[].slice.call(arguments,0))},m.max=function(){return At("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=c,m.unix=function(e){return O(1e3*e)},m.months=function(e,t){return fn(e,t,"months")},m.isDate=L,m.locale=pt,m.invalid=H,m.duration=I,m.isMoment=$,m.weekdays=function(e,t,n){return hn(e,t,n,"weekdays")},m.parseZone=function(){return O.apply(null,arguments).parseZone()},m.localeData=ht,m.isDuration=Nt,m.monthsShort=function(e,t){return fn(e,t,"monthsShort")},m.weekdaysMin=function(e,t,n){return hn(e,t,n,"weekdaysMin")},m.defineLocale=ft,m.updateLocale=function(e,t){var n,r;return null!=t?(r=st,null!=A[e]&&null!=A[e].parentLocale?A[e].set(Z(A[e]._config,t)):(t=Z(r=null!=(n=dt(e))?n._config:r,t),null==n&&(t.abbr=e),(r=new Q(t)).parentLocale=A[e],A[e]=r),pt(e)):null!=A[e]&&(null!=A[e].parentLocale?(A[e]=A[e].parentLocale,e===pt()&&pt(e)):null!=A[e]&&delete A[e]),A[e]},m.locales=function(){return ee(A)},m.weekdaysShort=function(e,t,n){return hn(e,t,n,"weekdaysShort")},m.normalizeUnits=s,m.relativeTimeRounding=function(e){return void 0===e?_n:"function"==typeof e&&(_n=e,!0)},m.relativeTimeThreshold=function(e,t){return void 0!==Cn[e]&&(void 0===t?Cn[e]:(Cn[e]=t,"s"===e&&(Cn.ss=t-1),!0))},m.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},m.prototype=a,m.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},m}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t||""!==t&&""!==t&&11<=e?e:e+12},meridiem:function(e,t,n){e=100*e+t;return e<600?"":e<900?"":e<1130?"":e<1230?"":e<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}),function(e,n){var t,r;"function"==typeof define&&define.amd?define(["moment","jquery"],function(e,t){return t.fn||(t.fn={}),n(e,t)}):"object"==typeof module&&module.exports?((t="undefined"!=typeof window?window.jQuery:void 0)||(t=require("jquery")).fn||(t.fn={}),r="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=n(r,t)):e.daterangepicker=n(e.moment,e.jQuery)}(this,function(M,A){function r(e,t,n){var r,a,i,o;if(this.parentEl="body",this.element=A(e),this.startDate=M().startOf("day"),this.endDate=M().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:M.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:M.weekdaysMin(),monthNames:M.monthsShort(),firstDay:M.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof t&&null!==t||(t={}),"string"==typeof(t=A.extend(this.element.data(),t)).template||t.template instanceof A||(t.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=t.parentEl&&A(t.parentEl).length?A(t.parentEl):A(this.parentEl),this.container=A(t.template).appendTo(this.parentEl),"object"==typeof t.locale&&("string"==typeof t.locale.direction&&(this.locale.direction=t.locale.direction),"string"==typeof t.locale.format&&(this.locale.format=t.locale.format),"string"==typeof t.locale.separator&&(this.locale.separator=t.locale.separator),"object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel)&&((l=document.createElement("textarea")).innerHTML=t.locale.customRangeLabel,c=l.value,this.locale.customRangeLabel=c),this.container.addClass(this.locale.direction),"string"==typeof t.startDate&&(this.startDate=M(t.startDate,this.locale.format)),"string"==typeof t.endDate&&(this.endDate=M(t.endDate,this.locale.format)),"string"==typeof t.minDate&&(this.minDate=M(t.minDate,this.locale.format)),"string"==typeof t.maxDate&&(this.maxDate=M(t.maxDate,this.locale.format)),"object"==typeof t.startDate&&(this.startDate=M(t.startDate)),"object"==typeof t.endDate&&(this.endDate=M(t.endDate)),"object"==typeof t.minDate&&(this.minDate=M(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=M(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"boolean"==typeof t.showISOWeekNumbers&&(this.showISOWeekNumbers=t.showISOWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses.join(" ")),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.showCustomRangeLabel&&(this.showCustomRangeLabel=t.showCustomRangeLabel),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker)&&(this.endDate=this.startDate.clone()),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker24Hour&&(this.timePicker24Hour=t.timePicker24Hour),"boolean"==typeof t.autoApply&&(this.autoApply=t.autoApply),"boolean"==typeof t.autoUpdateInput&&(this.autoUpdateInput=t.autoUpdateInput),"boolean"==typeof t.linkedCalendars&&(this.linkedCalendars=t.linkedCalendars),"function"==typeof t.isInvalidDate&&(this.isInvalidDate=t.isInvalidDate),"function"==typeof t.isCustomDate&&(this.isCustomDate=t.isCustomDate),"boolean"==typeof t.alwaysShowCalendars&&(this.alwaysShowCalendars=t.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;0<s;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;if(void 0===t.startDate&&void 0===t.endDate&&A(this.element).is("input[type=text]")&&(o=r=null,2==(i=(e=A(this.element).val()).split(this.locale.separator)).length?(o=M(i[0],this.locale.format),r=M(i[1],this.locale.format)):this.singleDatePicker&&""!==e&&(o=M(e,this.locale.format),r=M(e,this.locale.format)),null!==o)&&null!==r&&(this.setStartDate(o),this.setEndDate(r)),"object"==typeof t.ranges){for(a in t.ranges){o="string"==typeof t.ranges[a][0]?M(t.ranges[a][0],this.locale.format):M(t.ranges[a][0]),r="string"==typeof t.ranges[a][1]?M(t.ranges[a][1],this.locale.format):M(t.ranges[a][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var l,c,u=this.maxDate;(u=this.dateLimit&&u&&o.clone().add(this.dateLimit).isAfter(u)?o.clone().add(this.dateLimit):u)&&r.isAfter(u)&&(r=u.clone()),this.minDate&&r.isBefore(this.minDate,this.timepicker?"minute":"day")||u&&o.isAfter(u,this.timepicker?"minute":"day")||((l=document.createElement("textarea")).innerHTML=a,c=l.value,this.ranges[c]=[o,r])}var d="<ul>";for(a in this.ranges)d+='<li data-range-key="'+a+'">'+a+"</li>";this.showCustomRangeLabel&&(d+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),d+="</ul>",this.container.find(".ranges").prepend(d)}"function"==typeof n&&(this.callback=n),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof t.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),(this.timePicker?this.container.find(".ranges ul"):this.container.find(".ranges")).hide()),(void 0===t.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==t.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",A.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",A.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",A.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",A.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",A.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",A.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",A.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",A.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",A.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",A.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",A.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",A.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",A.proxy(this.formInputsKeydown,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",A.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",A.proxy(this.clickCancel,this)).on("click.daterangepicker","li",A.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",A.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",A.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":A.proxy(this.show,this),"focus.daterangepicker":A.proxy(this.show,this),"keyup.daterangepicker":A.proxy(this.elementChanged,this),"keydown.daterangepicker":A.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",A.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",A.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))}return r.prototype={constructor:r,setStartDate:function(e){"string"==typeof e&&(this.startDate=M(e,this.locale.format)),"object"==typeof e&&(this.startDate=M(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker)&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker)&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=M(e,this.locale.format)),"object"==typeof e&&(this.endDate=M(e)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var e,t,n,r;this.timePicker&&(this.endDate?(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(r=this.container.find(".left .ampmselect").val())&&e<12&&(e+=12),"AM"===r&&12===e&&(e=0))):(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(r=this.container.find(".right .ampmselect").val())&&e<12&&(e+=12),"AM"===r&&12===e&&(e=0))),this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(e){var t="left"==e?this.leftCalendar:this.rightCalendar,n=t.month.month(),r=t.month.year(),a=t.month.hour(),i=t.month.minute(),o=t.month.second(),s=M([r,n]).daysInMonth(),l=M([r,n,1]),r=M([r,n,s]),n=M(l).subtract(1,"month").month(),s=M(l).subtract(1,"month").year(),c=M([s,n]).daysInMonth(),u=l.day();(t=[]).firstDay=l,t.lastDay=r;for(var d=0;d<6;d++)t[d]=[];for(var l=c-u+this.locale.firstDay+1,p=(c<l&&(l-=7),u==this.locale.firstDay&&(l=c-6),M([s,n,l,12,i,o])),d=0,f=0,h=0;d<42;d++,f++,p=M(p).add(24,"hour"))0<d&&f%7==0&&(f=0,h++),t[h][f]=p.clone().hour(a).minute(i).second(o),p.hour(12),this.minDate&&t[h][f].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[h][f].isBefore(this.minDate)&&"left"==e&&(t[h][f]=this.minDate.clone()),this.maxDate&&t[h][f].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[h][f].isAfter(this.maxDate)&&"right"==e&&(t[h][f]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var m="left"==e?this.minDate:this.startDate,g=this.maxDate,r=("left"==e?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),v='<table class="table-condensed">',u=(v=v+"<thead>"+"<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(v+="<th></th>"),m&&!m.isBefore(t.firstDay)||this.linkedCalendars&&"left"!=e?v+="<th></th>":v+='<th class="prev available"><i class="fa fa-'+r.left+" glyphicon glyphicon-"+r.left+'"></i></th>',this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY"));if(this.showDropdowns){for(var b=t[1][1].month(),y=t[1][1].year(),$=g&&g.year()||y+5,c=m&&m.year()||y-50,w=y==c,k=y==$,x='<select class="monthselect">',S=0;S<12;S++)(!w||S>=m.month())&&(!k||S<=g.month())?x+="<option value='"+S+"'"+(S===b?" selected='selected'":"")+">"+this.locale.monthNames[S]+"</option>":x+="<option value='"+S+"'"+(S===b?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[S]+"</option>";x+="</select>";for(var _='<select class="yearselect">',C=c;C<=$;C++)_+='<option value="'+C+'"'+(C===y?' selected="selected"':"")+">"+C+"</option>";u=x+(_+="</select>")}v+='<th colspan="5" class="month">'+u+"</th>",g&&!g.isAfter(t.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?v+="<th></th>":v+='<th class="next available"><i class="fa fa-'+r.right+" glyphicon glyphicon-"+r.right+'"></i></th>',v+="</tr><tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(v+='<th class="week">'+this.locale.weekLabel+"</th>"),A.each(this.locale.daysOfWeek,function(e,t){v+="<th>"+t+"</th>"}),v+="</tr></thead><tbody>",null==this.endDate&&this.dateLimit&&(s=this.startDate.clone().add(this.dateLimit).endOf("day"),g&&!s.isBefore(g)||(g=s));for(h=0;h<6;h++){v+="<tr>",this.showWeekNumbers?v+='<td class="week">'+t[h][0].week()+"</td>":this.showISOWeekNumbers&&(v+='<td class="week">'+t[h][0].isoWeek()+"</td>");for(f=0;f<7;f++){for(var E=[],T=(t[h][f].isSame(new Date,"day")&&E.push("today"),5<t[h][f].isoWeekday()&&E.push("weekend"),t[h][f].month()!=t[1][1].month()&&E.push("off"),this.minDate&&t[h][f].isBefore(this.minDate,"day")&&E.push("off","disabled"),g&&t[h][f].isAfter(g,"day")&&E.push("off","disabled"),this.isInvalidDate(t[h][f])&&E.push("off","disabled"),t[h][f].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&E.push("active","start-date"),null!=this.endDate&&t[h][f].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&E.push("active","end-date"),null!=this.endDate&&t[h][f]>this.startDate&&t[h][f]<this.endDate&&E.push("in-range"),this.isCustomDate(t[h][f])),P=(!1!==T&&("string"==typeof T?E.push(T):Array.prototype.push.apply(E,T)),""),D=!1,d=0;d<E.length;d++)P+=E[d]+" ","disabled"==E[d]&&(D=!0);D||(P+="available"),v+='<td class="'+P.replace(/^\s+|\s+$/g,"")+'" data-title="r'+h+"c"+f+'">'+t[h][f].date()+"</td>"}v+="</tr>"}v+="</tbody></table>",this.container.find(".calendar."+e+" .calendar-table").html(v)},renderTimePicker:function(e){if("right"!=e||this.endDate){for(var t,n,r=this.maxDate,a=(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(r=this.startDate.clone().add(this.dateLimit)),"left"==e?(t=this.startDate.clone(),n=this.minDate):"right"==e&&(t=this.endDate.clone(),n=this.startDate,""!=(a=this.container.find(".calendar.right .calendar-time div")).html()&&(t.hour(a.find(".hourselect option:selected").val()||t.hour()),t.minute(a.find(".minuteselect option:selected").val()||t.minute()),t.second(a.find(".secondselect option:selected").val()||t.second()),this.timePicker24Hour||("PM"===(a=a.find(".ampmselect option:selected").val())&&t.hour()<12&&t.hour(t.hour()+12),"AM"===a&&12===t.hour()&&t.hour(0))),t.isBefore(this.startDate)&&(t=this.startDate.clone()),r)&&t.isAfter(r)&&(t=r.clone()),d='<select class="hourselect">',this.timePicker24Hour?0:1),i=this.timePicker24Hour?23:12,o=a;o<=i;o++){var s=o,l=(this.timePicker24Hour||(s=12<=t.hour()?12==o?12:o+12:12==o?0:o),t.clone().hour(s)),c=!1;n&&l.minute(59).isBefore(n)&&(c=!0),r&&l.minute(0).isAfter(r)&&(c=!0),s!=t.hour()||c?d+=c?'<option value="'+o+'" disabled="disabled" class="disabled">'+o+"</option>":'<option value="'+o+'">'+o+"</option>":d+='<option value="'+o+'" selected="selected">'+o+"</option>"}for(var u,d=d+"</select> "+': <select class="minuteselect">',o=0;o<60;o+=this.timePickerIncrement){var p=o<10?"0"+o:o,l=t.clone().minute(o),c=!1;n&&l.second(59).isBefore(n)&&(c=!0),r&&l.second(0).isAfter(r)&&(c=!0),t.minute()!=o||c?d+=c?'<option value="'+o+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+o+'">'+p+"</option>":d+='<option value="'+o+'" selected="selected">'+p+"</option>"}if(d+="</select> ",this.timePickerSeconds){d+=': <select class="secondselect">';for(o=0;o<60;o++){p=o<10?"0"+o:o,l=t.clone().second(o),c=!1;n&&l.isBefore(n)&&(c=!0),r&&l.isAfter(r)&&(c=!0),t.second()!=o||c?d+=c?'<option value="'+o+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+o+'">'+p+"</option>":d+='<option value="'+o+'" selected="selected">'+p+"</option>"}d+="</select> "}this.timePicker24Hour||(d+='<select class="ampmselect">',u=a="",n&&t.clone().hour(12).minute(0).second(0).isBefore(n)&&(a=' disabled="disabled" class="disabled"'),r&&t.clone().hour(0).minute(0).second(0).isAfter(r)&&(u=' disabled="disabled" class="disabled"'),12<=t.hour()?d+='<option value="AM"'+a+'>AM</option><option value="PM" selected="selected"'+u+">PM</option>":d+='<option value="AM" selected="selected"'+a+'>AM</option><option value="PM"'+u+">PM</option>",d+="</select>"),this.container.find(".calendar."+e+" .calendar-time div").html(d)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,t={top:0,left:0},n=A(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-t.top:this.element.offset().top+this.element.outerHeight()-t.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>A(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.isShowing||(this._outsideClickProxy=A.proxy(function(e){this.outsideClick(e)},this),A(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),A(window).on("resize.daterangepicker",A.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),A(document).off(".daterangepicker"),A(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=A(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||((e=e.target.getAttribute("data-range-key"))==this.locale.customRangeLabel?this.updateView():(e=this.ranges[e],this.container.find("input[name=daterangepicker_start]").val(e[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(e[1].format(this.locale.format))))},clickRange:function(e){var e=e.target.getAttribute("data-range-key");(this.chosenLabel=e)==this.locale.customRangeLabel?this.showCalendars():(e=this.ranges[e],this.startDate=e[0],this.endDate=e[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(e){A(e.target).parents(".calendar").hasClass("left")&&(this.leftCalendar.month.subtract(1,"month"),!this.linkedCalendars)||this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){(A(e.target).parents(".calendar").hasClass("left")||(this.rightCalendar.month.add(1,"month"),this.linkedCalendars))&&this.leftCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(e){var t,n,a,i,o,s;A(e.target).hasClass("available")&&(t=(n=A(e.target).attr("data-title")).substr(1,1),n=n.substr(3,1),a=(A(e.target).parents(".calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).calendar[t][n],this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format)),i=this.leftCalendar,o=this.rightCalendar,s=this.startDate,this.endDate||this.container.find(".calendar tbody td").each(function(e,t){var n,r;A(t).hasClass("week")||(r=(n=A(t).attr("data-title")).substr(1,1),n=n.substr(3,1),(r=(A(t).parents(".calendar").hasClass("left")?i:o).calendar[r][n]).isAfter(s)&&r.isBefore(a)||r.isSame(a,"day")?A(t).addClass("in-range"):A(t).removeClass("in-range"))}))},clickDate:function(e){var t,n,r,a,i,o;A(e.target).hasClass("available")&&(n=(t=A(e.target).attr("data-title")).substr(1,1),t=t.substr(3,1),n=(A(e.target).parents(".calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).calendar[n][t],this.endDate||n.isBefore(this.startDate,"day")?(this.timePicker&&(r=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(a=this.container.find(".left .ampmselect").val())&&r<12&&(r+=12),"AM"===a&&12===r&&(r=0)),i=parseInt(this.container.find(".left .minuteselect").val(),10),o=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,n=n.clone().hour(r).minute(i).second(o)),this.endDate=null,this.setStartDate(n.clone())):!this.endDate&&n.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(r=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(a=this.container.find(".right .ampmselect").val())&&r<12&&(r+=12),"AM"===a&&12===r&&(r=0)),i=parseInt(this.container.find(".right .minuteselect").val(),10),o=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,n=n.clone().hour(r).minute(i).second(o)),this.setEndDate(n.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),e.stopPropagation())},calculateChosenLabel:function(){var e,t=!0,n=0;for(e in this.ranges){if(this.timePicker){var r=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(r)==this.ranges[e][0].format(r)&&this.endDate.format(r)==this.ranges[e][1].format(r)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[e][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[e][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").html();break}n++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var e=A(e.target).closest(".calendar").hasClass("left"),t=this.container.find(".calendar."+(e?"left":"right")),n=parseInt(t.find(".monthselect").val(),10),t=t.find(".yearselect").val();e||(t<this.startDate.year()||t==this.startDate.year()&&n<this.startDate.month())&&(n=this.startDate.month(),t=this.startDate.year()),this.minDate&&(t<this.minDate.year()||t==this.minDate.year()&&n<this.minDate.month())&&(n=this.minDate.month(),t=this.minDate.year()),this.maxDate&&(t>this.maxDate.year()||t==this.maxDate.year()&&n>this.maxDate.month())&&(n=this.maxDate.month(),t=this.maxDate.year()),e?(this.leftCalendar.month.month(n).year(t),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(n).year(t),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var e=A(e.target).closest(".calendar"),t=e.hasClass("left"),n=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;this.timePicker24Hour||("PM"===(e=e.find(".ampmselect").val())&&n<12&&(n+=12),"AM"===e&&12===n&&(n=0)),t?((e=this.startDate.clone()).hour(n),e.minute(r),e.second(a),this.setStartDate(e),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==e.format("YYYY-MM-DD")&&this.endDate.isBefore(e)&&this.setEndDate(e.clone())):this.endDate&&((t=this.endDate.clone()).hour(n),t.minute(r),t.second(a),this.setEndDate(t)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var e=A(e.target).closest(".calendar").hasClass("right"),t=M(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),n=M(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);t.isValid()&&n.isValid()&&(e&&n.isBefore(t)&&(t=n.clone()),this.setStartDate(t),this.setEndDate(n),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(e){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),A(e.target).addClass("active"),A(e.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){var t;this.endDate||(t=this.container.find('input[name="daterangepicker_end"]').val(),(t=M(t,this.locale.format)).isValid()&&(this.setEndDate(t),this.updateView()))},formInputsKeydown:function(e){13===e.keyCode&&(e.preventDefault(),this.formInputsChanged(e))},elementChanged:function(){var e,t,n;this.element.is("input")&&this.element.val().length&&(n=t=null,2===(e=this.element.val().split(this.locale.separator)).length&&(t=M(e[0],this.locale.format),n=M(e[1],this.locale.format)),!this.singleDatePicker&&null!==t&&null!==n||(n=t=M(this.element.val(),this.locale.format)),t.isValid())&&n.isValid()&&(this.setStartDate(t),this.setEndDate(n),this.updateView())},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},A.fn.daterangepicker=function(e,t){var n=A.extend(!0,{},A.fn.daterangepicker.defaultOptions,e);return this.each(function(){var e=A(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new r(e,n,t))}),this},r}),function(){var g=[].slice,e="undefined"!=typeof module&&null!==module&&null!=module.exports&&"function"==typeof require,u=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(v){var r;if(null==v)throw new Error("Can't find moment");function b(e,t,n,r){null==r&&(r={}),"string"!=typeof n&&(r=null!=n?n:{},n=null),this._oStart=v(e,n,(r="boolean"==typeof r?{allDay:r}:r).parseStrict),this._oEnd=v(t,n,r.parseStrict),this.allDay=null!=(e=r.allDay)&&e,this._mutated()}return b._extend=function(){for(var e,t,n=arguments[0],r=2<=arguments.length?g.call(arguments,1):[],a=0,i=r.length;a<i;a++)for(e in t=r[a])void 0!==t[e]&&(n[e]=t[e]);return n},b.prototype.start=function(){return this._start.clone()},b.prototype.end=function(){return this._end.clone()},b.prototype.isSame=function(e){return this._start.isSame(this._end,e)},b.prototype.length=function(e,t){return this._displayEnd.diff(this._start,e,t=null==t?!1:t)},b.prototype.count=function(e){var t=this.start().startOf(e);return this.end().startOf(e).diff(t,e)+1},b.prototype.countInner=function(e){var t=this._inner(e),n=t[0],t=t[1];return t<=n?0:t.diff(n,e)},b.prototype.iterate=function(e,t,n){var r,a,i,o=this._prepIterateInputs(e,t,n);return e=o[0],t=o[1],n=o[2],a=this.start().startOf(t),r=this.end().startOf(t),this.allDay&&(r=r.add(1,"d")),(i=this)._iterateHelper(t,a,function(){return!i.allDay&&a<=r&&(!n||!a.isSame(r)||i._end.hours()>n)||i.allDay&&a<r},e)},b.prototype.iterateInner=function(e,t){var n,r,a=this._prepIterateInputs(e,t);return e=a[0],t=a[1],a=this._inner(t,e),r=a[0],n=a[1],this._iterateHelper(t,r,function(){return r<n},e)},b.prototype.humanizeLength=function(){return this.allDay?this.isSame("d")?"all day":this._start.from(this.end().add(1,"d"),!0):this._start.from(this._end,!0)},b.prototype.asDuration=function(e){var t=this._end.diff(this._start);return v.duration(t)},b.prototype.isPast=function(){return this._lastMilli<v()},b.prototype.isFuture=function(){return this._start>v()},b.prototype.isCurrent=function(){return!this.isPast()&&!this.isFuture()},b.prototype.contains=function(e){return v.isMoment(e)||(e=v(e)),this._start<=e&&this._lastMilli>=e},b.prototype.isEmpty=function(){return this._start.isSame(this._displayEnd)},b.prototype.overlaps=function(e){return this._displayEnd.isAfter(e._start)&&this._start.isBefore(e._displayEnd)},b.prototype.engulfs=function(e){return this._start<=e._start&&this._displayEnd>=e._displayEnd},b.prototype.union=function(e){var t=this.allDay&&e.allDay;return new b((this._start<e._start?this:e)._start,this._lastMilli>e._lastMilli?t?this._end:this._displayEnd:t?e._end:e._displayEnd,t)},b.prototype.intersection=function(e){var t=this.allDay&&e.allDay;return new b((this._start>e._start?this:e)._start,this._lastMilli<e._lastMilli?t?this._end:this._displayEnd:t?e._end:e._displayEnd,t)},b.prototype.xor=function(){for(var e,t,n,r,a,i,o,s=1<=arguments.length?g.call(arguments,0):[],l=0,c=null,u=[],d=function(){for(var e=[],t=0,n=s.length;t<n;t++)(a=s[t]).allDay&&e.push(a);return e}().length===s.length,p=[],f=[this].concat(s),h=t=0,m=f.length;t<m;h=++t)e=f[h],p.push({time:e._start,i:h,type:0}),p.push({time:e._displayEnd,i:h,type:1});for(n=0,r=(p=p.sort(function(e,t){return e.time-t.time})).length;n<r;n++)1===(i=p[n]).type&&--l,l===i.type&&(c=i.time),l===(i.type+1)%2&&(c&&((o=u[u.length-1])&&o._end.isSame(c)?(o._oEnd=i.time,o._mutated()):(o=new b(c,d?i.time.clone().subtract(1,"d"):i.time,d)).isEmpty()||u.push(o)),c=null),0===i.type&&(l+=1);return u},b.prototype.difference=function(){for(var e,t,n=1<=arguments.length?g.call(arguments,0):[],r=this.xor.apply(this,n).map((t=this,function(e){return t.intersection(e)})),a=[],i=0,o=r.length;i<o;i++)!(e=r[i]).isEmpty()&&e.isValid()&&a.push(e);return a},b.prototype.split=function(){var e,t,n,r,a,i,o,s,l=1<=arguments.length?g.call(arguments,0):[],c=a=this.start();if(v.isDuration(l[0])?e=l[0]:!v.isMoment(l[0])&&!u(l[0])&&"object"==typeof l[0]||"number"==typeof l[0]&&"string"==typeof l[1]?e=v.duration(l[0],l[1]):o=u(l[0])?l[0]:l,o&&(o=function(){for(var e=[],t=0,n=o.length;t<n;t++)i=o[t],e.push(v(i));return e}(),o=function(){for(var e=[],t=0,n=o.length;t<n;t++)(r=o[t]).isValid()&&a<=r&&e.push(r);return e}().sort(function(e,t){return e.valueOf()-t.valueOf()})),e&&0===e.asMilliseconds()||o&&0===o.length)return[this];for(s=[],n=0,t=this._displayEnd;a<t&&(null==o||o[n]);)c=e?a.clone().add(e):o[n].clone(),c=v.min(t,c),a.isSame(c)||s.push(v.twix(a,c)),a=c,n+=1;return!c.isSame(this._displayEnd)&&o&&s.push(v.twix(c,this._displayEnd)),s},b.prototype.divide=function(e){return this.split(this.length()/e,"ms").slice(0,e-1+1||9e9)},b.prototype.isValid=function(){return this._start.isValid()&&this._end.isValid()&&this._start<=this._displayEnd},b.prototype.equals=function(e){return e instanceof b&&this.allDay===e.allDay&&this._start.valueOf()===e._start.valueOf()&&this._end.valueOf()===e._end.valueOf()},b.prototype.toString=function(){return"{start: "+this._start.format()+", end: "+this._end.format()+", allDay: "+(this.allDay?"true":"false")+"}"},b.prototype.toArray=function(e,t,n){for(var r=this.iterate(e,t,n),a=[];r.hasNext();)a.push(r.next());return a},b.prototype.simpleFormat=function(e,t){var n={allDay:"(all day)",template:b.formatTemplate};return b._extend(n,t||{}),t=n.template(this._start.format(e),this._end.format(e)),this.allDay&&n.allDay&&(t+=" "+n.allDay),t},b.prototype.format=function(e){var n,a,i,o,t,l,r,s,c,u,d,p,f,h,m,g;if(this.isEmpty())return"";for(u=this._start.localeData()._longDateFormat.LT[0],p={groupMeridiems:!0,spaceBeforeMeridiem:!0,spaceBeforeMonth:!0,spaceBeforeDay:!0,showDayOfWeek:!1,showYearFirst:!1,hideTime:!1,hideYear:!1,implicitMinutes:!0,implicitDate:!1,implicitYear:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:u,minuteFormat:"mm",allDay:"all day",explicitAllDay:!1,lastNightEndsAt:0,template:b.formatTemplate},b._extend(p,e||{}),t=[],d=p.hourFormat&&"h"===p.hourFormat[0],u=this._start.localeData()._longDateFormat.L,n=u.indexOf("M")<u.indexOf("D"),r=0<p.lastNightEndsAt&&!this.allDay&&this.end().startOf("d").valueOf()===this.start().add(1,"d").startOf("d").valueOf()&&12<this._start.hours()&&this._end.hours()<p.lastNightEndsAt,e=!(p.hideDate||p.implicitDate&&this.start().startOf("d").valueOf()===v().startOf("d").valueOf()&&(this.isSame("d")||r)),u=!(this.allDay||p.hideTime),this.allDay&&this.isSame("d")&&(p.implicitDate||p.explicitAllDay)&&t.push({name:"all day simple",fn:function(){return p.allDay},pre:" ",slot:0}),!e||p.hideYear||p.implicitYear&&this._start.year()===v().year()&&this.isSame("y")||t.push({name:"year",fn:function(e){return e.format(p.yearFormat)},pre:n?", ":" ",slot:p.showYearFirst?-1:4}),u&&e&&t.push({name:"month-date",fn:function(e){var t=n?p.monthFormat+" "+p.dayFormat:p.dayFormat+" "+p.monthFormat;return e.format(t)},ignoreEnd:function(){return r},pre:" ",slot:2}),!u&&e&&t.push({name:"month",fn:function(e){return e.format(p.monthFormat)},pre:p.spaceBeforeMonth?" ":"",slot:n?2:3}),!u&&e&&t.push({name:"date",fn:function(e){return e.format(p.dayFormat)},pre:p.spaceBeforeDay?" ":"",slot:n?3:2}),e&&p.showDayOfWeek&&t.push({name:"day of week",fn:function(e){return e.format(p.weekdayFormat)},pre:" ",slot:1}),p.groupMeridiems&&d&&!this.allDay&&!p.hideTime&&t.push({name:"meridiem",fn:function(e){return e.format(p.meridiemFormat)},slot:6,pre:p.spaceBeforeMeridiem?" ":""}),this.allDay||p.hideTime||t.push({name:"time",fn:function(e){var t=0===e.minutes()&&p.implicitMinutes&&d?e.format(p.hourFormat):e.format(p.hourFormat+":"+p.minuteFormat);return!p.groupMeridiems&&d&&(p.spaceBeforeMeridiem&&(t+=" "),t+=e.format(p.meridiemFormat)),t},slot:5,pre:", "}),h=[],i=[],a=[],m=!0,g=this,f=function(e){var t=e.fn(g._start),n=e.ignoreEnd&&e.ignoreEnd()?t:e.fn(g._end),r={format:e,value:function(){return t}};return n===t&&m?a.push(r):(m&&(m=!1,a.push({format:{slot:e.slot,pre:""},value:function(){return p.template(o(h),o(i,!0).trim())}})),h.push(r),i.push({format:e,value:function(){return n}}))},s=0,c=t.length;s<c;s++)f(t[s]);return l=!0,(o=function(e,t){for(var n,r=!0,a="",i=e.sort(function(e,t){return e.format.slot-t.format.slot}),o=0,s=i.length;o<s;o++)n=i[o],l||(a+=r&&t?" ":n.format.pre),a+=n.value(),r=l=!1;return a})(a)},b.prototype._iterateHelper=function(t,n,r,a){return{next:function(){var e;return r()?(e=n.clone(),n.add(a,t),e):null},hasNext:r}},b.prototype._prepIterateInputs=function(){var e,t,n,r=1<=arguments.length?g.call(arguments,0):[];return"number"==typeof r[0]?r:("string"==typeof r[0]&&(e=r.shift(),t=null!=(t=r.pop())?t:1,r.length)&&(n=null!=(n=r[0])&&n),[t=v.isDuration(r[0])?r[0].as(e="ms"):t,e,n])},b.prototype._inner=function(e,t){var n,r,a;return null==e&&(e="ms"),null==t&&(t=1),a=this.start(),r=this._displayEnd.clone(),a>a.clone().startOf(e)&&a.startOf(e).add(t,e),r<r.clone().endOf(e)&&r.startOf(e),n=a.twix(r).asDuration(e).get(e),r.subtract(n%t,e),[a,r]},b.prototype._mutated=function(){return this._start=this.allDay?this._oStart.clone().startOf("d"):this._oStart,this._lastMilli=this.allDay?this._oEnd.clone().endOf("d"):this._oEnd,this._end=this.allDay?this._oEnd.clone().startOf("d"):this._oEnd,this._displayEnd=this.allDay?this._end.clone().add(1,"d"):this._end},(r=b)._extend(v.locale(),{_twix:r.defaults}),r.formatTemplate=function(e,t){return e+" - "+t},v.twix=function(){var e=r,t=arguments,n=function(){};return n.prototype=e.prototype,n=new n,e=e.apply(n,t),Object(e)===e?e:n},v.fn.twix=function(){var e=r,t=[this].concat(g.call(arguments)),n=function(){};return n.prototype=e.prototype,n=new n,e=e.apply(n,t),Object(e)===e?e:n},v.fn.forDuration=function(e,t){return new r(this,this.clone().add(e),t)},v.duration.fn&&(v.duration.fn.afterMoment=function(e,t){return new r(e,v(e).clone().add(this),t)},v.duration.fn.beforeMoment=function(e,t){return new r(v(e).clone().subtract(this),e,t)}),v.twixClass=r};if(e)return module.exports=t(require("moment"));"function"==typeof define&&define.amd&&define("twix",["moment"],t),this.moment?this.Twix=t(this.moment):"undefined"!=typeof moment&&null!==moment&&(this.Twix=t(moment))}.call(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return r=[function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var a=r(n(2)),i=r(n(45)),o=n(46),s=n(51),l=r(n(52)),c=r(n(49)),r=r(n(44)),u=a.default.create;function d(){var n=u();return n.compile=function(e,t){return s.compile(e,t,n)},n.precompile=function(e,t){return s.precompile(e,t,n)},n.AST=i.default,n.Compiler=s.Compiler,n.JavaScriptCompiler=l.default,n.Parser=o.parser,n.parse=o.parse,n.parseWithoutProcessing=o.parseWithoutProcessing,n}n=d();n.create=d,r.default(n),n.Visitor=c.default,n.default=n,t.default=n,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";var r=n(3).default,a=n(1).default;t.__esModule=!0;var i=r(n(4)),o=a(n(37)),s=a(n(6)),l=r(n(5)),c=r(n(38)),r=a(n(44));function u(){var t=new i.HandlebarsEnvironment;return l.extend(t,i),t.SafeString=o.default,t.Exception=s.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}a=u();a.create=u,r.default(a),a.default=a,t.default=a,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";var r=n(1).default,a=(t.__esModule=!0,t.HandlebarsEnvironment=u,n(5)),i=r(n(6)),o=n(10),s=n(30),r=r(n(32)),l=n(33),c=(t.VERSION="4.7.7",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},"[object Object]");function u(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},o.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:r.default,log:r.default.log,registerHelper:function(e,t){if(a.toString.call(e)===c){if(t)throw new i.default("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(a.toString.call(e)===c)a.extend(this.partials,e);else{if(void 0===t)throw new i.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(a.toString.call(e)===c){if(t)throw new i.default("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){l.resetLoggedProperties()}};n=r.default.log;t.log=n,t.createFrame=a.createFrame,t.logger=r.default},function(e,t){"use strict";t.__esModule=!0,t.extend=o,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return a.test(e)?e.replace(r,i):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=o({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,a=/[&<>"'`=]/;function i(e){return n[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var s=Object.prototype.toString,l=(t.toString=s,function(e){return"function"==typeof e}),c=(l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===s.call(e)}),t.isFunction=l,Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===s.call(e)});t.isArray=c},function(e,t,n){"use strict";var l=n(7).default,c=(t.__esModule=!0,["description","fileName","lineNumber","endLineNumber","message","name","number","stack"]);function u(e,t){for(var t=t&&t.loc,n=void 0,r=void 0,a=void 0,i=void 0,o=(t&&(n=t.start.line,r=t.end.line,a=t.start.column,i=t.end.column,e+=" - "+n+":"+a),Error.prototype.constructor.call(this,e)),s=0;s<c.length;s++)this[c[s]]=o[c[s]];Error.captureStackTrace&&Error.captureStackTrace(this,u);try{t&&(this.lineNumber=n,this.endLineNumber=r,l?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:i,enumerable:!0})):(this.column=a,this.endColumn=i))}catch(e){}}u.prototype=new Error,t.default=u,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var r=n(9);e.exports=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){a.default(e),i.default(e),o.default(e),s.default(e),l.default(e),c.default(e),u.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var a=r(n(11)),i=r(n(12)),o=r(n(25)),s=r(n(26)),l=r(n(27)),c=r(n(28)),u=r(n(29))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(a){a.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse,r=t.fn;return!0===e?r(this):!1===e||null==e?n(this):i.isArray(e)?0<e.length?(t.ids&&(t.ids=[t.name]),a.helpers.each(e,t)):n(this):(t.data&&t.ids&&((n=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.name),t={data:n}),r(e,t))})},e.exports=t.default},function(t,n,r){!function(h){"use strict";var m=r(13).default,e=r(1).default,g=(n.__esModule=!0,r(5)),v=e(r(6));n.default=function(e){e.registerHelper("each",function(r,e){if(!e)throw new v.default("Must pass iterator to #each");var t,a=e.fn,n=e.inverse,i=0,o="",s=void 0,l=void 0;function c(e,t,n){s&&(s.key=e,s.index=t,s.first=0===t,s.last=!!n,l)&&(s.contextPath=l+e),o+=a(r[e],{data:s,blockParams:g.blockParams([r[e],e],[l+e,null])})}if(e.data&&e.ids&&(l=g.appendContextPath(e.data.contextPath,e.ids[0])+"."),g.isFunction(r)&&(r=r.call(this)),e.data&&(s=g.createFrame(e.data)),r&&"object"==typeof r)if(g.isArray(r))for(var u=r.length;i<u;i++)i in r&&c(i,i,i===r.length-1);else if(h.Symbol&&r[h.Symbol.iterator]){for(var d=[],p=r[h.Symbol.iterator](),f=p.next();!f.done;f=p.next())d.push(f.value);for(u=(r=d).length;i<u;i++)c(i,i,i===r.length-1)}else t=void 0,m(r).forEach(function(e){void 0!==t&&c(t,i-1),t=e,i++}),void 0!==t&&c(t,i-1,!0);return o=0===i?n(this):o})},t.exports=n.default}.call(n,function(){return this}())},function(e,t,n){e.exports={default:n(14),__esModule:!0}},function(e,t,n){n(15),e.exports=n(21).Object.keys},function(e,t,n){var r=n(16);n(18)("keys",function(t){return function(e){return t(r(e))}})},function(e,t,n){var r=n(17);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(19),i=n(21),o=n(24);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),a(a.S+a.F*o(function(){n(1)}),"Object",r)}},function(e,t,n){function h(e,t,n){var r,a,i,o=e&h.F,s=e&h.G,l=e&h.S,c=e&h.P,u=e&h.B,d=e&h.W,p=s?g:g[t]||(g[t]={}),f=s?m:l?m[t]:(m[t]||{})[b];for(r in n=s?t:n)(a=!o&&f&&r in f)&&r in p||(i=(a?f:n)[r],p[r]=s&&"function"!=typeof f[r]?n[r]:u&&a?v(i,m):d&&f[r]==i?function(t){function e(e){return this instanceof t?new t(e):t(e)}return e[b]=t[b],e}(i):c&&"function"==typeof i?v(Function.call,i):i,c&&((p[b]||(p[b]={}))[r]=i))}var m=n(20),g=n(21),v=n(22),b="prototype";h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,e.exports=h},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){e=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=e)},function(e,t,n){var i=n(23);e.exports=function(r,a,e){if(i(r),void 0===a)return r;switch(e){case 1:return function(e){return r.call(a,e)};case 2:return function(e,t){return r.call(a,e,t)};case 3:return function(e,t,n){return r.call(a,e,t,n)}}return function(){return r.apply(a,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var a=r(n(6));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default,a=(t.__esModule=!0,n(5)),i=r(n(6));t.default=function(n){n.registerHelper("if",function(e,t){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return a.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return n.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(a){a.registerHelper("log",function(){for(var e=[void 0],t=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var r=1;null!=t.hash.level?r=t.hash.level:t.data&&null!=t.data.level&&(r=t.data.level),e[0]=r,a.log.apply(a,e)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t,n){return e&&n.lookupProperty(e,t)})},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default,a=(t.__esModule=!0,n(5)),i=r(n(6));t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");a.isFunction(e)&&(e=e.call(this));var n,r=t.fn;return a.isEmpty(e)?t.inverse(this):(n=t.data,t.data&&t.ids&&((n=a.createFrame(t.data)).contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])),r(e,{data:n,blockParams:a.blockParams([e],[n&&n.contextPath])}))})},e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){a.default(e)};var a=r(n(31))},function(e,t,n){"use strict";t.__esModule=!0;var o=n(5);t.default=function(e){e.registerDecorator("inline",function(r,a,i,e){var t=r;return a.partials||(a.partials={},t=function(e,t){var n=i.partials,e=(i.partials=o.extend({},n,a.partials),r(e,t));return i.partials=n,e}),a.partials[e.args[0]]=e.fn,t})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){var t;return e="string"==typeof e?0<=(t=r.indexOf(a.methodMap,e.toLowerCase()))?t:parseInt(e,10):e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){e=a.methodMap[e];console[e]||(e="log");for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r=n(34).default,a=n(13).default,i=n(3).default,o=(t.__esModule=!0,t.createProtoAccessControl=function(e){var t=r(null),n=(t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1,r(null));return n.__proto__=!1,{properties:{whitelist:o.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:o.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return c("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){a(l).forEach(function(e){delete l[e]})},n(36)),s=i(n(32)),l=r(null);function c(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(!0!==l[e=t]&&(l[e]=!0,s.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),!1)}},function(e,t,n){e.exports={default:n(35),__esModule:!0}},function(e,t,n){var r=n(9);e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){"use strict";var r=n(34).default,a=(t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.extend.apply(void 0,[r(null)].concat(t))},n(5))},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";var r=n(39).default,i=n(13).default,a=n(3).default,o=n(1).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=p.COMPILER_REVISION;if(!(t>=p.LAST_COMPATIBLE_COMPILER_REVISION&&t<=p.COMPILER_REVISION))throw t<p.LAST_COMPATIBLE_COMPILER_REVISION?(n=p.REVISION_CHANGES[n],t=p.REVISION_CHANGES[t],new d.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+t+").")):new d.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(l,c){if(!c)throw new d.default("No environment passed to template");if(!l||!l.main)throw new d.default("Unknown template object: "+typeof l);l.main.decorator=l.main_d,c.VM.checkRevision(l.compiler);var n=l.compiler&&7===l.compiler[0];var o={strict:function(e,t,n){if(e&&t in e)return o.lookupProperty(e,t);throw new d.default('"'+t+'" not defined in '+e,{loc:n})},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||m.resultIsAllowed(n,o.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(null!=(e[r]&&o.lookupProperty(e[r],t)))return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:u.escapeExpression,invokePartial:function(e,t,n){n.hash&&(t=u.extend({},t,n.hash),n.ids)&&(n.ids[0]=!0),e=c.VM.resolvePartial.call(this,e,t,n);var r=u.extend({},n,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=c.VM.invokePartial.call(this,e,t,r);if(null==a&&c.compile&&(n.partials[n.name]=c.compile(e,l.compilerOptions,c),a=n.partials[n.name](t,r)),null==a)throw new d.default("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var i=a.split("\n"),o=0,s=i.length;o<s&&(i[o]||o+1!==s);o++)i[o]=n.indent+i[o];a=i.join("\n")}return a},fn:function(e){var t=l[e];return t.decorator=l[e+"_d"],t},programs:[],program:function(e,t,n,r,a){var i=this.programs[e],o=this.fn(e);return i=t||a||r||n?g(this,e,o,t,n,r,a):i||(this.programs[e]=g(this,e,o))},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return n=e&&t&&e!==t?u.extend({},t,e):n},nullContext:r({}),noop:c.VM.noop,compilerInfo:l.compiler};function s(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.data,r=(s._setup(t),!t.partial&&l.useData&&(n=function(e,t){t&&"root"in t||((t=t?p.createFrame(t):{}).root=e);return t}(e,n)),void 0),a=l.useBlockParams?[]:void 0;function i(e){return""+l.main(o,e,o.helpers,o.partials,n,a,r)}return l.useDepths&&(r=t.depths?e!=t.depths[0]?[e].concat(t.depths):t.depths:[e]),(i=v(l.main,i,o,t.depths||[],n,a))(e,t)}return s.isTop=!0,s._setup=function(e){var t,r,a;e.partial?(o.protoAccessControl=e.protoAccessControl,o.helpers=e.helpers,o.partials=e.partials,o.decorators=e.decorators,o.hooks=e.hooks):(t=u.extend({},c.helpers,e.helpers),a=o,i(r=t).forEach(function(e){var t,n=r[e];r[e]=(t=a.lookupProperty,h.wrapHelper(n,function(e){return u.extend({lookupProperty:t},e)}))}),o.helpers=t,l.usePartial&&(o.partials=o.mergeIfNeeded(e.partials,c.partials)),(l.usePartial||l.useDecorators)&&(o.decorators=u.extend({},c.decorators,e.decorators)),o.hooks={},o.protoAccessControl=m.createProtoAccessControl(e),t=e.allowCallsToHelperMissing||n,f.moveHelperToHooks(o,"helperMissing",t),f.moveHelperToHooks(o,"blockHelperMissing",t))},s._child=function(e,t,n,r){if(l.useBlockParams&&!n)throw new d.default("must pass block params");if(l.useDepths&&!r)throw new d.default("must pass parent depths");return g(o,e,l[e],t,0,n,r)},s},t.wrapProgram=g,t.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function(e,t,r){var a=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var i=void 0;r.fn&&r.fn!==s&&!function(){r.data=p.createFrame(r.data);var n=r.fn;i=r.data["partial-block"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.data=p.createFrame(t.data),t.data["partial-block"]=a,n(e,t)},n.partials&&(r.partials=u.extend({},r.partials,n.partials))}();void 0===e&&i&&(e=i);{if(void 0===e)throw new d.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)}},t.noop=s;var u=a(n(5)),d=o(n(6)),p=n(4),f=n(10),h=n(43),m=n(33);function g(r,e,a,i,t,o,s){function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=s;return!s||e==s[0]||e===r.nullContext&&null===s[0]||(n=[e].concat(s)),a(r,e,r.helpers,r.partials,t.data||i,o&&[t.blockParams].concat(o),n)}return(n=v(a,n,r,s,i,o)).program=e,n.depth=s?s.length:0,n.blockParams=t||0,n}function s(){return""}function v(e,t,n,r,a,i){return e.decorator&&(t=e.decorator(t,e={},n,r&&r[0],a,i,r),u.extend(t,e)),t}},function(e,t,n){e.exports={default:n(40),__esModule:!0}},function(e,t,n){n(41),e.exports=n(21).Object.seal},function(e,t,n){var r=n(42);n(18)("seal",function(t){return function(e){return t&&r(e)?t(e):e}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){"use strict";t.__esModule=!0,t.wrapHelper=function(t,n){if("function"!=typeof t)return t;return function(){var e=arguments[arguments.length-1];return arguments[arguments.length-1]=n(e),t.apply(this,arguments)}}},function(e,t){!function(r){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==r?r:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}.call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default,a=n(3).default;t.__esModule=!0,t.parseWithoutProcessing=l,t.parse=function(e,t){e=l(e,t);return new o.default(t).accept(e)};var i=r(n(47)),o=r(n(48)),r=a(n(50)),a=n(5),s=(t.parser=i.default,{});function l(e,t){return"Program"===e.type?e:((i.default.yy=s).locInfo=function(e){return new s.SourceLocation(t&&t.srcName,e)},i.default.parse(e))}a.extend(s,r)},function(e,t){"use strict";t.__esModule=!0;(n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,r,a,i,o){var s=i.length-1;switch(a){case 1:return i[s-1];case 2:this.$=r.prepareProgram(i[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=i[s];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(i[s]),strip:r.stripFlags(i[s],i[s]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[s],value:i[s],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(i[s-2],i[s-1],i[s],this._$);break;case 12:this.$={path:i[s-3],params:i[s-2],hash:i[s-1]};break;case 13:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!1,this._$);break;case 14:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!0,this._$);break;case 15:this.$={open:i[s-5],path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 16:case 17:this.$={path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 18:this.$={strip:r.stripFlags(i[s-1],i[s-1]),program:i[s]};break;case 19:var l=r.prepareBlock(i[s-2],i[s-1],i[s],i[s],!1,this._$),l=r.prepareProgram([l],i[s-1].loc);l.chained=!0,this.$={strip:i[s-2].strip,program:l,chain:!0};break;case 20:this.$=i[s];break;case 21:this.$={path:i[s-1],strip:r.stripFlags(i[s-2],i[s])};break;case 22:case 23:this.$=r.prepareMustache(i[s-3],i[s-2],i[s-1],i[s-4],r.stripFlags(i[s-4],i[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[s-3],params:i[s-2],hash:i[s-1],indent:"",strip:r.stripFlags(i[s-4],i[s]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(i[s-2],i[s-1],i[s],this._$);break;case 26:this.$={path:i[s-3],params:i[s-2],hash:i[s-1],strip:r.stripFlags(i[s-4],i[s])};break;case 27:case 28:this.$=i[s];break;case 29:this.$={type:"SubExpression",path:i[s-3],params:i[s-2],hash:i[s-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[s],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(i[s-2]),value:i[s],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(i[s-1]);break;case 33:case 34:this.$=i[s];break;case 35:this.$={type:"StringLiteral",value:i[s],original:i[s],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[s]),original:Number(i[s]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===i[s],original:"true"===i[s],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=i[s];break;case 42:this.$=r.preparePath(!0,i[s],this._$);break;case 43:this.$=r.preparePath(!1,i[s],this._$);break;case 44:i[s-2].push({part:r.id(i[s]),original:i[s],separator:i[s-1]}),this.$=i[s-2];break;case 45:this.$=[{part:r.id(i[s]),original:i[s]}];break;case 46:this.$=[];break;case 47:i[s-1].push(i[s]);break;case 48:this.$=[];break;case 49:i[s-1].push(i[s]);break;case 50:this.$=[];break;case 51:i[s-1].push(i[s]);break;case 58:this.$=[];break;case 59:i[s-1].push(i[s]);break;case 64:this.$=[];break;case 65:i[s-1].push(i[s]);break;case 70:this.$=[];break;case 71:i[s-1].push(i[s]);break;case 78:this.$=[];break;case 79:i[s-1].push(i[s]);break;case 82:this.$=[];break;case 83:i[s-1].push(i[s]);break;case 86:this.$=[];break;case 87:i[s-1].push(i[s]);break;case 90:this.$=[];break;case 91:i[s-1].push(i[s]);break;case 94:this.$=[];break;case 95:i[s-1].push(i[s]);break;case 98:this.$=[i[s]];break;case 99:i[s-1].push(i[s]);break;case 100:this.$=[i[s]];break;case 101:i[s-1].push(i[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],a=[],i=this.table,o="",s=0,l=0,c=0,u=(this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc),d=(a.push(u),this.lexer.options&&this.lexer.options.ranges);"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,h,m,g,v,b,y,$={};;){if(h=n[n.length-1],void 0===(m=this.defaultActions[h]||(null==p&&(w=void 0,p=w="number"!=typeof(w=t.lexer.lex()||1)&&t.symbols_[w]||w),i[h]&&i[h][p]))||!m.length||!m[0]){var w="";if(!c){for(g in y=[],i[h])this.terminals_[g]&&2<g&&y.push("'"+this.terminals_[g]+"'");w=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:y})}}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+p);switch(m[0]){case 1:n.push(p),r.push(this.lexer.yytext),a.push(this.lexer.yylloc),n.push(m[1]),p=null,f?(p=f,f=null):(l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,0<c&&c--);break;case 2:if(v=this.productions_[m[1]][1],$.$=r[r.length-v],$._$={first_line:a[a.length-(v||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(v||1)].first_column,last_column:a[a.length-1].last_column},d&&($._$.range=[a[a.length-(v||1)].range[0],a[a.length-1].range[1]]),void 0!==(b=this.performAction.call($,o,l,s,this.yy,m[1],r,a)))return b;v&&(n=n.slice(0,-1*v*2),r=r.slice(0,-1*v),a=a.slice(0,-1*v)),n.push(this.productions_[m[1]][0]),r.push($.$),a.push($._$),b=i[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g),e=(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t,this.match.split(/(?:\r\n?|\n)/g)),r=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===e.length?this.yylloc.first_column:0)+e[e.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,r,a=this._currentRules(),i=0;i<a.length&&(!(t=this._input.match(this.rules[a[i]]))||e&&!(t[0].length>e[0].length)||(e=t,n=i,this.options.flex));i++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,a[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,n,t,r){function a(e,t){return n.yytext=n.yytext.substring(e,n.yyleng-t+e)}switch(t){case 0:if("\\\\"===n.yytext.slice(-2)?(a(0,1),this.begin("mu")):"\\"===n.yytext.slice(-1)?(a(0,1),this.begin("emu")):this.begin("mu"),n.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(a(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(n.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return n.yytext=a(1,2).replace(/\\"/g,'"'),80;case 32:return n.yytext=a(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};var n=new((r.prototype=n).Parser=r);function r(){this.yy={}}t.default=n,e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;r=r(n(49));function a(){this.options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0]}function p(e,t,n){var r=e[(t=void 0===t?e.length:t)-1],e=e[t-2];return r?"ContentStatement"===r.type?(e||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function f(e,t,n){var r=e[(t=void 0===t?-1:t)+1],e=e[t+2];return r?"ContentStatement"===r.type?(e||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function h(e,t,n){e=e[null==t?0:t+1];!e||"ContentStatement"!==e.type||!n&&e.rightStripped||(t=e.value,e.value=e.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),e.rightStripped=e.value!==t)}function m(e,t,n){e=e[null==t?e.length-1:t-1];if(e&&"ContentStatement"===e.type&&(n||!e.leftStripped))return t=e.value,e.value=e.value.replace(n?/\s+$/:/[ \t]+$/,""),e.leftStripped=e.value!==t,e.leftStripped}(a.prototype=new r.default).Program=function(e){for(var t=!this.options.ignoreStandalone,n=!this.isRootSeen,r=(this.isRootSeen=!0,e.body),a=0,i=r.length;a<i;a++){var o,s,l,c,u=r[a],d=this.accept(u);d&&(c=p(r,a,n),o=f(r,a,n),s=d.openStandalone&&c,l=d.closeStandalone&&o,c=d.inlineStandalone&&c&&o,d.close&&h(r,a,!0),d.open&&m(r,a,!0),t&&c&&(h(r,a),m(r,a))&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(r[a-1].original)[1]),t&&s&&(h((u.program||u.inverse).body),m(r,a)),t)&&l&&(h(r,a),m((u.inverse||u.program).body))}return e},a.prototype.BlockStatement=a.prototype.DecoratorBlock=a.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,a=n;if(n&&n.chained)for(r=n.body[0].program;a.chained;)a=a.body[a.body.length-1].program;var i={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:f(t.body),closeStandalone:p((r||t).body)};return e.openStrip.close&&h(t.body,null,!0),n?((n=e.inverseStrip).open&&m(t.body,null,!0),n.close&&h(r.body,null,!0),e.closeStrip.open&&m(a.body,null,!0),!this.options.ignoreStandalone&&p(t.body)&&f(r.body)&&(m(t.body),h(r.body))):e.closeStrip.open&&m(t.body,null,!0),i},a.prototype.Decorator=a.prototype.MustacheStatement=function(e){return e.strip},a.prototype.PartialStatement=a.prototype.CommentStatement=function(e){e=e.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},t.default=a,e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0;var a=r(n(6));function i(){this.parents=[]}function o(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function s(e){o.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function l(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new a.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new a.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new a.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:o,Decorator:o,BlockStatement:s,DecoratorBlock:s,PartialStatement:l,PartialBlockStatement:function(e){l.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=n(1).default;t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,n){n=this.locInfo(n);for(var r=e?"@":"",a=[],i=0,o=0,s=t.length;o<s;o++){var l=t[o].part,c=t[o].original!==l;if(r+=(t[o].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)a.push(l);else{if(0<a.length)throw new u.default("Invalid path: "+r,{loc:n});".."===l&&i++}}return{type:"PathExpression",data:e,depth:i,parts:a,original:r,loc:n}},t.prepareMustache=function(e,t,n,r,a,i){var o=r.charAt(3)||r.charAt(2),o="{"!==o&&"&"!==o;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:o,strip:a,loc:this.locInfo(i)}},t.prepareRawBlock=function(e,t,n,r){c(e,n),r=this.locInfo(r);n={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:n,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},t.prepareBlock=function(e,t,n,r,a,i){r&&r.path&&c(e,r);var o=/\*/.test(e.open),s=void(t.blockParams=e.blockParams),l=void 0;if(n){if(o)throw new u.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),l=n.strip,s=n.program}a&&(a=s,s=t,t=a);return{type:o?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:s,openStrip:e.strip,inverseStrip:l,closeStrip:r&&r.strip,loc:this.locInfo(i)}},t.prepareProgram=function(e,t){{var n,r;!t&&e.length&&(n=e[0].loc,r=e[e.length-1].loc,n)&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,n,r){return c(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var u=r(n(6));function c(e,t){var n;if(t=t.path?t.path.original:t,e.path.original!==t)throw n={loc:e.path.loc},new u.default(e.path.original+" doesn't match "+t,n)}},function(e,t,n){"use strict";var r=n(34).default,a=n(1).default;t.__esModule=!0,t.Compiler=c,t.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);e=n.parse(e,t),e=(new n.Compiler).compile(e,t);return(new n.JavaScriptCompiler).compile(e,t)},t.compile=function(t,n,r){void 0===n&&(n={});if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(n=s.extend({},n))||(n.data=!0);n.compat&&(n.useDepths=!0);var a=void 0;function i(){var e=r.parse(t,n),e=(new r.Compiler).compile(e,n),e=(new r.JavaScriptCompiler).compile(e,n,void 0,!0);return r.template(e)}function e(e,t){return(a=a||i()).call(this,e,t)}return e._setup=function(e){return(a=a||i())._setup(e)},e._child=function(e,t,n,r){return(a=a||i())._child(e,t,n,r)},e};var o=a(n(6)),s=n(5),i=a(n(45)),l=[].slice;function c(){}function u(e){var t;e.path.parts||(t=e.path,e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc})}c.prototype={compiler:c,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],a=e.opcodes[n];if(r.opcode!==a.opcode||!function e(t,n){if(t===n)return!0;if(s.isArray(t)&&s.isArray(n)&&t.length===n.length){for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}}(r.args,a.args))return!1}for(t=this.children.length,n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=s.extend(r(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var e=(new this.compiler).compile(e,this.options),t=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[t]=e,this.useDepths=this.useDepths||e.useDepths,t},accept:function(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);e=this[e.type](e);return this.sourceNode.shift(),e},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){u(e);var t=e.program,n=e.inverse,t=t&&this.compileProgram(t),n=n&&this.compileProgram(n),r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),t=this.setupFullMustacheParams(e,t,void 0),e=e.path;this.useDecorators=!0,this.opcode("registerDecorator",t.length,e.original)},PartialStatement:function(e){this.usePartial=!0;var t=(t=e.program)&&this.compileProgram(e.program),n=e.params;if(1<n.length)throw new o.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var n=e.name.original,r="SubExpression"===e.name.type,t=(r&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0),e.indent||"");this.options.preventIndent&&t&&(this.opcode("appendContent",t),t=""),this.opcode("invokePartial",r,n,t),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){u(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var e=e.path,r=e.parts[0],a=null!=t||null!=n;this.opcode("getContext",e.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.strict=!0,this.accept(e),this.opcode("invokeAmbiguous",r,a)},simpleSexpr:function(e){e=e.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var t=this.setupFullMustacheParams(e,t,n),n=e.path,r=n.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",t.length,r);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+r,e);n.strict=!0,n.falsy=!0,this.accept(n),this.opcode("invokeHelper",t.length,n.original,i.default.helpers.simpleId(n))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=i.default.helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:l.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=i.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&i.default.helpers.helperExpression(e),n=!n&&(r||t);return n&&!r&&(t=e.path.parts[0],(e=this.options).knownHelpers[t]?r=!0:e.knownHelpersOnly&&(n=!1)),r?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t,n,r=null!=e.value?e.value:e.original||"";this.stringParams?(r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),"SubExpression"===e.type&&this.accept(e)):(this.trackIds&&(t=void 0,(t=!e.parts||i.default.helpers.scopedId(e)||e.depth?t:this.blockParamIndex(e.parts[0]))?(n=e.parts.slice(1).join("."),this.opcode("pushId","BlockParam",t,n)):((r=e.original||r).replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r))),this.accept(e))},setupFullMustacheParams:function(e,t,n,r){var a=e.params;return this.pushParams(a),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),a},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],a=r&&s.indexOf(r,e);if(r&&0<=a)return[t,a]}}}},function(e,t,n){"use strict";var o=n(13).default,r=n(1).default,a=(t.__esModule=!0,n(4)),p=r(n(6)),i=n(5),s=r(n(53));function l(e){this.value=e}function c(){}c.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=a.COMPILER_REVISION;return[e,a.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return i.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var a,i=e.opcodes,o=void 0,s=void 0,l=void 0;for(s=0,l=i.length;s<l;s++)a=i[s],this.source.currentLocation=a.loc,o=o||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new p.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));n=this.createFunctionContext(r);if(this.isChild)return n;for(var c={compiler:this.compilerInfo(),main:n},e=(this.decorators&&(c.main_d=this.decorators,c.useDecorators=!0),this.context),u=e.programs,d=e.decorators,s=0,l=u.length;s<l;s++)u[s]&&(c[s]=u[s],d[s])&&(c[s+"_d"]=d[s],c.useDecorators=!0);return this.environment.usePartial&&(c.usePartial=!0),this.options.data&&(c.useData=!0),this.useDepths&&(c.useDepths=!0),this.useBlockParams&&(c.useBlockParams=!0),this.options.compat&&(c.compat=!0),r?c.compilerOptions=this.options:(c.compiler=JSON.stringify(c.compiler),this.source.currentLocation={start:{line:1,column:0}},c=this.objectLiteral(c),t.srcName?(c=c.toStringWithSourceMap({file:t.destName})).map=c.map&&c.map.toString():c=c.toString()),c},preamble:function(){this.lastContext=0,this.source=new s.default(this.options.srcName),this.decorators=new s.default(this.options.srcName)},createFunctionContext:function(e){var n=this,r="",t=this.stackVars.concat(this.registers.list),a=(0<t.length&&(r+=", "+t.join(", ")),0),t=(o(this.aliases).forEach(function(e){var t=n.aliases[e];t.children&&1<t.referenceCount&&(r+=", alias"+ ++a+"="+e,t.children[0]="alias"+a)}),this.lookupPropertyFunctionIsUsed&&(r+=", "+this.lookupPropertyFunctionVarDeclaration()),["container","depth0","helpers","partials","data"]),i=((this.useBlockParams||this.useDepths)&&t.push("blockParams"),this.useDepths&&t.push("depths"),this.mergeSource(r));return e?(t.push(i),Function.apply(this,t)):this.source.wrap(["function(",t.join(","),") {\n  ",i,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,a=void 0,i=void 0,o=void 0;return this.source.each(function(e){e.appendToBuffer?(i?e.prepend("  + "):i=e,o=e):(i&&(a?i.prepend("buffer += "):r=!0,o.add(";"),i=o=void 0),a=!0,t||(n=!1))}),n?i?(i.prepend("return "),o.add(";")):a||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),o.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)],e=(this.setupHelperArgs(e,0,n),this.popStack());n.splice(1,0,e),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)],n=(this.setupHelperArgs("",0,t,!0),this.flushInline(),this.topStack());t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){var e;this.isInline()?(this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()))):(e=this.popStack(),this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"]))},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,r){var a=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[a++])),this.resolvePath("context",e,a,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(n,r,a,i,e){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,r){var a=t.popStack(),i=0,o=n.length;e&&o--;for(;i<o;i++)a=t.nameLookup(a,n[i],r);return e?[t.aliasable("container.strict"),"(",a,", ",t.quotedString(n[i]),", ",JSON.stringify(t.source.currentLocation)," )"]:a}(this.options.strict&&e,this,r,n));else for(var t=r.length;a<t;a++)this.replaceStack(function(e){var t=o.nameLookup(e,r[a],n);return i?[" && ",t]:[" != null ? ",t," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),t=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",t])," || fn;"])},invokeHelper:function(e,t,n){var r=this.popStack(),e=this.setupHelper(e,t),t=[],n=(n&&t.push(e.name),t.push(r),this.options.strict||t.push(this.aliasable("container.hooks.helperMissing")),["(",this.itemsSeparatedBy(t,"||"),")"]),r=this.source.functionCall(n,"call",e.callParams);this.push(r)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var r=1;r<e.length;r++)n.push(t,e[r]);return n},invokeKnownHelper:function(e,t){e=this.setupHelper(e,t);this.push(this.source.functionCall(e.name,"call",e.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack(),t=(this.emptyHash(),this.setupHelper(0,e,t)),e=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(e[0]="(helper = ",e.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",e,t.paramsInit?["),(",t.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",t.callParams)," : helper))"])},invokePartial:function(e,t,n){var r=[],a=this.setupParams(t,1,r);e&&(t=this.popStack(),delete a.name),n&&(a.indent=JSON.stringify(n)),a.helpers="helpers",a.partials="partials",a.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(a.depths="depths"),a=this.objectLiteral(a),r.push(a),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),n=void 0,r=void 0,a=void 0,i=(this.trackIds&&(a=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack()),this.hash);n&&(i.contexts[e]=n),r&&(i.types[e]=r),a&&(i.ids[e]=a),i.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(e,t){for(var n=e.children,r=void 0,a=void 0,i=0,o=n.length;i<o;i++){var s,r=n[i],a=new this.compiler,l=this.matchExistingProgram(r);null==l?(this.context.programs.push(""),s=this.context.programs.length,r.index=s,r.name="program"+s,this.context.programs[s]=a.compile(r,t,this.context,!this.precompile),this.context.decorators[s]=a.decorators,this.context.environments[s]=r,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams):(r.index=l.index,r.name="program"+l.index,this.useDepths=this.useDepths||l.useDepths,this.useBlockParams=this.useBlockParams||l.useBlockParams)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function(e){e=this.environment.children[e],e=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&e.push("blockParams"),this.useDepths&&e.push("depths"),"container.program("+e.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new l(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,a=void 0;if(!this.isInline())throw new p.default("replaceStack on non-inline");var i=this.popStack(!0),o=(i instanceof l?(t=["(",n=[i.value]],a=!0):(r=!0,o=this.incrStack(),t=["((",this.push(o)," = ",i,")"],n=this.topStack()),e.call(this,n));a||this.popStack(),r&&this.stackSlot--,this.push(t.concat(o,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r,a=e[t];a instanceof l?this.compileStack.push(a):(r=this.incrStack(),this.pushSource([r," = ",a,";"]),this.compileStack.push(r))}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof l)return n.value;if(!t){if(!this.stackSlot)throw new p.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,e=e[e.length-1];return e instanceof l?e.value:e},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?t.referenceCount++:((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1),t},setupHelper:function(e,t,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(t,e,r,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(e,t,n){for(var r,a={},i=[],o=[],s=[],l=!n,e=(l&&(n=[]),a.name=this.quotedString(e),a.hash=this.popStack(),this.trackIds&&(a.hashIds=this.popStack()),this.stringParams&&(a.hashTypes=this.popStack(),a.hashContexts=this.popStack()),this.popStack()),c=this.popStack(),u=((c||e)&&(a.fn=c||"container.noop",a.inverse=e||"container.noop"),t);u--;)r=this.popStack(),n[u]=r,this.trackIds&&(s[u]=this.popStack()),this.stringParams&&(o[u]=this.popStack(),i[u]=this.popStack());return l&&(a.args=this.source.generateArray(n)),this.trackIds&&(a.ids=this.source.generateArray(s)),this.stringParams&&(a.types=this.source.generateArray(o),a.contexts=this.source.generateArray(i)),this.options.data&&(a.data="data"),this.useBlockParams&&(a.blockParams="blockParams"),a},setupHelperArgs:function(e,t,n,r){e=this.setupParams(e,t,n);return e.loc=JSON.stringify(this.source.currentLocation),e=this.objectLiteral(e),r?(this.useRegister("options"),n.push("options"),["options=",e]):n?(n.push(e),""):e}};for(var u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),d=c.RESERVED_WORDS={},f=0,h=u.length;f<h;f++)d[u[f]]=!0;c.isValidJavaScriptVariableName=function(e){return!c.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=c,e.exports=t.default},function(e,t,n){"use strict";var i=n(13).default,o=(t.__esModule=!0,n(5)),r=void 0;function s(e,t,n){if(o.isArray(e)){for(var r=[],a=0,i=e.length;a<i;a++)r.push(t.wrap(e[a],n));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function a(e){this.srcFile=e,this.source=[]}r||((r=function(e,t,n,r){this.src="",r&&this.add(r)}).prototype={add:function(e){o.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){o.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),a.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof r?e:(e=s(e,this,t),new r(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(n){var r=this,a=[],e=(i(n).forEach(function(e){var t=s(n[e],r);"undefined"!==t&&a.push([r.quotedString(e),":",t])}),this.generateList(a));return e.prepend("{"),e.add("}"),e},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(s(e[n],this));return t},generateArray:function(e){e=this.generateList(e);return e.prepend("["),e.add("]"),e}},t.default=a,e.exports=t.default}],a={},n.m=r,n.c=a,n.p="",n(0);function n(e){var t;return(a[e]||(t=a[e]={exports:{},id:e,loaded:!1},r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t)).exports}var r,a}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?t(require("jquery")):t(e.jQuery)}(this,function(m){var t,g,l="center",c="left",u="right",v="auto";function r(e){this.$element=m(e),this.original_text=m.trim(this.$element.html()),this.settings=m.extend({},m.fn.trunk8.defaults)}function b(e){var t=document.createElement("DIV");return t.innerHTML=e,void 0!==t.textContent?t.textContent:t.innerText}function y(o,e,s){o=o.replace(s,"");function l(e,t){for(var n,r,a="",i=0;i<e.length;i++)n=e[i],r=m.trim(o).split(" ").length,m.trim(o).length&&("string"==typeof n?(/<br\s*\/?>/i.test(n)||(o=1===r&&m.trim(o).length<=n.length?(n=o,"p"!==t&&"div"!==t||(n+=s),""):o.replace(n,"")),a+=m.trim(n)+(i===e.length-1||r<=1?"":" ")):(r=l(n.content,n.tag),n.after&&(o=o.replace(n.after,"")),r&&(n.after||(n.after=" "),a+="<"+n.tag+n.attribs+">"+r+"</"+n.tag+">"+n.after)));return a}e=l(e);return e.slice(e.length-s.length)===s&&(e+=s),e}function a(){var e,t,n,r,a,i=this.data("trunk8"),o=i.settings,s=o.width,l=o.side,c=o.fill,u=o.parseHTML,d=g.getLineHeight(this)*o.lines,p=i.original_text,f=p.length,h="";if(this.html(p),i=this.text(),u&&b(p)!==p&&(a=function e(t){if(b(t)===t)return t.split(/\s/g);for(var n,r,a=[],i=/<([a-z]+)([^<]*)(?:>(.*?(?!<\1>))<\/\1>|\s+\/>)(['.?!,]*)|((?:[^<>\s])+['.?!,]*\w?|<br\s?\/?>)/gi,o=i.exec(t);o&&n!==i.lastIndex;)n=i.lastIndex,o[5]?a.push(o[5]):o[1]&&a.push({tag:o[1],attribs:o[2],content:o[3],after:o[4]}),o=i.exec(t);for(r=0;r<a.length;r++)"string"!=typeof a[r]&&a[r].content&&(a[r].content=e(a[r].content));return a}(p),f=(p=b(p)).length),s===v){if(this.height()<=d)return;for(e=0,t=f-1;e<=t;)r=g.eatStr(p,l,f-(n=e+(t-e>>1)),c),u&&a&&(r=y(r,a,c)),this.html(r),this.height()>d?t=n-1:(e=n+1,h=h.length>r.length?h:r);this.html(""),this.html(h),o.tooltip&&this.attr("title",i)}else{if(isNaN(s))return void m.error('Invalid width "'+s+'".');r=g.eatStr(p,l,n=f-s,c),this.html(r),o.tooltip&&this.attr("title",p)}o.onTruncate()}r.prototype.updateSettings=function(e){this.settings=m.extend(this.settings,e)},t={init:function(n){return this.each(function(){var e=m(this),t=e.data("trunk8");t||e.data("trunk8",t=new r(this)),t.updateSettings(n),a.call(e)})},update:function(t){return this.each(function(){var e=m(this);t&&(e.data("trunk8").original_text=t),a.call(e)})},revert:function(){return this.each(function(){var e=m(this).data("trunk8").original_text;m(this).html(e)})},getSettings:function(){return m(this.get(0)).data("trunk8").settings}},(g={eatStr:function(e,t,n,r){var a,i,o=e.length,s=g.eatStr.generateKey.apply(null,arguments);if(g.eatStr.cache[s])return g.eatStr.cache[s];if("string"==typeof e&&0!==o||m.error('Invalid source string "'+e+'".'),n<0||o<n)m.error('Invalid bite size "'+n+'".');else if(0===n)return e;switch("string"!=typeof(r+"")&&m.error("Fill unable to be converted to a string."),t){case u:return g.eatStr.cache[s]=m.trim(e.substr(0,o-n))+r;case c:return g.eatStr.cache[s]=r+m.trim(e.substr(n));case l:return i=n>>1,g.eatStr.cache[s]=m.trim(g.eatStr(e.substr(0,o-(a=o>>1)),u,n-i,""))+r+m.trim(g.eatStr(e.substr(o-a),c,i,""));default:m.error('Invalid side "'+t+'".')}},getLineHeight:function(e){var t=m(e).css("float"),n=("none"!==t&&m(e).css("float","none"),m(e).css("position")),r=("absolute"===n&&m(e).css("position","static"),m(e).html()),a="line-height-test";return m(e).html("i").wrap('<div id="'+a+'" />'),a=m("#"+a).innerHeight(),m(e).html(r).css({float:t,position:n}).unwrap(),a}}).eatStr.cache={},g.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")},m.fn.trunk8=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void m.error("Method "+e+" does not exist on jQuery.trunk8"):t.init.apply(this,arguments)},m.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:u,tooltip:!0,width:v,parseHTML:!1,onTruncate:function(){}}}),function(ye){"use strict";var u={objectMaxDepth:5,urlErrorParamsEnabled:!0};function t(e){if(!_e(e))return u;D(e.objectMaxDepth)&&(u.objectMaxDepth=d(e.objectMaxDepth)?e.objectMaxDepth:NaN),D(e.urlErrorParamsEnabled)&&Le(e.urlErrorParamsEnabled)&&(u.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function d(e){return $(e)&&0<e}function x(o,s){s=s||Error;var l="https://errors.angularjs.org/1.8.3/",e=l.replace(".","\\.")+"[\\s\\S]*",c=new RegExp(e,"g");return function(){var e,t,n=arguments[0],r=arguments[1],a="["+(o?o+":":"")+n+"] ",i=qe(arguments,2).map(function(e){return rt(e,u.objectMaxDepth)}),a=(a+=r.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<i.length?i[t].replace(c,""):e}))+("\n"+l+(o?o+"/":"")+n);if(u.urlErrorParamsEnabled)for(t=0,e="?";t<i.length;t++,e="&")a+=e+"p"+t+"="+encodeURIComponent(i[t]);return new s(a)}}var $e,g,f=/^\/(.+)\/([a-z]*)$/,m="validity",we=Object.prototype.hasOwnProperty,E=function(e){return Ce(e)?e.toLowerCase():e},_=function(e){return Ce(e)?e.toUpperCase():e},o=[].slice,r=[].splice,a=[].push,v=Object.prototype.toString,w=Object.getPrototypeOf,A=x("ng"),y=ye.angular||(ye.angular={}),O=0;function N(e){var t;return null!=e&&!V(e)&&(Ee(e)||Ce(e)||$e&&e instanceof $e||$(t="length"in Object(e)&&e.length)&&(0<=t&&t-1 in e||"function"==typeof e.item))}function ke(e,t,n){if(e)if(Te(e))for(a in e)"prototype"!==a&&"length"!==a&&"name"!==a&&e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else if(Ee(e)||N(e))for(var r="object"!=typeof e,a=0,i=e.length;a<i;a++)(r||a in e)&&t.call(n,e[a],a,e);else if(e.forEach&&e.forEach!==ke)e.forEach(t,n,e);else if(q(e))for(a in e)t.call(n,e[a],a,e);else if("function"==typeof e.hasOwnProperty)for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else for(a in e)we.call(e,a)&&t.call(n,e[a],a,e);return e}function I(e,t,n){for(var r=Object.keys(e).sort(),a=0;a<r.length;a++)t.call(n,e[r[a]],r[a])}function j(n){return function(e,t){n(t,e)}}function F(){return++O}function z(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function L(e,t,n){for(var r=e.$$hashKey,a=0,i=t.length;a<i;++a){var o=t[a];if(_e(o)||Te(o))for(var s=Object.keys(o),l=0,c=s.length;l<c;l++){var u=s[l],d=o[u];n&&_e(d)?k(d)?e[u]=new Date(d.valueOf()):H(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):G(d)?e[u]=d.clone():"__proto__"!==u&&(_e(e[u])||(e[u]=Ee(d)?[]:{}),L(e[u],[d],!0)):e[u]=d}}return z(e,r),e}function xe(e){return L(e,o.call(arguments,1),!1)}function R(e){return L(e,o.call(arguments,1),!0)}function b(e){return parseInt(e,10)}var Ie=ye.document.documentMode,T=Number.isNaN||function(e){return e!=e};function Ne(e,t){return xe(Object.create(e),t)}function P(){}function je(e){return e}function C(e){return function(){return e}}function U(e){return Te(e.toString)&&e.toString!==v}function Se(e){return void 0===e}function D(e){return void 0!==e}function _e(e){return null!==e&&"object"==typeof e}function q(e){return null!==e&&"object"==typeof e&&!w(e)}function Ce(e){return"string"==typeof e}function $(e){return"number"==typeof e}function k(e){return"[object Date]"===v.call(e)}function Ee(e){return Array.isArray(e)||e instanceof Array}function Fe(e){switch(v.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return e instanceof Error}}function Te(e){return"function"==typeof e}function H(e){return"[object RegExp]"===v.call(e)}function V(e){return e&&e.window===e}function ze(e){return e&&e.$evalAsync&&e.$watch}function Le(e){return"boolean"==typeof e}function Y(e){return e&&Te(e.then)}P.$inject=[],je.$inject=[];var B=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var Pe=function(e){return Ce(e)?e.trim():e},W=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function G(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function De(e){return E(e.nodeName||e[0]&&e[0].nodeName)}function K(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function Re(e,t){t=e.indexOf(t);return 0<=t&&e.splice(t,1),t}function X(e,n,t){var r,a=[],i=[];if(t=d(t)?t:NaN,n){if((r=n)&&$(r.length)&&B.test(v.call(r))||"[object ArrayBuffer]"===v.call(n))throw A("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===n)throw A("cpi","Can't copy! Source and destination are identical.");return Ee(n)?n.length=0:ke(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),a.push(e),i.push(n),o(e,n,t)}return s(e,t);function o(e,t,n){if(--n<0)return"...";var r,a=t.$$hashKey;if(Ee(e))for(var i=0,o=e.length;i<o;i++)t.push(s(e[i],n));else if(q(e))for(r in e)t[r]=s(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=s(e[r],n));else for(r in e)we.call(e,r)&&(t[r]=s(e[r],n));return z(t,a),t}function s(e,t){if(!_e(e))return e;var n=a.indexOf(e);if(-1!==n)return i[n];if(V(e)||ze(e))throw A("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,r=function(e){switch(v.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(s(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":return e.slice?e.slice(0):(t=new ArrayBuffer(e.byteLength),new Uint8Array(t).set(new Uint8Array(e)),t);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(Te(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===r&&(r=Ee(e)?[]:Object.create(w(e)),n=!0),a.push(e),i.push(r),n?o(e,r,t):r}}function Ue(e,t){return e===t||e!=e&&t!=t}function Me(e,t){if(e===t)return!0;if(null!==e&&null!==t){if(e!=e&&t!=t)return!0;var n,r,a,i=typeof e;if(i==typeof t&&"object"==i){if(!Ee(e)){if(k(e))return!!k(t)&&Ue(e.getTime(),t.getTime());if(H(e))return!!H(t)&&e.toString()===t.toString();if(ze(e)||ze(t)||V(e)||V(t)||Ee(t)||k(t)||H(t))return!1;for(r in a=Ae(),e)if("$"!==r.charAt(0)&&!Te(e[r])){if(!Me(e[r],t[r]))return!1;a[r]=!0}for(r in t)if(!(r in a)&&"$"!==r.charAt(0)&&D(t[r])&&!Te(t[r]))return!1;return!0}if(!Ee(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!Me(e[r],t[r]))return!1;return!0}}}return!1}var J=function(){var e;return D(J.rules)||((e=ye.document.querySelector("[ng-csp]")||ye.document.querySelector("[data-ng-csp]"))?(e=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp"),J.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}):J.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}),J.rules},Z=function(){if(D(Z.name_))return Z.name_;for(var e,t,n,r=ue.length,a=0;a<r;++a)if(t=ue[a],e=ye.document.querySelector("["+t.replace(":","\\:")+"jq]")){n=e.getAttribute(t+"jq");break}return Z.name_=n};function Q(e,t,n){return e.concat(o.call(t,n))}function qe(e,t){return o.call(e,t||0)}function He(e,t){var n=2<arguments.length?qe(arguments,2):[];return!Te(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,Q(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function ee(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:V(t)?n="$WINDOW":t&&ye.document===t?n="$DOCUMENT":ze(t)&&(n="$SCOPE"),n}function te(e,t){if(!Se(e))return $(t)||(t=t?2:null),JSON.stringify(e,ee,t)}function ne(e){return Ce(e)?JSON.parse(e):e}var re=/:/g;function ae(e,t){e=e.replace(re,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return T(e)?t:e}function ie(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function oe(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return ie(e,n*(ae(t,r)-r))}function Ve(e){e=$e(e).clone().empty();var t=$e("<div></div>").append(e).html();try{return e[0].nodeType===Qe?E(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+E(t)})}catch(e){return E(t)}}function se(e){try{return decodeURIComponent(e)}catch(e){}}function le(e){var a={};return ke((e||"").split("&"),function(e){var t,n,r;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),r=e.substring(t+1)),D(n=se(n)))&&(r=!D(r)||se(r),we.call(a,n)?Ee(a[n])?a[n].push(r):a[n]=[a[n],r]:a[n]=r)}),a}function ce(e){return i(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function i(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var ue=["ng-","data-ng-","ng:","x-ng-"];de=ye.document;var de,pe=!(be=de.currentScript)||(be instanceof ye.HTMLScriptElement||be instanceof ye.SVGScriptElement)&&[(be=be.attributes).getNamedItem("src"),be.getNamedItem("href"),be.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=de.createElement("a");if(t.href=e.value,de.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}});function fe(n,e){var r,a,t={};ke(ue,function(e){e+="app";!r&&n.hasAttribute&&n.hasAttribute(e)&&(a=(r=n).getAttribute(e))}),ke(ue,function(e){var t,e=e+"app";!r&&(t=n.querySelector("["+e.replace(":","\\:")+"]"))&&(a=(r=t).getAttribute(e))}),r&&(pe?(t.strictDi=null!==function(e,t){for(var n,r=ue.length,a=0;a<r;++a)if(n=ue[a]+t,Ce(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),e(r,a?[a]:[],t)):ye.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function he(t,n,r){function a(){if((t=$e(t)).injector())throw e=t[0]===ye.document?"document":Ve(t),A("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"));(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var e=fn(n,r.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e}r=xe({strictDi:!1},r=_e(r)?r:{});var e=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;if(ye&&e.test(ye.name)&&(r.debugInfoEnabled=!0,ye.name=ye.name.replace(e,"")),ye&&!i.test(ye.name))return a();ye.name=ye.name.replace(i,""),y.resumeBootstrap=function(e){return ke(e,function(e){n.push(e)}),a()},Te(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function me(){ye.name="NG_ENABLE_DEBUG_INFO!"+ye.name,ye.location.reload()}function ge(e){e=y.element(e).injector();if(e)return e.get("$$testability");throw A("test","no injector found for element argument to getTestability")}var ve=/[A-Z]/g;function Ye(e,n){return n=n||"_",e.replace(ve,function(e,t){return(t?n:"")+e.toLowerCase()})}var be=!1;function Be(){s.legacyXHTMLReplacement=!0}function We(e,t,n){if(!e)throw A("areq","Argument '{0}' is {1}",t||"?",n||"required")}function Ge(e,t,n){We(Te(e=n&&Ee(e)?e[e.length-1]:e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e))}function Ke(e,t){if("hasOwnProperty"===e)throw A("badname","hasOwnProperty is not a valid {0} name",t)}function Xe(e){for(var t,n=e[0],r=e[e.length-1],a=1;n!==r&&(n=n.nextSibling);a++)!t&&e[a]===n||(t=t||$e(o.call(e,0,a))).push(n);return t||e}function Ae(){return Object.create(null)}function Je(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!U(e)||Ee(e)||k(e)?te(e):e.toString()}return e}var Ze=1,Qe=3,et=8,tt=9;function nt(e){var d=x("$injector"),p=x("ng");function n(e,t,n){return e[t]||(e[t]=n())}e=n(e,"angular",Object);return e.$$minErr=e.$$minErr||x,n(e,"module",function(){var t={};return function(s,l,c){var u={},e="module";if("hasOwnProperty"===s)throw p("badname","hasOwnProperty is not a valid {0} name",e);return l&&t.hasOwnProperty(s)&&(t[s]=null),n(t,s,function(){var i,e,t,n,o;if(l)return i=[],n=r("$injector","invoke","push",e=[]),o={_invokeQueue:i,_configBlocks:e,_runBlocks:t=[],info:function(e){if(D(e)){if(_e(e))return u=e,this;throw p("aobj","Argument '{0}' must be an object","value")}return u},requires:l,name:s,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),decorator:a("$provide","decorator",e),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),component:a("$compileProvider","component"),config:n,run:function(e){return t.push(e),this}},c&&n(c),o;throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);function r(e,t,n,r){return r=r||i,function(){return r[n||"push"]([e,t,arguments]),o}}function a(n,r,a){return a=a||i,function(e,t){return t&&Te(t)&&(t.$$moduleName=s),a.push([n,r,arguments]),o}}})}})}function S(e,t){if(Ee(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(_e(e))for(var a in t=t||{},e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a]);return t||e}function rt(e,t){var n,r;return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):Se(e)?"undefined":"string"!=typeof e?(n=e,r=[],d(t=t)&&(n=y.copy(n,null,t)),JSON.stringify(n,function(e,t){if(_e(t=ee(e,t))){if(0<=r.indexOf(t))return"...";r.push(t)}return t})):e}var at={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};s.expando="ng339";var it=s.cache={},ot=1;s._data=function(e){return this.cache[e[this.expando]]||{}};var st=/-([a-z])/g,lt=/^-ms-/,ct={mouseleave:"mouseout",mouseenter:"mouseover"},ut=x("jqLite");function dt(e,t){return t.toUpperCase()}function pt(e){return e.replace(st,dt)}var ft,ht=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mt=/<|&#?\w+;/,gt=/<([\w:-]+)/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,bt={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]},yt=(bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,{option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]});for(ft in bt){var $t=bt[ft],wt=$t.slice().reverse();yt[ft]=[wt.length,"<"+wt.join("><")+">","</"+$t.join("></")+">"]}function kt(e){return!mt.test(e)}function xt(e){e=e.nodeType;return e===Ze||!e||e===tt}function St(e,t){var n,r,a,i=t.createDocumentFragment(),o=[];if(kt(e))o.push(t.createTextNode(e));else{if(n=i.appendChild(t.createElement("div")),t=(gt.exec(e)||["",""])[1].toLowerCase(),e=s.legacyXHTMLReplacement?e.replace(vt,"<$1></$2>"):e,Ie<10)for(r=yt[t]||yt._default,n.innerHTML=r[1]+e+r[2],a=r[0];a--;)n=n.firstChild;else{for(a=(r=bt[t]||[]).length;-1<--a;)n.appendChild(ye.document.createElement(r[a])),n=n.firstChild;n.innerHTML=e}o=Q(o,n.childNodes),(n=i.firstChild).textContent=""}return i.textContent="",i.innerHTML="",ke(o,function(e){i.appendChild(e)}),i}yt.optgroup=yt.option;var _t=ye.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function s(e){if(e instanceof s)return e;var t,n,r;if(Ce(e)&&(e=Pe(e),t=!0),!(this instanceof s)){if(t&&"<"!==e.charAt(0))throw ut("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new s(e)}t?Ft(this,(t=e,n=n||ye.document,(r=ht.exec(t))?[n.createElement(r[1])]:(r=St(t,n))?r.childNodes:[])):Te(e)?qt(e):Ft(this,e)}function Ct(e){return e.cloneNode(!0)}function Et(e,t){!t&&xt(e)&&$e.cleanData([e]),e.querySelectorAll&&$e.cleanData(e.querySelectorAll("*"))}function Tt(e){for(var t in e)return;return 1}function Pt(e){var t=e.ng339,n=t&&it[t],r=n&&n.events,n=n&&n.data;n&&!Tt(n)||r&&!Tt(r)||(delete it[t],e.ng339=void 0)}function Dt(n,e,r,t){if(D(t))throw ut("offargs","jqLite#off() does not support the `selector` argument");var t=At(n),a=t&&t.events,i=t&&t.handle;if(i){if(e){var o=function(e){var t=a[e];D(r)&&Re(t||[],r),D(r)&&t&&0<t.length||(n.removeEventListener(e,i),delete a[e])};ke(e.split(" "),function(e){o(e),ct[e]&&o(ct[e])})}else for(e in a)"$destroy"!==e&&n.removeEventListener(e,i),delete a[e];Pt(n)}}function Mt(e,t){var n=e.ng339,n=n&&it[n];n&&(t?delete n.data[t]:n.data={},Pt(e))}function At(e,t){var n=e.ng339,r=n&&it[n];return t&&!r&&(e.ng339=n=++ot,r=it[n]={events:{},data:{},handle:void 0}),r}function Ot(e,t,n){if(xt(e)){var r,a=D(n),i=!a&&t&&!_e(t),o=!t,e=At(e,!i),s=e&&e.data;if(a)s[pt(t)]=n;else{if(o)return s;if(i)return s&&s[pt(t)];for(r in t)s[pt(r)]=t[r]}}}function It(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Nt(e,t){var n,r;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n,ke(t.split(" "),function(e){e=Pe(e),r=r.replace(" "+e+" "," ")}),r!==n)&&e.setAttribute("class",Pe(r))}function jt(e,t){var n,r;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n,ke(t.split(" "),function(e){e=Pe(e),-1===r.indexOf(" "+e+" ")&&(r+=e+" ")}),r!==n)&&e.setAttribute("class",Pe(r))}function Ft(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function zt(e,t){return Lt(e,"$"+(t||"ngController")+"Controller")}function Lt(e,t,n){e.nodeType===tt&&(e=e.documentElement);for(var r=Ee(t)?t:[t];e;){for(var a=0,i=r.length;a<i;a++)if(D(n=$e.data(e,r[a])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Rt(e){for(Et(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ut(e,t){t||Et(e);t=e.parentNode;t&&t.removeChild(e)}function qt(e){function t(){ye.document.removeEventListener("DOMContentLoaded",t),ye.removeEventListener("load",t),e()}"complete"===ye.document.readyState?ye.setTimeout(e):(ye.document.addEventListener("DOMContentLoaded",t),ye.addEventListener("load",t))}var Ht=s.prototype={ready:qt,toString:function(){var t=[];return ke(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return $e(0<=e?this[e]:this[this.length+e])},length:0,push:a,sort:[].sort,splice:[].splice},Vt={},Yt=(ke("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Vt[E(e)]=e}),{}),Bt=(ke("input,select,option,textarea,button,form,details".split(","),function(e){Yt[e]=!0}),{ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"});function Wt(e,t){t=Vt[t.toLowerCase()];return t&&Yt[De(e)]&&t}function Gt(e,t){var n;if(Se(t))return(n=e.nodeType)===Ze||n===Qe?e.textContent:"";e.textContent=t}function Kt(s,l){function e(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=l[t||e.type],r=n?n.length:0;if(r){Se(e.immediatePropagationStopped)&&(a=e.stopImmediatePropagation,e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),a&&a.call(e)}),e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var a,i=n.specialHandlerWrapper||Xt;1<r&&(n=S(n));for(var o=0;o<r;o++)e.isImmediatePropagationStopped()||i(s,e,n[o])}}return e.elem=s,e}function Xt(e,t,n){n.call(e,t)}function Jt(e,t,n){var r=t.relatedTarget;r&&(r===e||_t.call(e,r))||n.call(e,t)}function Zt(){this.$get=function(){return xe(s,{hasClass:function(e,t){return It(e=e.attr?e[0]:e,t)},addClass:function(e,t){return jt(e=e.attr?e[0]:e,t)},removeClass:function(e,t){return Nt(e=e.attr?e[0]:e,t)}})}}function Qt(e,t){var n=e&&e.$$hashKey;return n?"function"==typeof n?e.$$hashKey():n:"function"==(n=typeof e)||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||F)():n+":"+e}ke({data:Ot,removeData:Mt,hasData:function(e){for(var t in it[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Mt(e[t]),Dt(e[t])}},function(e,t){s[t]=e}),ke({data:Ot,inheritedData:Lt,scope:function(e){return $e.data(e,"$scope")||Lt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return $e.data(e,"$isolateScope")||$e.data(e,"$isolateScopeNoTemplate")},controller:zt,injector:function(e){return Lt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:It,css:function(e,t,n){if(t=pt(t.replace(lt,"ms-")),!D(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,a=e.nodeType;if(a!==Qe&&2!==a&&a!==et&&e.getAttribute)return a=E(t),r=Vt[a],D(n)?void(null===n||!1===n&&r?e.removeAttribute(t):e.setAttribute(t,r?a:n)):(n=e.getAttribute(t),null===(n=r&&null!==n?a:n)?void 0:n)},prop:function(e,t,n){if(!D(n))return e[t];e[t]=n},text:(Gt.$dv="",Gt),val:function(e,t){var n;if(Se(t))return e.multiple&&"select"===De(e)?(n=[],ke(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n):e.value;e.value=t},html:function(e,t){if(Se(t))return e.innerHTML;Et(e,!0),e.innerHTML=t},empty:Rt},function(c,e){s.prototype[e]=function(e,t){var n,r,a=this.length;if(c!==Rt&&Se(2===c.length&&c!==It&&c!==zt?e:t)){if(_e(e)){for(n=0;n<a;n++)if(c===Ot)c(this[n],e);else for(r in e)c(this[n],r,e[r]);return this}for(var i=Se(l=c.$dv)?Math.min(a,1):a,o=0;o<i;o++)var s=c(this[o],e,t),l=l?l+s:s;return l}for(n=0;n<a;n++)c(this[n],e,t);return this}}),ke({removeData:Mt,on:function(a,e,i,t){if(D(t))throw ut("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xt(a))for(var t=At(a,!0),o=t.events,s=(s=t.handle)||(t.handle=Kt(a,o)),n=0<=e.indexOf(" ")?e.split(" "):[e],r=n.length,l=function(e,t,n){var r=o[e];r||((r=o[e]=[]).specialHandlerWrapper=t,"$destroy"===e)||n||a.addEventListener(e,s),r.push(i)};r--;)e=n[r],ct[e]?(l(ct[e],Jt),l(e,void 0,!0)):l(e)},off:Dt,one:function(t,n,r){(t=$e(t)).on(n,function e(){t.off(n,r),t.off(n,e)}),t.on(n,r)},replaceWith:function(t,e){var n,r=t.parentNode;Et(t),ke(new s(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(e){var t=[];return ke(e.childNodes,function(e){e.nodeType===Ze&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Ze||11===n)for(var r=0,a=(t=new s(t)).length;r<a;r++){var i=t[r];e.appendChild(i)}},prepend:function(t,e){var n;t.nodeType===Ze&&(n=t.firstChild,ke(new s(e),function(e){t.insertBefore(e,n)}))},wrap:function(e,t){var n;e=e,t=$e(t).eq(0).clone()[0],(n=e.parentNode)&&n.replaceChild(t,e),t.appendChild(e)},remove:Ut,detach:function(e){Ut(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var a=0,i=(t=new s(t)).length;a<i;a++){var o=t[a];r.insertBefore(o,n.nextSibling),n=o}},addClass:jt,removeClass:Nt,toggleClass:function(n,e,r){e&&ke(e.split(" "),function(e){var t=r;((t=Se(r)?!It(n,e):t)?jt:Nt)(n,e)})},parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ct,triggerHandler:function(t,e,n){var r,a,i=e.type||e,o=At(t),o=o&&o.events,o=o&&o[i];o&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:P,type:i,target:t},e.type&&(r=xe(r,e)),i=S(o),a=n?[r].concat(n):[r],ke(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(o,e){s.prototype[e]=function(e,t,n){for(var r,a=0,i=this.length;a<i;a++)Se(r)?D(r=o(this[a],e,t,n))&&(r=$e(r)):Ft(r,o(this[a],e,t,n));return D(r)?r:this}}),s.prototype.bind=s.prototype.on,s.prototype.unbind=s.prototype.off;var en=Object.create(null);function tn(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}tn.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return T(e)?en:e},get:function(e){e=this._transformKey(e);e=this._idx(e);if(-1!==e)return this._values[e]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);e=this._idx(e);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var nn=tn,rn=[function(){this.$get=[function(){return nn}]}],an=/^([^(]+?)=>/,on=/^[^(]*\(\s*([^)]*)\)/m,sn=/,/,ln=/^\s*(_?)(\S+?)\1\s*$/,cn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,un=x("$injector");function dn(e){return Function.prototype.toString.call(e)}function pn(e){e=dn(e).replace(cn,"");return e.match(an)||e.match(on)}function fn(e,c){c=!0===c;var i={},o="Provider",s=[],a=new nn,u={$provide:{provider:r(p),factory:r(f),service:r(function(e,t){return f(e,["$injector",function(e){return e.instantiate(t)}])}),value:r(function(e,t){return f(e,C(t),!1)}),constant:r(function(e,t){Ke(e,"constant"),u[e]=t,n[e]=t}),decorator:function(e,t){var n=l.get(e+o),r=n.$get;n.$get=function(){var e=d.invoke(r,n);return d.invoke(t,null,{$delegate:e})}}}},l=u.$injector=m(u,function(e,t){throw y.isString(t)&&s.push(t),un("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},t=m(n,function(e,t){t=l.get(e+o,t);return d.invoke(t.$get,t,void 0,e)}),d=t,e=(u["$injector"+o]={$get:C(t)},d.modules=l.modules=Ae(),h(e));return(d=t.get("$injector")).strictDi=c,ke(e,function(e){e&&d.invoke(e)}),d.loadNewModules=function(e){ke(h(e),function(e){e&&d.invoke(e)})},d;function r(n){return function(e,t){if(!_e(e))return n(e,t);ke(e,j(n))}}function p(e,t){if(Ke(e,"service"),(t=Te(t)||Ee(t)?l.instantiate(t):t).$get)return u[e+o]=t;throw un("pget","Provider '{0}' must define $get factory method.",e)}function f(e,t,n){return p(e,{$get:!1!==n?(r=e,a=t,function(){var e=d.invoke(a,this);if(Se(e))throw un("undef","Provider '{0}' must return a value from $get factory method.",r);return e}):t});var r,a}function h(e){We(Se(e)||Ee(e),"modulesToLoad","not an array");var n,r=[];return ke(e,function(t){if(!a.get(t)){a.set(t,!0);try{Ce(t)?(n=g(t),d.modules[t]=n,r=r.concat(h(n.requires)).concat(n._runBlocks),e(n._invokeQueue),e(n._configBlocks)):Te(t)||Ee(t)?r.push(l.invoke(t)):Ge(t,"module")}catch(e){throw Ee(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),un("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function e(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],a=l.get(r[0]);a[r[1]].apply(a,r[2])}}}),r}function m(n,r){function l(t,e){if(n.hasOwnProperty(t)){if(n[t]===i)throw un("cdep","Circular dependency found: {0}",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=i,n[t]=r(t,e),n[t]}catch(e){throw n[t]===i&&delete n[t],e}finally{s.shift()}}function a(e,t,n){for(var r=[],a=fn.$$annotate(e,c,n),i=0,o=a.length;i<o;i++){var s=a[i];if("string"!=typeof s)throw un("itkn","Incorrect injection token! Expected service name as string, got {0}",s);r.push(t&&t.hasOwnProperty(s)?t[s]:l(s,n))}return r}return{invoke:function(e,t,n,r){return"string"==typeof n&&(r=n,n=null),n=a(e,n,r),function(e){var t;if(!Ie&&"function"==typeof e)return Le(t=e.$$ngIsClass)?t:e.$$ngIsClass=/^class\b/.test(dn(e))}(e=Ee(e)?e[e.length-1]:e)?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var r=Ee(e)?e[e.length-1]:e;return(e=a(e,t,n)).unshift(null),new(Function.prototype.bind.apply(r,e))},get:l,annotate:fn.$$annotate,has:function(e){return u.hasOwnProperty(e+o)||n.hasOwnProperty(e)}}}}function hn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(r,a,i){var o=r.document;function s(e){var t,n;e?(e.scrollIntoView(),Te(n=l.yOffset)?n=n():G(n)?(t=n[0],n="fixed"!==r.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):$(n)||(n=0),(t=n)&&(n=e.getBoundingClientRect().top,r.scrollBy(0,n-t))):r.scrollTo(0,0)}function l(e){var t,n;(e=Ce(e)?e:$(e)?e.toString():a.hash())?(t=o.getElementById(e))?s(t):(t=o.getElementsByName(e),n=null,Array.prototype.some.call(t,function(e){if("a"===De(e))return n=e,!0}),n?s(n):"top"===e&&s(null)):s(null)}return e&&i.$watch(function(){return a.hash()},function(e,t){var n;e===t&&""===e||(t=function(){i.$evalAsync(l)},"complete"===(n=n||ye).document.readyState?n.setTimeout(t):$e(n).on("load",t))}),l}]}fn.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw Ce(n)&&n||(n=e.name||((t=pn(t=e))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),un("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);ke(pn(e)[1].split(sn),function(e){e.replace(ln,function(e,t,n){r.push(n)})})}e.$inject=r}}else Ee(e)?(t=e.length-1,Ge(e[t],"fn"),r=e.slice(0,t)):Ge(e,"fn",!0);return r};var mn=x("$animate"),gn=1,vn="ng-animate";function bn(e,t){return e||t?e?t?(e=Ee(e)?e.join(" "):e)+" "+(t=Ee(t)?t.join(" "):t):e:t:""}function yn(e){return _e(e)?e:{}}function $n(){this.$get=P}function wn(){var c=new nn,u=[];this.$get=["$$AnimateRunner","$rootScope",function(i,o){return{enabled:P,on:P,off:P,pin:P,push:function(e,t,n,r){r&&r(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(r=e,e=n.addClass,n=n.removeClass,a=c.get(r)||{},e=s(a,e,!0),n=s(a,n,!1),e||n)&&(c.set(r,a),u.push(r),1===u.length)&&o.$$postDigest(l);var a,e=new i;return e.complete(),e}};function s(t,e,n){var r=!1;return e&&ke(e=Ce(e)?e.split(" "):Ee(e)?e:[],function(e){e&&(r=!0,t[e]=n)}),r}function l(){ke(u,function(e){var n,r,a,t,i,o=c.get(e);o&&(Ce(t=e.attr("class"))&&(t=t.split(" ")),i=Ae(),ke(t,function(e){e.length&&(i[e]=!0)}),n=i,a=r="",ke(o,function(e,t){e!==!!n[t]&&(e?r+=(r.length?" ":"")+t:a+=(a.length?" ":"")+t)}),ke(e,function(e){r&&jt(e,r),a&&Nt(e,a)}),c.delete(e))}),u.length=0}}]}function kn(){this.$get=["$$rAF",function(t){var n=[];function r(e){n.push(e),1<n.length||t(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}return function(){var t=!1;return r(function(){t=!0}),function(e){t?e():r(e)}}}]}function xn(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,a){function i(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?a(e,0,!1):t(e)},this._state=0}return i.chain=function(e,n){var r=0;!function t(){if(r===e.length)return void n(!0);e[r](function(e){!1===e?n(!1):(r++,t())})}()},i.all=function(t,n){var r=0,a=!0;function i(e){a=a&&e,++r===t.length&&n(a)}ke(t,function(e){e.done(i)})},i.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:P,getPromise:function(){var e;return this.promise||((e=this).promise=t(function(t,n){e.done(function(e){(!1===e?n:t)()})})),this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(ke(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},i}]}function Sn(){this.$get=["$$rAF","$q","$$AnimateRunner",function(o,e,s){return function(e,t){var n=t||{};(n=n.$$prepared?n:X(n)).cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var r,a=new s;return{start:i,end:i};function i(){return o(function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null),n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null),n.to&&(e.css(n.to),n.to=null),r||a.complete(),r=!0}),a}}}]}var _n=["$provide",function(r){var a=this,t=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw mn("notcsel","Expecting class selector starting with '.' got '{0}'.",e);var n=e+"-animation";a.$$registeredAnimations[e.substr(1)]=n,r.factory(n,t)},this.customFilter=function(e){return n=1===arguments.length?Te(e)?e:null:n},this.classNameFilter=function(e){if(1===arguments.length&&((t=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+vn+"[(\\s|\\/)]").test(t.toString())))throw t=null,mn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',vn);return t},this.$get=["$$animateQueue",function(i){function a(e,t,n){var r;(n=!n||!(r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===gn)return n}}(n))||r.parentNode||r.previousElementSibling?n:null)?n.after(e):t.prepend(e)}return{on:i.on,off:i.off,pin:i.pin,enabled:i.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(e,t,n,r){return t=t&&$e(t),n=n&&$e(n),a(e,t=t||n.parent(),n),i.push(e,"enter",yn(r))},move:function(e,t,n,r){return t=t&&$e(t),n=n&&$e(n),a(e,t=t||n.parent(),n),i.push(e,"move",yn(r))},leave:function(e,t){return i.push(e,"leave",yn(t),function(){e.remove()})},addClass:function(e,t,n){return(n=yn(n)).addClass=bn(n.addclass,t),i.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=yn(n)).removeClass=bn(n.removeClass,t),i.push(e,"removeClass",n)},setClass:function(e,t,n,r){return(r=yn(r)).addClass=bn(r.addClass,t),r.removeClass=bn(r.removeClass,n),i.push(e,"setClass",r)},animate:function(e,t,n,r,a){return(a=yn(a)).from=a.from?xe(a.from,t):t,a.to=a.to?xe(a.to,n):n,a.tempClasses=bn(a.tempClasses,r=r||"ng-inline-animate"),i.push(e,"animate",a)}}}]}];function Cn(i,e,t,o,n){var s=this,l=i.location,c=i.history,a=i.setTimeout,r=i.clearTimeout,u={},d=n(t);s.isMock=!1,s.$$completeOutstandingRequest=d.completeTask,s.$$incOutstandingRequestCount=d.incTaskCount,s.notifyWhenNoOutstandingRequests=d.notifyWhenNoPendingTasks;var p,f,h=l.href,m=e.find("base"),g=null,v=o.history?function(){try{return c.state}catch(e){}}:P,b=(k(),s.url=function(e,t,n){var r,a;return Se(n)&&(n=null),l!==i.location&&(l=i.location),c!==i.history&&(c=i.history),e?(r=f===n,e=M(e).href,(h!==e||o.history&&!r)&&(a=h&&xr(h)===xr(e),h=e,f=n,!o.history||a&&r?(a||(g=e),t?l.replace(e):a?l.hash=-1===(a=(r=e).indexOf("#"))?"":r.substr(a):l.href=e,l.href!==e&&(g=e)):(c[t?"replaceState":"pushState"](n,"",e),k()),g=g&&e),s):(g||l.href).replace(/#$/,"")},s.state=function(){return p},[]),y=!1;function $(){g=null,x()}var w=null;function k(){Me(p=Se(p=v())?null:p,w)&&(p=w),f=w=p}function x(){var e=f;k(),h===s.url()&&e===p||(h=s.url(),f=p,ke(b,function(e){e(s.url(),p)}))}s.onUrlChange=function(e){return y||(o.history&&$e(i).on("popstate",$),$e(i).on("hashchange",$),y=!0),b.push(e),e},s.$$applicationDestroyed=function(){$e(i).off("hashchange popstate",$)},s.$$checkUrlChange=x,s.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},s.defer=function(e,t,n){var r;return t=t||0,n=n||d.DEFAULT_TASK_TYPE,d.incTaskCount(n),r=a(function(){delete u[r],d.completeTask(e,n)},t),u[r]=n,r},s.defer.cancel=function(e){var t;return!!u.hasOwnProperty(e)&&(t=u[e],delete u[e],r(e),d.completeTask(P,t),!0)}}function En(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,r,a){return new Cn(e,r,t,n,a)}]}function Tn(){this.$get=function(){var d={};function e(e,t){if(e in d)throw x("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,r=xe({},t,{id:e}),a=Ae(),i=t&&t.capacity||Number.MAX_VALUE,o=Ae(),s=null,l=null;return d[e]={put:function(e,t){if(!Se(t))return i<Number.MAX_VALUE&&c(o[e]||(o[e]={key:e})),e in a||n++,a[e]=t,i<n&&this.remove(l.key),t},get:function(e){if(i<Number.MAX_VALUE){var t=o[e];if(!t)return;c(t)}return a[e]},remove:function(e){if(i<Number.MAX_VALUE){var t=o[e];if(!t)return;t===s&&(s=t.p),t===l&&(l=t.n),u(t.n,t.p),delete o[e]}e in a&&(delete a[e],n--)},removeAll:function(){a=Ae(),n=0,o=Ae(),s=l=null},destroy:function(){o=r=a=null,delete d[e]},info:function(){return xe({},r,{size:n})}};function c(e){e!==s&&(l?l===e&&(l=e.n):l=e,u(e.n,e.p),u(e,s),(s=e).n=null)}function u(e,t){e!==t&&(e&&(e.p=t),t)&&(t.n=e)}}return e.info=function(){var n={};return ke(d,function(e,t){n[t]=e.info()}),n},e.get=function(e){return d[e]},e}}function Pn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var Oe=x("$compile");var Dn=new function(){};function Mn(a,t){var H={},V="Directive",he=/^\s*directive:\s*([\w-]+)\s+(.*)$/,me=/(([\w-]+)(?::([^;]+))?;?)/,ge=function(e){for(var t={},n=e.split(","),r=0;r<n.length;r++)t[n[r]]=!0;return t}("ngSrc,ngSrcset,src,srcset"),d=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ve=/^(on[a-z]+|formaction)$/,s=Ae();function f(e,r,a){var i=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,o=Ae();return ke(e,function(e,t){if((e=e.trim())in s)o[t]=s[e];else{var n=e.match(i);if(!n)throw Oe("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",r,t,e,a?"controller bindings definition":"isolate scope definition");o[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=o[t])}}),o}this.directive=function e(l,t){if(We(l,"name"),Ke(l,"directive"),Ce(l)){var n=l,r=n.charAt(0);if(!r||r!==E(r))throw Oe("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",n);if(n!==n.trim())throw Oe("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",n);We(t,"directiveFactory"),H.hasOwnProperty(l)||(H[l]=[],a.factory(l+V,["$injector","$exceptionHandler",function(i,o){var s=[];return ke(H[l],function(e,t){try{var n=i.invoke(e);Te(n)?n={compile:C(n)}:!n.compile&&n.link&&(n.compile=C(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||l,n.require=(!Ee(a=(r=n).require||r.controller&&r.name)&&_e(a)&&ke(a,function(e,t){var n=e.match(d);e.substring(n[0].length)||(a[t]=n[0]+t)}),a),n.restrict=function(e,t){if(!e||Ce(e)&&/[EACM]/.test(e))return e||"EA";throw Oe("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t)}(n.restrict,l),n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){o(e)}var r,a}),s}])),H[l].push(t)}else ke(l,j(e));return this},this.component=function e(t,a){var i;return Ce(t)?(i=a.controller||function(){},ke(a,function(e,t){"$"===t.charAt(0)&&(n[t]=e,Te(i))&&(i[t]=e)}),n.$inject=["$injector"],this.directive(t,n)):(ke(t,j(He(this,e))),this);function n(r){function e(n){return Te(n)||Ee(n)?function(e,t){return r.invoke(n,this,{$element:e,$attrs:t})}:n}var t=a.template||a.templateUrl?a.template:"",n={controller:i,controllerAs:function(e,t){if(t&&Ce(t))return t;if(Ce(e)){t=Ln.exec(e);if(t)return t[3]}}(a.controller)||a.controllerAs||"$ctrl",template:e(t),templateUrl:e(a.templateUrl),transclude:a.transclude,scope:{},bindToController:a.bindings||{},restrict:"E",require:a.require};return ke(a,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}},this.aHrefSanitizationTrustedUrlList=function(e){return D(e)?(t.aHrefSanitizationTrustedUrlList(e),this):t.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return D(e)?(t.imgSrcSanitizationTrustedUrlList(e),this):t.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var u=!0,p=!(this.debugInfoEnabled=function(e){return D(e)?(u=e,this):u}),h=(this.strictComponentBindingsEnabled=function(e){return D(e)?(p=e,this):p},10),m=(this.onChangesTtl=function(e){return arguments.length?(h=e,this):h},!0),g=(this.commentDirectivesEnabled=function(e){return arguments.length?(m=e,this):m},!0),be=(this.cssClassDirectivesEnabled=function(e){return arguments.length?(g=e,this):g},Ae());function e(t,e){ke(e,function(e){be[e.toLowerCase()]=t})}this.addPropertySecurityContext=function(e,t,n){var r=e.toLowerCase()+"|"+t.toLowerCase();if(r in be&&be[r]!==n)throw Oe("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,be[r],n);return be[r]=n,this},e(c.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(c.CSS,["*|style"]),e(c.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(c.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(c.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(M,A,Y,B,O,fe,I,N,r){var i,c=/^\w/,s=ye.document.createElement("div"),F=m,z=g,e=h;function o(){try{if(!--e)throw i=void 0,Oe("infchng","{0} $onChanges() iterations reached. Aborting!\n",h);I.$apply(function(){for(var e=0,t=i.length;e<t;++e)try{i[e]()}catch(e){Y(e)}i=void 0})}finally{e++}}function l(e,t){if(!e)return e;if(!Ce(e))throw Oe("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",t=Pe(e),e=/\s/.test(t)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,r=t.split(e),a=Math.floor(r.length/2),i=0;i<a;i++)var o=2*i,n=(n+=N.getTrustedMediaUrl(Pe(r[o])))+(" "+Pe(r[1+o]));t=Pe(r[2*i]).split(/\s/);return n+=N.getTrustedMediaUrl(Pe(t[0])),2===t.length&&(n+=" "+Pe(t[1])),n}function W(e,t){if(t)for(var n,r=Object.keys(t),a=0,i=r.length;a<i;a++)this[n=r[a]]=t[n];else this.$attr={};this.$$element=e}function G(e,t){try{e.addClass(t)}catch(e){}}W.prototype={$normalize:Nn,$addClass:function(e){e&&0<e.length&&r.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&r.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=jn(e,t),n=(n&&n.length&&r.addClass(this.$$element,n),jn(t,e));n&&n.length&&r.removeClass(this.$$element,n)},$set:function(e,t,n,r){var a=Wt(this.$$element[0],e),i=Bt[e],o=e,r=(a?(this.$$element.prop(e,t),r=a):i&&(this[i]=t,o=i),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Ye(e,"-")),"img"===De(this.$$element)&&"srcset"===e&&(this[e]=t=l(t,"$set('srcset', value)")),!1!==n&&(null===t||Se(t)?this.$$element.removeAttr(r):c.test(r)?a&&!1===t?this.$$element.removeAttr(r):this.$$element.attr(r,t):(i=this.$$element[0],e=r,n=t,s.innerHTML="<span "+e+">",e=s.firstChild.attributes,a=e[0],e.removeNamedItem(a.name),a.value=n,i.attributes.setNamedItem(a))),this.$$observers);r&&ke(r[o],function(e){try{e(t)}catch(e){Y(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Ae()),a=r[e]||(r[e]=[]);return a.push(t),I.$evalAsync(function(){a.$$inter||!n.hasOwnProperty(e)||Se(n[e])||t(n[e])}),function(){Re(a,t)}}};var t=A.startSymbol(),n=A.endSymbol(),K="{{"===t&&"}}"===n?je:function(e){return e.replace(/\{\{/g,t).replace(/}}/g,n)},L=/^ng(Attr|Prop|On)([A-Z].*)$/,R=/^(.+)Start$/;return X.$$addBindingInfo=u?function(e,t){var n=e.data("$binding")||[];Ee(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:P,X.$$addBindingClass=u?function(e){G(e,"ng-binding")}:P,X.$$addScopeInfo=u?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:P,X.$$addScopeClass=u?function(e,t){G(e,t?"ng-isolate-scope":"ng-scope")}:P,X.$$createComment=function(e,t){var n="";return u&&(n=" "+(e||"")+": ",t)&&(n+=t+" "),ye.document.createComment(n)},X;function X(s,e,t,n,l){var c=J(s=s instanceof $e?s:$e(s),e,s,t,n,l),u=(X.$$addScopeClass(s),null);return function(e,t,n){if(!s)throw Oe("multilink","This element has already been linked.");We(e,"scope"),l&&l.needsNewScope&&(e=e.$parent.$new());var r,a=(n=n||{}).parentBoundTranscludeFn,i=n.transcludeControllers,n=n.futureParentElement;if(a&&a.$$boundTransclude&&(a=a.$$boundTransclude),r="html"!==(u=u||function(e){e=e&&e[0];return e&&"foreignobject"!==De(e)&&v.call(e).match(/SVG/)?"svg":"html"}(n))?$e(le(u,$e("<div></div>").append(s).html())):t?Ht.clone.call(s):s,i)for(var o in i)r.data("$"+o+"Controller",i[o].instance);return X.$$addScopeInfo(r,e),t&&t(r,e),c&&c(e,r,r,a),t||(s=c=null),r}}function J(e,h,t,n,r,a){for(var i,o,s,m,g=[],l=Ee(e)||e instanceof $e,c=0;c<e.length;c++){if(o=new W,11===Ie){u=b=v=f=p=d=void 0;var u,d=e,p=c,f=l,v=d[p],b=v.parentNode;if(v.nodeType===Qe)for(;;){if(!(u=b?v.nextSibling:d[p+1])||u.nodeType!==Qe)break;v.nodeValue=v.nodeValue+u.nodeValue,u.parentNode&&u.parentNode.removeChild(u),f&&u===d[p+1]&&d.splice(p+1,1)}}(i=(i=Q(e[c],[],o,0===c?n:void 0,r)).length?re(i,e[c],o,h,t,null,[],[],a):null)&&i.scope&&X.$$addScopeClass(o.$$element),o=i&&i.terminal||!(o=e[c].childNodes)||!o.length?null:J(o,i?(i.transcludeOnThisElement||!i.templateOnThisElement)&&i.transclude:h),(i||o)&&(g.push(c,i,o),s=!0,m=m||i),a=null}return s?function(e,t,n,r){var a,i,o,s,l,c,u,d,p;if(m){var f=t.length;for(p=new Array(f),l=0;l<g.length;l+=3)p[u=g[l]]=t[u]}else p=t;for(l=0,c=g.length;l<c;)o=p[g[l++]],a=g[l++],i=g[l++],a?(a.scope?(s=e.$new(),X.$$addScopeInfo($e(o),s)):s=e,d=a.transcludeOnThisElement?Z(e,a.transclude,r):!a.templateOnThisElement&&r?r:!r&&h?Z(e,h):null,a(i,s,o,n,d)):i&&i(e,o.childNodes,void 0,r)}:null}function Z(i,o,s){function e(e,t,n,r,a){return e||((e=i.$new(!1,a)).$$transcluded=!0),o(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:r})}var t,n=e.$$slots=Ae();for(t in o.$$slots)o.$$slots[t]?n[t]=Z(i,o.$$slots[t],s):n[t]=null;return e}function Q(e,t,n,r,a){var i,o,s,l,c=e.nodeType,u=n.$attr;switch(c){case Ze:s=De(e),j(t,Nn(s),"E",r,a);for(var d=e.attributes,p=0,f=d&&d.length;p<f;p++){var h,m,g,v=!1,b=!1,y=!1,$=!1,w=!1,k=(m=d[p]).name,x=m.value;(h=(g=Nn(k.toLowerCase())).match(L))?(y="Attr"===h[1],$="Prop"===h[1],w="On"===h[1],k=k.replace(On,"").toLowerCase().substr(4+h[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(h=g.match(R))&&function(e){if(H.hasOwnProperty(e))for(var t=M.get(e+V),n=0,r=t.length;n<r;n++)if(t[n].multiElement)return 1;return}(h[1])&&(b=(v=k).substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),$||w?(n[g]=x,u[g]=m.name,$?function(e,t,n,i){if(ve.test(i))throw Oe("nodomevents","Property bindings for HTML DOM event properties are disallowed");var e=De(e),r=function(e,t){t=t.toLowerCase();return be[e+"|"+t]||be["*|"+t]}(e,i),o=je;"srcset"!==i||"img"!==e&&"source"!==e?r&&(o=N.getTrusted.bind(N,r)):o=q;t.push({priority:100,compile:function(e,t){var r=O(t[n]),a=O(t[n],function(e){return N.valueOf(e)});return{pre:function(t,n){function e(){var e=r(t);n[0][i]=o(e)}e(),t.$watch(a,e)}}}})}(e,t,g,k):(h=g,w=k,t.push(Vi(O,I,Y,h,w,!1)))):(u[g=Nn(k.toLowerCase())]=k,!y&&n.hasOwnProperty(g)||(n[g]=x,Wt(e,g)&&(n[g]=!0)),function(e,t,i,o,n){var r=De(e),s=function(e,t){if("srcdoc"===t)return N.HTML;return"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?N.RESOURCE_URL:N.MEDIA_URL:"xlinkHref"===t?"image"===e?N.MEDIA_URL:"a"===e?N.URL:N.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?N.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:N.URL}(r,o),a=!n,l=ge[o]||n,c=A(i,a,s,l);if(c){if("multiple"===o&&"select"===r)throw Oe("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Ve(e));if(ve.test(o))throw Oe("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,n){var r=n.$$observers||(n.$$observers=Ae()),a=n[o];a!==i&&(c=a&&A(a,!0,s,l),i=a),c&&(n[o]=c(e),(r[o]||(r[o]=[])).$$inter=!0,(n.$$observers&&n.$$observers[o].$$scope||e).$watch(c,function(e,t){"class"===o&&e!==t?n.$updateClass(e,t):n.$set(o,e)}))}}}})}}(e,t,x,g,y),j(t,g,"A",r,a,v,b))}if("input"===s&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),z&&(Ce(o=_e(o=e.className)?o.animVal:o)&&""!==o))for(;i=me.exec(o);)g=Nn(i[2]),j(t,g,"C",r,a)&&(n[g]=Pe(i[3])),o=o.substr(i.index+i[0].length);break;case Qe:s=t,S=e.nodeValue,(l=A(S,!0))&&s.push({priority:0,compile:function(e){var e=e.parent(),r=!!e.length;return r&&X.$$addBindingClass(e),function(e,t){var n=t.parent();r||X.$$addBindingClass(n),X.$$addBindingInfo(n,l.expressions),e.$watch(l,function(e){t[0].nodeValue=e})}}});break;case et:if(F){var S=e,_=t,C=n,E=r,T=a;try{var P,D=he.exec(S.nodeValue);D&&(P=Nn(D[1]),j(_,P,"M",E,T))&&(C[P]=Pe(D[2]))}catch(e){}}}return t.sort(U),t}function ee(e,t,n){var r=[],a=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Oe("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n)}while(e.nodeType===Ze&&(e.hasAttribute(t)&&a++,e.hasAttribute(n))&&a--,r.push(e),e=e.nextSibling,0<a)}else r.push(e);return $e(r)}function te(i,o,s){return function(e,t,n,r,a){return t=ee(t[0],o,s),i(e,t,n,r,a)}}function ne(e,t,n,r,a,i){var o;return e?X(t,n,r,a,i):function(){return o||(o=X(t,n,r,a,i),t=n=i=null),o.apply(this,arguments)}}function re(e,$,w,t,n,j,k,x,r){r=r||{};for(var a,i,o=-Number.MAX_VALUE,S=r.newScopeDirective,_=r.controllerDirectives,C=r.newIsolateScopeDirective,E=r.templateDirective,s=r.nonTlbTranscludeDirective,l=!1,c=!1,T=r.hasElementTranscludeDirective,u=w.$$element=$e($),d=j,p=t,F=!1,f=!1,h=0,m=e.length;h<m;h++){var g,v=(g=e[h]).$$start,b=g.$$end;if(v&&(u=ee($,v,b)),M=void 0,o>g.priority)break;if((i=g.scope)&&(g.templateUrl||(_e(i)?(se("new/isolated scope",C||S,g,u),C=g):se("new/isolated scope",C,g,u)),S=S||g),a=g.name,!F&&(g.replace&&(g.templateUrl||g.template)||g.transclude&&!g.$$tlb)){for(var y,z=h+1;y=e[z++];)if(y.transclude&&!y.$$tlb||y.replace&&(y.templateUrl||y.template)){f=!0;break}F=!0}if(!g.templateUrl&&g.controller&&(_=_||Ae(),se("'"+a+"' controller",_[a],g,u),_[a]=g),i=g.transclude)if(l=!0,g.$$tlb||(se("transclusion",s,g,u),s=g),"element"===i)T=!0,o=g.priority,M=u,u=w.$$element=$e(X.$$createComment(a,w[a])),$=u[0],ce(n,qe(M),$),p=ne(f,M,t,o,d&&d.name,{nonTlbTranscludeDirective:s});else{var P=Ae();if(_e(i)){var D,L,M=ye.document.createDocumentFragment(),R=Ae(),A=Ae();for(D in ke(i,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,R[e]=t,P[t]=null,A[t]=n}),ke(u.contents(),function(e){var t=R[Nn(De(e))];(t?(A[t]=!0,P[t]=P[t]||ye.document.createDocumentFragment(),P[t]):M).appendChild(e)}),ke(A,function(e,t){if(!e)throw Oe("reqslot","Required transclusion slot `{0}` was not filled.",t)}),P)P[D]&&(L=$e(P[D].childNodes),P[D]=ne(f,L,t));M=$e(M.childNodes)}else M=$e(Ct($)).contents();u.empty(),(p=ne(f,M,t,void 0,void 0,{needsNewScope:g.$$isolateScope||g.$$newScope})).$$slots=P}if(g.template)if(c=!0,se("template",E,g,u),i=Te((E=g).template)?g.template(u,w):g.template,i=K(i),g.replace){if(d=g,M=kt(i)?[]:Fn(le(g.templateNamespace,Pe(i))),$=M[0],1!==M.length||$.nodeType!==Ze)throw Oe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a,"");ce(n,u,$);var U={$attr:{}},q=Q($,[],U),H=e.splice(h+1,e.length-(h+1));(C||S)&&ie(q,C,S),e=e.concat(q).concat(H),oe(w,U),m=e.length}else u.html(i);if(g.templateUrl)c=!0,se("template",E,g,u),(E=g).replace&&(d=g),N=function(u,d,p,f,h,m,g,v){var b,y,$=[],w=d[0],k=u.shift(),x=Ne(k,{templateUrl:null,transclude:null,replace:null,$$originalDirective:k}),S=Te(k.templateUrl)?k.templateUrl(d,p):k.templateUrl,_=k.templateNamespace;return d.empty(),B(S).then(function(e){var n,t;if(e=K(e),k.replace){if(t=kt(e)?[]:Fn(le(_,Pe(e))),n=t[0],1!==t.length||n.nodeType!==Ze)throw Oe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k.name,S);t={$attr:{}},ce(f,d,n);var r=Q(n,[],t);_e(k.scope)&&ie(r,!0),u=r.concat(u),oe(p,t)}else n=w,d.html(e);for(u.unshift(x),b=re(u,n,p,h,d,k,m,g,v),ke(f,function(e,t){e===n&&(f[t]=d[0])}),y=J(d[0].childNodes,h);$.length;){var a,i=$.shift(),o=$.shift(),s=$.shift(),l=$.shift(),c=d[0];i.$$destroyed||(o!==w&&(a=o.className,v.hasElementTranscludeDirective&&k.replace||(c=Ct(n)),ce(s,$e(o),c),G($e(c),a)),s=b.transcludeOnThisElement?Z(i,b.transclude,l):l,b(y,i,c,f,s))}$=null}).catch(function(e){Fe(e)&&Y(e)}),function(e,t,n,r,a){var i=a;t.$$destroyed||($?$.push(t,n,r,i):(b.transcludeOnThisElement&&(i=Z(t,b.transclude,a)),b(y,t,n,r,i)))}}(e.splice(h,e.length-h),u,w,n,l&&p,k,x,{controllerDirectives:_,newScopeDirective:S!==g&&S,newIsolateScopeDirective:C,templateDirective:E,nonTlbTranscludeDirective:s}),m=e.length;else if(g.compile)try{var O=g.compile(u,w,p),I=g.$$originalDirective||g;Te(O)?V(null,He(I,O),v,b):O&&V(He(I,O.pre),He(I,O.post),v,b)}catch(e){Y(e,Ve(u))}g.terminal&&(N.terminal=!0,o=Math.max(o,g.priority))}return N.scope=S&&!0===S.scope,N.transcludeOnThisElement=l,N.templateOnThisElement=c,N.transclude=p,r.hasElementTranscludeDirective=T,N;function V(e,t,n,r){e&&((e=n?te(e,n,r):e).require=g.require,e.directiveName=a,C!==g&&!g.$$isolateScope||(e=ue(e,{isolateScope:!0})),k.push(e)),t&&((t=n?te(t,n,r):t).require=g.require,t.directiveName=a,C!==g&&!g.$$isolateScope||(t=ue(t,{isolateScope:!0})),x.push(t))}function N(e,t,n,r,o){var a,i,s,l,c,u,d,p,f,h,m;for(m in $===n?p=(f=w).$$element:f=new W(p=$e(n),w),c=t,C?l=t.$new(!0):S&&(c=t.$parent),o&&((d=function(e,t,n,r){var a;ze(e)||(r=n,n=t,t=e,e=void 0);T&&(a=u);n=n||(T?p.parent():p);{if(!r)return o(e,t,a,n,y);var i=o.$$slots[r];if(i)return i(e,t,a,n,y);if(Se(i))throw Oe("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Ve(p))}}).$$boundTransclude=o,d.isSlotFilled=function(e){return!!o.$$slots[e]}),_&&(u=function(e,t,n,r,a,i,o){var s,l=Ae();for(s in r){var c=r[s],u={$scope:c===o||c.$$isolateScope?a:i,$element:e,$attrs:t,$transclude:n},d=c.controller,d=("@"===d&&(d=t[c.name]),fe(d,u,!0,c.controllerAs));l[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return l}(p,f,d,_,l,t,C)),C&&(X.$$addScopeInfo(p,l,!0,!(E&&(E===C||E===C.$$originalDirective))),X.$$addScopeClass(p,!0),l.$$isolateBindings=C.$$isolateBindings,(h=pe(t,f,l,l.$$isolateBindings,C)).removeWatches)&&l.$on("$destroy",h.removeWatches),u){var g=_[m],v=u[m],b=g.$$bindings.bindToController;v.instance=v(),p.data("$"+g.name+"Controller",v.instance),v.bindingInfo=pe(c,f,v.instance,b,g)}for(ke(_,function(e,t){var n=e.require;e.bindToController&&!Ee(n)&&_e(n)&&xe(u[t].instance,ae(t,n,p,u))}),ke(u,function(e){var t=e.instance;if(Te(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){Y(e)}if(Te(t.$onInit))try{t.$onInit()}catch(e){Y(e)}Te(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),Te(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),a=0,i=k.length;a<i;a++)de(s=k[a],s.isolateScope?l:t,p,f,s.require&&ae(s.directiveName,s.require,p,u),d);var y=t;for(C&&(C.template||null===C.templateUrl)&&(y=l),e&&e(y,n.childNodes,void 0,o),a=x.length-1;0<=a;a--)de(s=x[a],s.isolateScope?l:t,p,f,s.require&&ae(s.directiveName,s.require,p,u),d);ke(u,function(e){e=e.instance;Te(e.$postLink)&&e.$postLink()})}}function ae(n,e,r,a){if(Ce(e)){var t,i,o=e.match(d),s=e.substring(o[0].length),l=o[1]||o[3],o="?"===o[2];if("^^"===l?r=r.parent():i=(i=a&&a[s])&&i.instance,i||(t="$"+s+"Controller",i="^^"===l&&r[0]&&r[0].nodeType===tt?null:l?r.inheritedData(t):r.data(t)),!i&&!o)throw Oe("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,n)}else if(Ee(e)){i=[];for(var c=0,u=e.length;c<u;c++)i[c]=ae(n,e[c],r,a)}else _e(e)&&(i={},ke(e,function(e,t){i[t]=ae(n,e,r,a)}));return i||null}function ie(e,t,n){for(var r=0,a=e.length;r<a;r++)e[r]=Ne(e[r],{$$isolateScope:t,$$newScope:n})}function j(e,t,n,r,a,i,o){if(t!==a){var s=null;if(H.hasOwnProperty(t))for(var l=M.get(t+V),c=0,u=l.length;c<u;c++){var d,p=l[c];(Se(r)||r>p.priority)&&-1!==p.restrict.indexOf(n)&&((p=i?Ne(p,{$$start:i,$$end:o}):p).$$bindings||(d=p.$$bindings=function(e,t){var n={isolateScope:null,bindToController:null};if(_e(e.scope)&&(!0===e.bindToController?(n.bindToController=f(e.scope,t,!0),n.isolateScope={}):n.isolateScope=f(e.scope,t,!1)),_e(e.bindToController)&&(n.bindToController=f(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw Oe("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}(p,p.name),_e(d.isolateScope)&&(p.$$isolateBindings=d.isolateScope)),e.push(p),s=p)}return s}}function oe(n,r){var a=r.$attr,i=n.$attr;ke(n,function(e,t){"$"!==t.charAt(0)&&(r[t]&&r[t]!==e&&(e.length?e+=("style"===t?";":" ")+r[t]:e=r[t]),n.$set(t,e,!0,a[t]))}),ke(r,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(i[t]=a[t]))})}function U(e,t){var n=t.priority-e.priority;return 0!=n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function se(e,t,n,r){function a(e){return e?" (module: "+e+")":""}if(t)throw Oe("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,a(t.$$moduleName),n.name,a(n.$$moduleName),e,Ve(r))}function le(e,t){switch(e=E(e||"html")){case"svg":case"math":var n=ye.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function q(e){return l(N.valueOf(e),"ng-prop-srcset")}function ce(e,t,n){var r,a=t[0],i=t.length,o=a.parentNode;if(e)for(d=0,r=e.length;d<r;d++)if(e[d]===a){e[d++]=n;for(var s=d,l=s+i-1,c=e.length;s<c;s++,l++)l<c?e[s]=e[l]:delete e[s];e.length-=i-1,e.context===a&&(e.context=n);break}o&&o.replaceChild(n,a);for(var u=ye.document.createDocumentFragment(),d=0;d<i;d++)u.appendChild(t[d]);for($e.hasData(a)&&($e.data(n,$e.data(a)),$e(a).off("$destroy")),$e.cleanData(u.querySelectorAll("*")),d=1;d<i;d++)delete t[d];t[0]=n,t.length=1}function ue(e,t){return xe(function(){return e.apply(null,arguments)},e,t)}function de(e,t,n,r,a,i){try{e(t,n,r,a,i)}catch(e){Y(e,Ve(n))}}function y(e,t){if(p)throw Oe("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function pe(p,f,h,e,m){var r,g=[],v={};function b(e,t,n){Te(h.$onChanges)&&!Ue(t,n)&&(i||(p.$$postDigest(o),i=[]),r||(r={},i.push(a)),r[e]&&(n=r[e].previousValue),r[e]=new An(n,t))}function a(){h.$onChanges(r),r=void 0}return ke(e,function(e,n){var t,r,a,i,o,s,l,c,u=e.attrName,d=e.optional;switch(e.mode){case"@":d||we.call(f,u)||(y(u,m.name),h[n]=f[u]=void 0),t=f.$observe(u,function(e){var t;(Ce(e)||Le(e))&&(t=h[n],b(n,e,t),h[n]=e)}),f.$$observers[u].$$scope=p,Ce(o=f[u])?h[n]=A(o)(p):Le(o)&&(h[n]=o),v[n]=new An(Dn,h[n]),g.push(t);break;case"=":if(!we.call(f,u)){if(d)break;y(u,m.name),f[u]=void 0}d&&!f[u]||(a=(r=O(f[u])).literal?Me:Ue,i=r.assign||function(){throw o=h[n]=r(p),Oe("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",f[u],u,m.name)},o=h[n]=r(p),(s=function(e){return a(e,h[n])||(a(e,o)?i(p,e=h[n]):h[n]=e),o=e}).$stateful=!0,t=e.collection?p.$watchCollection(f[u],s):p.$watch(O(f[u],s),null,r.literal),g.push(t));break;case"<":if(!we.call(f,u)){if(d)break;y(u,m.name),f[u]=void 0}d&&!f[u]||(l=(r=O(f[u])).literal,c=h[n]=r(p),v[n]=new An(Dn,h[n]),t=p[e.collection?"$watchCollection":"$watch"](r,function(e,t){if(t===e){if(t===c||l&&Me(t,c))return;t=c}b(n,e,t),h[n]=e}),g.push(t));break;case"&":d||we.call(f,u)||y(u,m.name),(r=f.hasOwnProperty(u)?O(f[u]):P)===P&&d||(h[n]=function(e){return r(p,e)})}}),{initialChanges:v,removeWatches:g.length&&function(){for(var e=0,t=g.length;e<t;++e)g[e]()}}}}]}function An(e,t){this.previousValue=e,this.currentValue=t}Mn.$inject=["$provide","$$sanitizeUriProvider"],An.prototype.isFirstChange=function(){return this.previousValue===Dn};var On=/^((?:x|data)[:\-_])/i,In=/[:\-_]+(.)/g;function Nn(e){return e.replace(On,"").replace(In,function(e,t,n){return n?t.toUpperCase():t})}function jn(e,t){var n="",r=e.split(/\s+/),a=t.split(/\s+/);e:for(var i=0;i<r.length;i++){for(var o=r[i],s=0;s<a.length;s++)if(o===a[s])continue e;n+=(0<n.length?" ":"")+o}return n}function Fn(e){var t=(e=$e(e)).length;if(!(t<=1))for(;t--;){var n=e[t];(n.nodeType===et||n.nodeType===Qe&&""===n.nodeValue.trim())&&r.call(e,t,1)}return e}var zn=x("$controller"),Ln=/^(\S+)(\s+as\s+([\w$]+))?$/;function Rn(){var c={};this.has=function(e){return c.hasOwnProperty(e)},this.register=function(e,t){Ke(e,"controller"),_e(e)?xe(c,e):c[e]=t},this.$get=["$injector",function(s){return function(t,n,e,r){var a,i,o;if(e=!0===e,r&&Ce(r)&&(i=r),Ce(t)){if(!(r=t.match(Ln)))throw zn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(a=r[1],i=i||r[3],!(t=c.hasOwnProperty(a)?c[a]:function(e,t,n){if(!t)return e;for(var r,a=t.split("."),i=e,o=a.length,s=0;s<o;s++)r=a[s],e=e&&(i=e)[r];return!n&&Te(e)?He(i,e):e}(n.$scope,a,!0)))throw zn("ctrlreg","The controller with the name '{0}' is not registered.",a);Ge(t,a,!0)}return e?(r=(Ee(t)?t[t.length-1]:t).prototype,o=Object.create(r||null),i&&l(n,i,o,a||t.name),xe(function(){var e=s.invoke(t,o,n,a);return e!==o&&(_e(e)||Te(e))&&(o=e,i)&&l(n,i,o,a||t.name),o},{instance:o,identifier:i})):(o=s.instantiate(t,n,a),i&&l(n,i,o,a||t.name),o)};function l(e,t,n,r){if(!e||!_e(e.$scope))throw x("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function Un(){this.$get=["$window",function(e){return $e(e.document)}]}function qn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function a(){r=n.hidden}return e.on("visibilitychange",a),t.$on("$destroy",function(){e.off("visibilitychange",a)}),function(){return r}}]}function Hn(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}function Vn(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof $e&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]}var Yn="application/json",Bn={"Content-Type":Yn+";charset=utf-8"},Wn=/^\[|^\{(?!\{)/,Gn={"[":/]$/,"{":/}$/},Kn=/^\)]\}',?\n/,Xn=x("$http");function Jn(e){return _e(e)?k(e)?e.toISOString():te(e):e}function Zn(){this.$get=function(){return function(e){var n;return e?(n=[],I(e,function(e,t){null===e||Se(e)||Te(e)||(Ee(e)?ke(e,function(e){n.push(i(t)+"="+i(Jn(e)))}):n.push(i(t)+"="+i(Jn(e))))}),n.join("&")):""}}}function Qn(){this.$get=function(){return function(e){var t;return e?(t=[],function n(e,r,a){Ee(e)?ke(e,function(e,t){n(e,r+"["+(_e(e)?t:"")+"]")}):_e(e)&&!k(e)?I(e,function(e,t){n(e,r+(a?"":"[")+t+(a?"":"]"))}):(Te(e)&&(e=e()),t.push(i(r)+"="+(null==e?"":i(Jn(e)))))}(e,"",!0),t.join("&")):""}}}function er(t,n){if(Ce(t)){var e=t.replace(Kn,"").trim();if(e){n=n("Content-Type"),n=n&&0===n.indexOf(Yn);if(n||(a=(r=e).match(Wn))&&Gn[a[0]].test(r))try{t=ne(e)}catch(e){if(n)throw Xn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var r,a;return t}function tr(e){var t,n=Ae();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return Ce(e)?ke(e.split("\n"),function(e){t=e.indexOf(":"),r(E(Pe(e.substr(0,t))),Pe(e.substr(t+1)))}):_e(e)&&ke(e,function(e,t){r(E(t),Pe(e))}),n}function nr(t){var n;return function(e){return n=n||tr(t),e?void 0===(e=n[E(e)])?null:e:n}}function rr(t,n,r,e){return Te(e)?e(t,n,r):(ke(e,function(e){t=e(t,n,r)}),t)}function ar(e){return 200<=e&&e<300}function ir(){var w=this.defaults={transformResponse:[er],transformRequest:[function(e){return _e(e)&&"[object File]"!==v.call(e)&&"[object Blob]"!==v.call(e)&&"[object FormData]"!==v.call(e)?te(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:S(Bn),put:S(Bn),patch:S(Bn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},k=!1,n=(this.useApplyAsync=function(e){return D(e)?(k=!!e,this):k},this.interceptors=[]),r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,f,h,e,m,g,l,v){var t,b=e("$http"),c=(w.paramSerializer=Ce(w.paramSerializer)?l.get(w.paramSerializer):w.paramSerializer,[]),y=(ke(n,function(e){c.unshift(Ce(e)?l.get(e):l.invoke(e))}),t=[ya].concat(r.map(M)),function(e){e=M(e);return t.some(wa.bind(null,e))});function $(e){if(!_e(e))throw x("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var n,t,r,a;if(Ce(v.valueOf(e.url)))return(n=xe({method:"get",transformRequest:w.transformRequest,transformResponse:w.transformResponse,paramSerializer:w.paramSerializer,jsonpCallbackParam:w.jsonpCallbackParam},e)).headers=function(e){var t,n,r,a=w.headers,i=xe({},e.headers);e:for(t in a=xe({},a.common,a[E(e.method)])){for(r in n=E(t),i)if(E(r)===n)continue e;i[t]=a[t]}return function(e,n){var r,a={};return ke(e,function(e,t){Te(e)?null!=(r=e(n))&&(a[t]=r):a[t]=e}),a}(i,S(e))}(e),n.method=_(n.method),n.paramSerializer=Ce(n.paramSerializer)?l.get(n.paramSerializer):n.paramSerializer,s.$$incOutstandingRequestCount("$http"),t=[],r=[],a=g.resolve(n),ke(c,function(e){(e.request||e.requestError)&&t.unshift(e.request,e.requestError),(e.response||e.responseError)&&r.push(e.response,e.responseError)}),a=i(a,t),(a=i(a=a.then(function(e){var n=e.headers,t=rr(e.data,nr(n),void 0,e.transformRequest);Se(t)&&ke(n,function(e,t){"content-type"===E(t)&&delete n[t]});Se(e.withCredentials)&&!Se(w.withCredentials)&&(e.withCredentials=w.withCredentials);return function(i,e){var o,t,s=g.defer(),n=s.promise,r=i.headers,a="jsonp"===E(i.method),l=i.url;a?l=v.getTrustedResourceUrl(l):Ce(l)||(l=v.valueOf(l));l=function(e,t){0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(l,i.paramSerializer(i.params)),a&&(l=function(n,r){var e=n.split("?");if(2<e.length)throw Xn("badjsonp",'Illegal use more than one "?", in url, "{1}"',n);return ke(le(e[1]),function(e,t){if("JSON_CALLBACK"===e)throw Xn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',n);if(t===r)throw Xn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',r,n)}),n+=(-1===n.indexOf("?")?"?":"&")+r+"=JSON_CALLBACK"}(l,i.jsonpCallbackParam));$.pendingRequests.push(i),n.then(p,p),!i.cache&&!w.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(o=_e(i.cache)?i.cache:_e(w.cache)?w.cache:b);o&&(D(t=o.get(l))?Y(t)?t.then(d,d):Ee(t)?u(t[1],t[0],S(t[2]),t[3],t[4]):u(t,200,{},"OK","complete"):o.put(l,n));Se(t)&&((a=y(i.url)?h()[i.xsrfCookieName||w.xsrfCookieName]:void 0)&&(r[i.xsrfHeaderName||w.xsrfHeaderName]=a),f(i.method,l,e,function(e,t,n,r,a){o&&(ar(e)?o.put(l,[e,t,tr(n),r,a]):o.remove(l));function i(){u(t,e,n,r,a)}k?m.$applyAsync(i):(i(),m.$$phase||m.$apply())},r,i.timeout,i.withCredentials,i.responseType,c(i.eventHandlers),c(i.uploadEventHandlers)));return n;function c(e){var t;if(e)return t={},ke(e,function(n,e){t[e]=function(e){function t(){n(e)}k?m.$applyAsync(t):m.$$phase?t():m.$apply(t)}}),t}function u(e,t,n,r,a){(ar(t=-1<=t?t:0)?s.resolve:s.reject)({data:e,status:t,headers:nr(n),config:i,statusText:r,xhrStatus:a})}function d(e){u(e.data,e.status,S(e.headers()),e.statusText,e.xhrStatus)}function p(){var e=$.pendingRequests.indexOf(i);-1!==e&&$.pendingRequests.splice(e,1)}}(e,t).then(o,o)}),r)).finally(function(){s.$$completeOutstandingRequest(P,"$http")});throw x("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);function i(e,t){for(var n=0,r=t.length;n<r;){var a=t[n++],i=t[n++];e=e.then(a,i)}return t.length=0,e}function o(e){var t=xe({},e);return t.data=rr(e.data,e.headers,e.status,n.transformResponse),ar(e.status)?t:g.reject(t)}}return $.pendingRequests=[],function(){ke(arguments,function(n){$[n]=function(e,t){return $(xe({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(){ke(arguments,function(r){$[r]=function(e,t,n){return $(xe({},n||{},{method:r,url:e,data:t}))}})}("post","put","patch"),$.defaults=w,$}]}function or(){this.$get=function(){return function(){return new ye.XMLHttpRequest}}}function sr(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return x=r,S=(k=e).defer,_=t,C=n[0],function(e,r,t,a,n,i,o,s,l,c){if(r=r||k.url(),"jsonp"===E(e))var u=_.createCallback(r),d=(m=u,g=function(e,t){var n=200===e&&_.getResponse(u);w(a,e,n,"",t,"complete"),_.removeCallback(u)},h=(h=r).replace("JSON_CALLBACK",m),v=C.createElement("script"),b=null,v.type="text/javascript",v.src=h,v.async=!0,b=function(e){v.removeEventListener("load",b),v.removeEventListener("error",b),C.body.removeChild(v),v=null;var t=-1,n="unknown";e&&(n=(e="load"!==e.type||_.wasCalled(m)?e:{type:"error"}).type,t="error"===e.type?404:200),g&&g(t,n)},v.addEventListener("load",b),v.addEventListener("error",b),C.body.appendChild(v),b);else{var p=x(e,r),f=!1;p.open(e,r,!0),ke(n,function(e,t){D(e)&&p.setRequestHeader(t,e)}),p.onload=function(){var e=p.statusText||"",t="response"in p?p.response:p.responseText,n=1223===p.status?204:p.status;0===n&&(n=t?200:"file"===M(r).protocol?404:0),w(a,n,t,p.getAllResponseHeaders(),e,"complete")};if(p.onerror=function(){w(a,-1,null,null,"","error")},p.ontimeout=function(){w(a,-1,null,null,"","timeout")},p.onabort=function(){w(a,-1,null,null,"",f?"timeout":"abort")},ke(l,function(e,t){p.addEventListener(t,e)}),ke(c,function(e,t){p.upload.addEventListener(t,e)}),o&&(p.withCredentials=!0),s)try{p.responseType=s}catch(e){if("json"!==s)throw e}p.send(Se(t)?null:t)}var h,m,g,v,b,y;function $(e){f="timeout"===e,d&&d(),p&&p.abort()}function w(e,t,n,r,a,i){D(y)&&S.cancel(y),d=p=null,e(t,n,r,a,i)}0<i?y=S(function(){$("timeout")},i):Y(i)&&i.then(function(){$(D(i.$$timeoutId)?"timeout":"abort")})};var k,x,S,_,C}]}var lr=y.$interpolateMinErr=x("$interpolate");function cr(){var S="{{",_="}}";this.startSymbol=function(e){return e?(S=e,this):S},this.endSymbol=function(e){return e?(_=e,this):_},this.$get=["$parse","$exceptionHandler","$sce",function(v,b,y){var $=S.length,w=_.length,t=new RegExp(S.replace(/./g,e),"g"),n=new RegExp(_.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function k(e){return e.replace(t,S).replace(n,_)}function x(e,t,n,r){var a=e.$watch(function(e){return a(),r(e)},t,n);return a}function r(a,e,r,i){var t,o=r===y.URL||r===y.MEDIA_URL;if(!a.length||-1===a.indexOf(S))return e?void 0:(t=k(a),(t=C(t=o?y.getTrusted(r,t):t)).exp=a,t.expressions=[],t.$$watchDelegate=x,t);i=!!i;for(var n,s,l=0,c=[],u=a.length,d=[],p=[];l<u;){if(-1===(s=a.indexOf(S,l))||-1===(n=a.indexOf(_,s+$))){l!==u&&d.push(k(a.substring(l)));break}l!==s&&d.push(k(a.substring(l,s))),s=a.substring(s+$,n),c.push(s),l=n+w,p.push(d.length),d.push("")}var f,h=1===d.length&&1===p.length,m=o&&h?void 0:function(e){try{return e=r&&!o?y.getTrusted(r,e):y.valueOf(e),i&&!D(e)?e:Je(e)}catch(e){b(lr.interr(a,e))}},g=c.map(function(e){return v(e,m)});return!e||c.length?(f=function(e){for(var t=0,n=c.length;t<n;t++){if(i&&Se(e[t]))return;d[p[t]]=e[t]}return o?y.getTrusted(r,h?d[0]:d.join("")):(r&&1<d.length&&lr.throwNoconcat(a),d.join(""))},xe(function(e){var t=0,n=c.length,r=new Array(n);try{for(;t<n;t++)r[t]=g[t](e);return f(r)}catch(e){b(lr.interr(a,e))}},{exp:a,expressions:c,$$watchDelegate:function(r,a){var i;return r.$watchGroup(g,function(e,t){var n=f(e);a.call(this,n,e!==t?i:n,r),i=n})}})):void 0}return r.startSymbol=function(){return S},r.endSymbol=function(){return _},r}]}lr.throwNoconcat=function(e){throw lr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},lr.interr=function(e,t){return lr("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ur=x("$interval");function dr(){this.$get=["$$intervalFactory","$window",function(e,r){function n(e){r.clearInterval(e),delete a[e]}var a={},e=e(function(e,t,n){e=r.setInterval(e,t);return a[e]=n,e},n);return e.cancel=function(e){if(!e)return!1;var t;if(e.hasOwnProperty("$$intervalId"))return!!a.hasOwnProperty(e.$$intervalId)&&(e=e.$$intervalId,ea((t=a[e]).promise),t.reject("canceled"),n(e),!0);throw ur("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.")},e}]}function pr(){this.$get=["$browser","$q","$$q","$rootScope",function(f,h,m,g){return function(d,p){return function(e,t,n,r){var a=4<arguments.length,i=a?qe(arguments,4):[],o=0,s=D(r)&&!r,l=(s?m:h).defer(),c=l.promise;function u(){a?e.apply(null,i):e(o)}return n=D(n)?n:0,c.$$intervalId=d(function(){s?f.defer(u):g.$evalAsync(u),l.notify(o++),0<n&&n<=o&&(l.resolve(o),p(c.$$intervalId)),s||g.$apply()},t,l,s),c}}}]}function fr(){this.$get=function(){var a=y.callbacks,i={};function o(e){function t(e){t.data=e,t.called=!0}return t.id=e,t}return{createCallback:function(e){var t="_"+(a.$$counter++).toString(36),n="angular.callbacks."+t,r=o(t);return i[n]=a[t]=r,n},wasCalled:function(e){return i[e].called},getResponse:function(e){return i[e].data},removeCallback:function(e){delete a[i[e].id],delete i[e]}}}}var hr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,mr={http:80,https:443,ftp:21},gr=x("$location");function vr(e,t,n){r=[],ke(t,function(e,t){Ee(e)?ke(e,function(e){r.push(i(t,!0)+(!0===e?"":"="+i(e,!0)))}):r.push(i(t,!0)+(!0===e?"":"="+i(e,!0)))});var r,t=r.length?r.join("&"):"",n=n?"#"+ce(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ce(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(t?"?"+t:"")+n}function br(e,t){e=M(e);t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=b(e.port)||mr[e.protocol]||null}var yr=/^\s*[\\/]{2,}/;function $r(e,t,n){if(yr.test(e))throw gr("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0),e=M(e=r?"/"+e:e),r=r&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname;t.$$path=function(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(r,n),t.$$search=le(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function wr(e,t){return e.slice(0,t.length)===t}function kr(e,t){if(wr(t,e))return t.substr(e.length)}function xr(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Sr(r,a,i){this.$$html5=!0,i=i||"",br(r,this),this.$$parse=function(e){var t=kr(a,e);if(!Ce(t))throw gr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,a);$r(t,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return a+e.substr(1)},this.$$parseLinkUrl=function(e,t){var n;return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(D(t=kr(r,e))?(n=t,n=i&&D(t=kr(i,t))?a+(kr("/",t)||t):r+n):D(t=kr(a,e))?n=a+t:a===e+"/"&&(n=a),n&&this.$$parse(n),!!n)}}function _r(r,a,i){br(r,this),this.$$parse=function(e){var t,n=kr(r,e)||kr(a,e);Se(n)||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",Se(n)&&(r=e,this.replace())):Se(t=kr(i,n))&&(t=n),$r(t,this,!1),this.$$path=function(e,t,n){var r=/^\/[A-Z]:(\/.*)/;wr(t,n)&&(t=t.replace(n,""));if(r.exec(t))return e;return(n=r.exec(e))?n[1]:e}(this.$$path,t,r),this.$$compose()},this.$$normalizeUrl=function(e){return r+(e?i+e:"")},this.$$parseLinkUrl=function(e,t){return xr(r)===xr(e)&&(this.$$parse(e),!0)}}function Cr(r,a,i){this.$$html5=!0,_r.apply(this,arguments),this.$$parseLinkUrl=function(e,t){var n;return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(r===xr(e)?n=e:(t=kr(a,e))?n=r+i+t:a===e+"/"&&(n=a),n&&this.$$parse(n),!!n)},this.$$normalizeUrl=function(e){return r+i+e}}var Er={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=vr(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:Tr("$$absUrl"),url:function(e){var t;return Se(e)?this.$$url:(!(t=hr.exec(e))[1]&&""!==e||this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this)},protocol:Tr("$$protocol"),host:Tr("$$host"),port:Tr("$$port"),path:Pr("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(Ce(n)||$(n))n=n.toString(),this.$$search=le(n);else{if(!_e(n))throw gr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");ke(n=X(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:Se(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:Pr("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function Tr(e){return function(){return this[e]}}function Pr(t,n){return function(e){return Se(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function Dr(){var m="!",g={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return D(e)?(m=e,this):m},this.html5Mode=function(e){return Le(e)?(g.enabled=e,this):_e(e)?(Le(e.enabled)&&(g.enabled=e.enabled),Le(e.requireBase)&&(g.requireBase=e.requireBase),(Le(e.rewriteLinks)||Ce(e.rewriteLinks))&&(g.rewriteLinks=e.rewriteLinks),this):g},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(o,s,l,a,e){var t,n,r=s.baseHref(),i=s.url();if(g.enabled){if(!r&&g.requireBase)throw gr("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=i.substring(0,i.indexOf("/",i.indexOf("//")+2))+(r||"/"),t=l.history?Sr:Cr}else n=xr(i),t=_r;var c,u=(r=n).substr(0,xr(r).lastIndexOf("/")+1),d=((c=new t(n,u,"#"+m)).$$parseLinkUrl(i,i),c.$$state=s.state(),/^\s*(javascript|mailto):/i);function p(e,t,n){var r=c.url(),a=c.$$state;try{s.url(e,t,n),c.$$state=s.state()}catch(e){throw c.url(r),c.$$state=a,e}}a.on("click",function(e){var t=g.rewriteLinks;if(t&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var n,r=$e(e.target);"a"!==De(r[0]);)if(r[0]===a[0]||!(r=r.parent())[0])return;Ce(t)&&Se(r.attr(t))||(t=r.prop("href"),n=r.attr("href")||r.attr("xlink:href"),_e(t)&&"[object SVGAnimatedString]"===t.toString()&&(t=M(t.animVal).href),d.test(t))||!t||r.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(t,n)&&(e.preventDefault(),c.absUrl()!==s.url())&&o.$apply()}}),c.absUrl()!==i&&s.url(c.absUrl(),!0);var f=!0;return s.onUrlChange(function(r,a){wr(r,u)?(o.$evalAsync(function(){var e,t=c.absUrl(),n=c.$$state;c.$$parse(r),c.$$state=a,e=o.$broadcast("$locationChangeStart",r,t,a,n).defaultPrevented,c.absUrl()===r&&(e?(c.$$parse(t),c.$$state=n,p(t,!1,n)):(f=!1,h(t,n)))}),o.$$phase||o.$digest()):e.location.href=r}),o.$watch(function(){var n,r,a,i,e,t;(f||c.$$urlUpdatedByLocation)&&(c.$$urlUpdatedByLocation=!1,n=s.url(),t=c.absUrl(),r=s.state(),a=c.$$replace,i=!((e=n)===(t=t)||M(e).href===M(t).href)||c.$$html5&&l.history&&r!==c.$$state,f||i)&&(f=!1,o.$evalAsync(function(){var e=c.absUrl(),t=o.$broadcast("$locationChangeStart",e,n,c.$$state,r).defaultPrevented;c.absUrl()===e&&(t?(c.$$parse(n),c.$$state=r):(i&&p(e,a,r===c.$$state?null:c.$$state),h(n,r)))})),c.$$replace=!1}),c;function h(e,t){o.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}}]}function Mr(){var r=!0,i=this;this.debugEnabled=function(e){return D(e)?(r=e,this):r},this.$get=["$window",function(t){var e,a=Ie||/\bEdge\//.test(t.navigator&&t.navigator.userAgent);return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:(e=n("debug"),function(){r&&e.apply(i,arguments)})};function n(e){var n=t.console||{},r=n[e]||n.log||P;return function(){var t=[];return ke(arguments,function(e){t.push((Fe(e=e)&&(e.stack&&a?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),Function.prototype.apply.call(r,n,t)}}}]}ke([Cr,_r,Sr],function(t){t.prototype=Object.create(Er),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t===Sr&&this.$$html5)return this.$$state=Se(e)?null:e,this.$$urlUpdatedByLocation=!0,this;throw gr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API")}});var Ar=x("$parse"),Or={}.constructor.prototype.valueOf;function Ir(e){return e+""}var Nr=Ae(),jr=(ke("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Nr[e]=!0}),{n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'}),Fr=function(e){this.options=e},p=(Fr.prototype={constructor:Fr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t,n,r,a,i,o=this.text.charAt(this.index);'"'===o||"'"===o?this.readString(o):this.isNumber(o)||"."===o&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(o,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:o}),this.index++):this.isWhitespace(o)?this.index++:(n=(t=o+this.peek())+this.peek(2),i=Nr[o],r=Nr[t],a=Nr[n],i||r||a?(this.tokens.push({index:this.index,text:i=a?n:r?t:o,operator:!0}),this.index+=i.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){e=e||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e,t,n=this.text.charAt(this.index),r=this.peek();return r&&(e=n.charCodeAt(0),t=r.charCodeAt(0),55296<=e)&&e<=56319&&56320<=t&&t<=57343?n+r:n},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;t=D(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Ar("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=E(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){for(var t=this.index,n=(this.index++,""),r=e,a=!1;this.index<this.text.length;){var i,o=this.text.charAt(this.index);if(r+=o,a)"u"===o?((i=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=jr[o]||o,a=!1;else if("\\"===o)a=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}},function(e,t){this.lexer=e,this.options=t});function zr(e,t){return void 0!==e?e:t}function Lr(e,t){return void 0===e?t:void 0===t?e:e+t}p.Program="Program",p.ExpressionStatement="ExpressionStatement",p.AssignmentExpression="AssignmentExpression",p.ConditionalExpression="ConditionalExpression",p.LogicalExpression="LogicalExpression",p.BinaryExpression="BinaryExpression",p.UnaryExpression="UnaryExpression",p.CallExpression="CallExpression",p.MemberExpression="MemberExpression",p.Identifier="Identifier",p.Literal="Literal",p.ArrayExpression="ArrayExpression",p.Property="Property",p.ObjectExpression="ObjectExpression",p.ThisExpression="ThisExpression",p.LocalsExpression="LocalsExpression",p.NGValueParameter="NGValueParameter",p.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:p.Program,body:e}},expressionStatement:function(){return{type:p.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Hr(e))throw Ar("lval","Trying to assign a value to a non l-value");e={type:p.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:p.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:p.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:p.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:p.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:p.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=X(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:p.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:p.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:p.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:p.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],e={type:p.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:p.Identifier,name:e.text}},constant:function(){return{type:p.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)for(;!this.peek("]")&&(e.push(this.expression()),this.expect(",")););return this.consume("]"),{type:p.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)for(;!this.peek("}")&&(e={type:p.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e),this.expect(",")););return this.consume("}"),{type:p.ObjectExpression,properties:t}},throwError:function(e,t){throw Ar("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Ar("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Ar("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,a){if(this.tokens.length>e){var e=this.tokens[e],i=e.text;if(i===t||i===n||i===r||i===a||!t&&!n&&!r&&!a)return e}return!1},expect:function(e,t,n,r){e=this.peek(e,t,n,r);return!!e&&(this.tokens.shift(),e)},selfReferential:{this:{type:p.ThisExpression},$locals:{type:p.LocalsExpression}}};var Rr=1,Ur=2;function l(e,t,n){var r,a,i,o=e.isPure=function(e,t){switch(e.type){case p.MemberExpression:if(e.computed)return!1;break;case p.UnaryExpression:return Rr;case p.BinaryExpression:return"+"!==e.operator&&Rr;case p.CallExpression:return!1}return void 0===t?Ur:t}(e,n);switch(e.type){case p.Program:r=!0,ke(e.body,function(e){l(e.expression,t,o),r=r&&e.expression.constant}),e.constant=r;break;case p.Literal:e.constant=!0,e.toWatch=[];break;case p.UnaryExpression:l(e.argument,t,o),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case p.BinaryExpression:l(e.left,t,o),l(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case p.LogicalExpression:l(e.left,t,o),l(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case p.ConditionalExpression:l(e.test,t,o),l(e.alternate,t,o),l(e.consequent,t,o),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case p.Identifier:e.constant=!1,e.toWatch=[e];break;case p.MemberExpression:l(e.object,t,o),e.computed&&l(e.property,t,o),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case p.CallExpression:i=!!e.filter&&(i=e.callee.name,!t(i).$stateful),r=i,a=[],ke(e.arguments,function(e){l(e,t,o),r=r&&e.constant,a.push.apply(a,e.toWatch)}),e.constant=r,e.toWatch=i?a:[e];break;case p.AssignmentExpression:l(e.left,t,o),l(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case p.ArrayExpression:r=!0,a=[],ke(e.elements,function(e){l(e,t,o),r=r&&e.constant,a.push.apply(a,e.toWatch)}),e.constant=r,e.toWatch=a;break;case p.ObjectExpression:r=!0,a=[],ke(e.properties,function(e){l(e.value,t,o),r=r&&e.value.constant,a.push.apply(a,e.value.toWatch),e.computed&&(l(e.key,t,!1),r=r&&e.key.constant,a.push.apply(a,e.key.toWatch))}),e.constant=r,e.toWatch=a;break;case p.ThisExpression:case p.LocalsExpression:e.constant=!1,e.toWatch=[]}}function qr(e){var t;return 1===e.length&&(1!==(t=(e=e[0].expression).toWatch).length||t[0]!==e)?t:void 0}function Hr(e){return e.type===p.Identifier||e.type===p.MemberExpression}function Vr(e){if(1===e.body.length&&Hr(e.body[0].expression))return{type:p.AssignmentExpression,left:e.body[0].expression,right:{type:p.NGValueParameter},operator:"="}}function Yr(e){this.$filter=e}function Br(e){this.$filter=e}function Wr(e,t,n){this.ast=new p(e,n),this.astCompiler=new(n.csp?Br:Yr)(t)}function Gr(e){return Te(e.valueOf)?e.valueOf():Or.call(e)}function Kr(){var s,l,c=Ae(),u={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){u[e]=t},this.setIdentifierFns=function(e,t){return s=e,l=t,this},this.$get=["$filter",function(a){var i={csp:J().noUnsafeEval,literals:X(u),isIdentifierStart:Te(s)&&s,isIdentifierContinue:Te(l)&&l};return e.$$getAst=function(e){return new Wr(new Fr(i),a,i).getAst(e).ast},e;function e(e,t){var n,r;switch(typeof e){case"string":return e=e.trim(),(r=c[n=e])||(r=new Wr(new Fr(i),a,i).parse(e),c[n]=h(r)),o(r,t);case"function":return o(e,t);default:return o(P,t)}}function p(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Gr(e))&&!n)&&(e===t||e!=e&&t!=t)}function t(e,t,n,i,r){var o,a,s=i.inputs;if(1===s.length)return a=p,s=s[0],e.$watch(function(e){var t=s(e);return p(t,a,s.isPure)||(o=i(e,void 0,void 0,[t]),a=t&&Gr(t)),o},t,n,r);for(var l=[],c=[],u=0,d=s.length;u<d;u++)l[u]=p,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,r=s.length;n<r;n++){var a=s[n](e);(t=t||!p(a,l[n],s[n].isPure))&&(l[n]=(c[n]=a)&&Gr(a))}return o=t?i(e,void 0,void 0,c):o},t,n,r)}function n(e,t,n,r,a){var i,o,s=r.literal?f:D,l=r.$$intercepted||r,c=r.$$interceptor||je,u=r.inputs&&!l.inputs;return p.literal=r.literal,p.constant=r.constant,p.inputs=r.inputs,h(p),i=e.$watch(p,t,n,a);function d(){s(o)&&i()}function p(e,t,n,r){return o=u&&r?r[0]:l(e,t,n,r),s(o)&&e.$$postDigest(d),c(o)}}function f(e){var t=!0;return ke(e,function(e){D(e)||(t=!1)}),t}function r(e,t,n,r){var a=e.$watch(function(e){return a(),r(e)},t,n);return a}function h(e){return e.constant?e.$$watchDelegate=r:e.oneTime?e.$$watchDelegate=n:e.inputs&&(e.$$watchDelegate=t),e}function o(a,i){var t,n,o,e;return i?(a.$$interceptor&&(t=a.$$interceptor,n=i,r.$stateful=t.$stateful||n.$stateful,r.$$pure=t.$$pure&&n.$$pure,i=r,a=a.$$intercepted),o=!1,(e=function(e,t,n,r){e=o&&r?r[0]:a(e,t,n,r);return i(e)}).$$intercepted=a,e.$$interceptor=i,e.literal=a.literal,e.oneTime=a.oneTime,e.constant=a.constant,i.$stateful||(o=!a.inputs,e.inputs=a.inputs||[a],i.$$pure)||(e.inputs=e.inputs.map(function(t){return t.isPure===Ur?function(e){return t(e)}:t})),h(e)):a;function r(e){return n(t(e))}}}]}function Xr(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,e){return Zr(function(e){t.$evalAsync(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return D(e)?(n=e,this):n}}function Jr(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,e){return Zr(function(e){t.defer(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return D(e)?(n=e,this):n}}function Zr(s,l,c){var n=x("$q",TypeError),u=0,r=[];function a(){return new e}function e(){var t=this.promise=new i;this.resolve=function(e){f(t,e)},this.reject=function(e){h(t,e)},this.notify=function(e){g(t,e)}}function i(){this.$$state={status:0}}function d(){for(;!u&&r.length;){var e,t=r.shift();t.pur||(Qr(t),e="Possibly unhandled rejection: "+rt(t.value),Fe(t.value)?l(t.value,e):l(e))}}function p(o){!c||o.pending||2!==o.status||o.pur||(0===u&&0===r.length&&s(d),r.push(o)),!o.processScheduled&&o.pending&&(o.processScheduled=!0,++u,s(function(){var e,t,n=o,r=n.pending;n.processScheduled=!1,n.pending=void 0;try{for(var a=0,i=r.length;a<i;++a){Qr(n),t=r[a][0],e=r[a][n.status];try{Te(e)?f(t,e(n.value)):(1===n.status?f:h)(t,n.value)}catch(e){h(t,e),e&&!0===e.$$passToExceptionHandler&&l(e)}}}finally{--u,c&&0===u&&s(d)}}))}function f(e,t){e.$$state.status||(t===e?m(e,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function t(n,e){var r;var a=!1;try{(_e(e)||Te(e))&&(r=e.then),Te(r)?(n.$$state.status=-1,r.call(e,i,o,s)):(n.$$state.value=e,n.$$state.status=1,p(n.$$state))}catch(e){o(e)}function i(e){a||(a=!0,t(n,e))}function o(e){a||(a=!0,m(n,e))}function s(e){g(n,e)}}(e,t))}function h(e,t){e.$$state.status||m(e,t)}function m(e,t){e.$$state.value=t,e.$$state.status=2,p(e.$$state)}function g(e,a){var i=e.$$state.pending;e.$$state.status<=0&&i&&i.length&&s(function(){for(var e,t,n=0,r=i.length;n<r;n++){t=i[n][0],e=i[n][3];try{g(t,Te(e)?e(a):a)}catch(e){l(e)}}})}function o(e){var t=new i;return h(t,e),t}function v(e,t,n){var r=null;try{Te(n)&&(r=n())}catch(e){return o(e)}return Y(r)?r.then(function(){return t(e)},o):t(e)}function b(e,t,n,r){var a=new i;return f(a,e),a.then(t,n,r)}xe(i.prototype,{then:function(e,t,n){var r;return Se(e)&&Se(t)&&Se(n)?this:(r=new i,this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&p(this.$$state),r)},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return v(e,y,t)},function(e){return v(e,o,t)},e)}});var y=b;function t(e){var t;if(Te(e))return t=new i,e(function(e){f(t,e)},function(e){h(t,e)}),t;throw n("norslvr","Expected resolverFn, got '{0}'",e)}return t.prototype=i.prototype,t.defer=a,t.reject=o,t.when=b,t.resolve=y,t.all=function(e){var n=new i,r=0,a=Ee(e)?[]:{};return ke(e,function(e,t){r++,b(e).then(function(e){a[t]=e,--r||f(n,a)},function(e){h(n,e)})}),0===r&&f(n,a),n},t.race=function(e){var t=a();return ke(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise},t}function Qr(e){e.pur=!0}function ea(e){e.$$state&&Qr(e.$$state)}function ta(){this.$get=["$window","$timeout",function(e,n){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,e=!!r,t=e?function(e){var t=r(e);return function(){a(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return t.supported=e,t}]}function na(){var S=10,_=x("$rootScope"),C=null,E=null;this.digestTtl=function(e){return S=arguments.length?e:S},this.$get=["$exceptionHandler","$parse","$browser",function(f,h,m){function a(e){e.currentScope.$$destroyed=!0}function i(){this.$id=F(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}i.prototype={constructor:i,$new:function(e,t){var n;function r(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=F(),this.$$ChildScope=null,this.$$suspended=!1}return t=t||this,e?(n=new i).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(r.prototype=this,r)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,!e&&t===this||n.$on("$destroy",a),n},$watch:function(e,t,n,r){var a,i,o,s=h(e),t=Te(t)?t:P;return s.$$watchDelegate?s.$$watchDelegate(this,t,n,s,e):(i=(a=this).$$watchers,o={fn:t,last:k,get:s,exp:r||e,eq:!!n},C=null,i||((i=a.$$watchers=[]).$$digestWatchIndex=-1),i.unshift(o),i.$$digestWatchIndex++,l(this,1),function(){var e=Re(i,o);0<=e&&(l(a,-1),e<i.$$digestWatchIndex)&&i.$$digestWatchIndex--,C=null})},$watchGroup:function(t,r){var e,a=new Array(t.length),i=new Array(t.length),n=[],o=this,s=!1,l=!0;return t.length?1===t.length?this.$watch(t[0],function(e,t,n){i[0]=e,a[0]=t,r(i,e===t?i:a,n)}):(ke(t,function(e,t){e=o.$watch(e,function(e){i[t]=e,s||(s=!0,o.$evalAsync(c))});n.push(e)}),function(){for(;n.length;)n.shift()()}):(e=!0,o.$evalAsync(function(){e&&r(i,i,o)}),function(){e=!1});function c(){s=!1;try{l?(l=!1,r(i,i,o)):r(i,a,o)}finally{for(var e=0;e<t.length;e++)a[e]=i[e]}}},$watchCollection:function(e,n){t.$$pure=h(e).literal,t.$stateful=!t.$$pure;var o,s,r,a=this,i=1<n.length,l=0,e=h(e,t),c=[],u={},d=!0,p=0;function t(e){var t,n,r,a;if(!Se(o=e)){if(_e(o))if(N(o)){s!==c&&(p=(s=c).length=0,l++),t=o.length,p!==t&&(l++,s.length=p=t);for(var i=0;i<t;i++)a=s[i],r=o[i],a!=a&&r!=r||a===r||(l++,s[i]=r)}else{for(n in s!==u&&(s=u={},p=0,l++),t=0,o)we.call(o,n)&&(t++,r=o[n],a=s[n],n in s?a!=a&&r!=r||a===r||(l++,s[n]=r):(p++,s[n]=r,l++));if(t<p)for(n in l++,s)we.call(o,n)||(p--,delete s[n])}else s!==o&&(s=o,l++);return l}}return this.$watch(e,function(){if(d?(d=!1,n(o,o,a)):n(o,r,a),i)if(_e(o))if(N(o)){r=new Array(o.length);for(var e=0;e<o.length;e++)r[e]=o[e]}else for(var t in r={},o)we.call(o,t)&&(r[t]=o[t]);else r=o})},$digest:function(){var e,t,n,r,a,i,o,s=S,l=v.length?g:this,c=[];$("$digest"),m.$$checkUrlChange(),this===g&&null!==E&&(m.defer.cancel(E),x()),C=null;do{for(var u=!1,d=l,p=0;p<v.length;p++){try{(0,(o=v[p]).fn)(o.scope,o.locals)}catch(e){f(e)}C=null}v.length=0;e:do{if(r=!d.$$suspended&&d.$$watchers)for(r.$$digestWatchIndex=r.length;r.$$digestWatchIndex--;)try{if(e=r[r.$$digestWatchIndex])if((t=(0,e.get)(d))===(n=e.last)||(e.eq?Me(t,n):T(t)&&T(n))){if(e===C){u=!1;break e}}else u=!0,(C=e).last=e.eq?X(t,null):t,(0,e.fn)(t,n===k?t:n,d),s<5&&(c[i=4-s]||(c[i]=[]),c[i].push({msg:Te(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){f(e)}if(!(a=!d.$$suspended&&d.$$watchersCount&&d.$$childHead||d!==l&&d.$$nextSibling))for(;d!==l&&!(a=d.$$nextSibling);)d=d.$parent}while(d=a);if((u||v.length)&&!s--)throw w(),_("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",S,c)}while(u||v.length);for(w();y<b.length;)try{b[y++]()}catch(e){f(e)}b.length=y=0,m.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e,t=this.$parent;for(e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===g&&m.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)o(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=P,this.$on=this.$watch=this.$watchGroup=function(){return P},this.$$listeners={},this.$$nextSibling=null,!function e(t){9===Ie&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling)&&e(t.$$nextSibling),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return h(e)(this,t)},$evalAsync:function(e,t){g.$$phase||v.length||m.defer(function(){v.length&&g.$digest()},null,"$evalAsync"),v.push({scope:this,fn:h(e),locals:t})},$$postDigest:function(e){b.push(e)},$apply:function(e){try{$("$apply");try{return this.$eval(e)}finally{w()}}catch(e){f(e)}finally{try{g.$digest()}catch(e){throw f(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=h(e),null===E&&(E=m.defer(function(){g.$apply(x)},null,"$applyAsync"))},$on:function(t,n){for(var r=this.$$listeners[t],e=(r||(this.$$listeners[t]=r=[]),r.push(n),this);e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var a=this;return function(){var e=r.indexOf(n);-1!==e&&(delete r[e],o(a,1,t))}},$emit:function(e,t){var n,r,a,i=[],o=this,s=!1,l={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=Q([l],arguments,1);do{for(n=o.$$listeners[e]||i,l.currentScope=o,r=0,a=n.length;r<a;r++)if(n[r])try{n[r].apply(null,c)}catch(e){f(e)}else n.splice(r,1),r--,a--}while(!s&&(o=o.$parent));return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=this,a={name:e,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(this.$$listenerCount[e]){for(var i,o,s,l=Q([a],arguments,1);n=r;){for(o=0,s=(i=(a.currentScope=n).$$listeners[e]||[]).length;o<s;o++)if(i[o])try{i[o].apply(null,l)}catch(e){f(e)}else i.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}a.currentScope=null}return a}};var g=new i,v=g.$$asyncQueue=[],b=g.$$postDigestQueue=[],n=g.$$applyAsyncQueue=[],y=0;return g;function $(e){if(g.$$phase)throw _("inprog","{0} already in progress",g.$$phase);g.$$phase=e}function w(){g.$$phase=null}function l(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function o(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function k(){}function x(){for(;n.length;)try{n.shift()()}catch(e){f(e)}E=null}}]}function ra(){var r=/^\s*(https?|s?ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(e){return D(e)?(r=e,this):r},this.imgSrcSanitizationTrustedUrlList=function(e){return D(e)?(a=e,this):a},this.$get=function(){return function(e,t){var t=t?a:r,n=M(e&&e.trim()).href;return""===n||n.match(t)?e:"unsafe:"+n}}}Yr.prototype={compile:function(e){var a=this,t=(this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},l(e,a.$filter),""),n=(this.stage="assign",(n=Vr(e))&&(this.state.computing="assign",r=this.nextId(),this.recurse(n,r),this.return_(r),t="fn.assign="+this.generateFunction("assign","s,v,l")),qr(e.body)),r=(a.stage="inputs",ke(n,function(e,t){var n="fn"+t,r=(a.state[n]={vars:[],body:[],own:{}},a.state.computing=n,a.nextId());a.recurse(e,r),a.return_(r),a.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e),'"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+t+this.watchFns()+"return fn;"),n=new Function("$filter","getStringValue","ifDefined","plus",r)(this.$filter,Ir,zr,Lr);return this.state=this.stage=void 0,n},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return ke(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(e){return e.name}).join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],r=this;return ke(this.state.filters,function(e,t){n.push(e+"=$filter("+r.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,r,a,i){var o,s,l,c,u,d=this;if(r=r||P,!i&&D(n.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,r,a,!0));else switch(n.type){case p.Program:ke(n.body,function(e,t){d.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case p.Literal:c=this.escape(n.value),this.assign(t,c),r(t||c);break;case p.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),r(c);break;case p.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){o=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(o,s):"-"===n.operator?this.ifDefined(o,0)+n.operator+this.ifDefined(s,0):"("+o+")"+n.operator+"("+s+")",this.assign(t,c),r(c);break;case p.LogicalExpression:t=t||this.nextId(),d.recurse(n.left,t),d.if_("&&"===n.operator?t:d.not(t),d.lazyRecurse(n.right,t)),r(t);break;case p.ConditionalExpression:t=t||this.nextId(),d.recurse(n.test,t),d.if_(t,d.lazyRecurse(n.alternate,t),d.lazyRecurse(n.consequent,t)),r(t);break;case p.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",n.name)),function(){d.if_("inputs"===d.stage||"s",function(){a&&1!==a&&d.if_(d.isNull(d.nonComputedMember("s",n.name)),d.lazyAssign(d.nonComputedMember("s",n.name),"{}")),d.assign(t,d.nonComputedMember("s",n.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",n.name))),r(t);break;case p.MemberExpression:o=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(n.object,o,void 0,function(){d.if_(d.notNull(o),function(){n.computed?(s=d.nextId(),d.recurse(n.property,s),d.getStringValue(s),a&&1!==a&&d.if_(d.not(d.computedMember(o,s)),d.lazyAssign(d.computedMember(o,s),"{}")),c=d.computedMember(o,s),d.assign(t,c),e&&(e.computed=!0,e.name=s)):(a&&1!==a&&d.if_(d.isNull(d.nonComputedMember(o,n.property.name)),d.lazyAssign(d.nonComputedMember(o,n.property.name),"{}")),c=d.nonComputedMember(o,n.property.name),d.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){d.assign(t,"undefined")}),r(t)},!!a);break;case p.CallExpression:t=t||this.nextId(),n.filter?(s=d.filter(n.callee.name),l=[],ke(n.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),r(t)):(s=d.nextId(),o={},l=[],d.recurse(n.callee,s,o,function(){d.if_(d.notNull(s),function(){ke(n.arguments,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c=o.name?d.member(o.context,o.name,o.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),r(t)}));break;case p.AssignmentExpression:s=this.nextId(),o={},this.recurse(n.left,void 0,o,function(){d.if_(d.notNull(o.context),function(){d.recurse(n.right,s),c=d.member(o.context,o.name,o.computed)+n.operator+s,d.assign(t,c),r(t||c)})},1);break;case p.ArrayExpression:l=[],ke(n.elements,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),r(t||c);break;case p.ObjectExpression:u=!(l=[]),ke(n.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),ke(n.properties,function(e){e.computed?(o=d.nextId(),d.recurse(e.key,o)):o=e.key.type===p.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,o,e.computed),s)})):(ke(n.properties,function(t){d.recurse(t.value,n.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===p.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),r(t||c);break;case p.ThisExpression:this.assign(t,"s"),r(t||"s");break;case p.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case p.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){var r;!0===e?t():((r=this.current().body).push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}")))},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,a,i){var o=this;return function(){o.recurse(e,t,n,r,a,i)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(Ce(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if($(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Ar("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Br.prototype={compile:function(e){var r,a,i=this,t=(l(e,i.$filter),(t=Vr(e))&&(r=this.recurse(t)),qr(e.body)),o=(t&&(a=[],ke(t,function(e,t){var n=i.recurse(e);n.isPure=e.isPure,e.input=n,a.push(n),e.watchId=t})),[]),t=(ke(e.body,function(e){o.push(i.recurse(e.expression))}),0===e.body.length?P:1===e.body.length?o[0]:function(t,n){var r;return ke(o,function(e){r=e(t,n)}),r});return r&&(t.assign=function(e,t,n){return r(e,n,t)}),a&&(t.inputs=a),t},recurse:function(e,l,t){var i,c,u,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case p.Literal:return this.value(e.value,l);case p.UnaryExpression:return c=this.recurse(e.argument),this["unary"+e.operator](c,l);case p.BinaryExpression:case p.LogicalExpression:return i=this.recurse(e.left),c=this.recurse(e.right),this["binary"+e.operator](i,c,l);case p.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case p.Identifier:return n.identifier(e.name,l,t);case p.MemberExpression:return i=this.recurse(e.object,!1,!!t),e.computed||(c=e.property.name),e.computed&&(c=this.recurse(e.property)),e.computed?this.computedMember(i,c,l,t):this.nonComputedMember(i,c,l,t);case p.CallExpression:return u=[],ke(e.arguments,function(e){u.push(n.recurse(e))}),e.filter&&(c=this.$filter(e.callee.name)),e.filter||(c=this.recurse(e.callee,!0)),e.filter?function(e,t,n,r){for(var a=[],i=0;i<u.length;++i)a.push(u[i](e,t,n,r));var o=c.apply(void 0,a,r);return l?{context:void 0,name:void 0,value:o}:o}:function(e,t,n,r){var a,i=c(e,t,n,r);if(null!=i.value){for(var o=[],s=0;s<u.length;++s)o.push(u[s](e,t,n,r));a=i.value.apply(i.context,o)}return l?{value:a}:a};case p.AssignmentExpression:return i=this.recurse(e.left,!0,1),c=this.recurse(e.right),function(e,t,n,r){var a=i(e,t,n,r),e=c(e,t,n,r);return a.context[a.name]=e,l?{value:e}:e};case p.ArrayExpression:return u=[],ke(e.elements,function(e){u.push(n.recurse(e))}),function(e,t,n,r){for(var a=[],i=0;i<u.length;++i)a.push(u[i](e,t,n,r));return l?{value:a}:a};case p.ObjectExpression:return u=[],ke(e.properties,function(e){e.computed?u.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):u.push({key:e.key.type===p.Identifier?e.key.name:""+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,r){for(var a={},i=0;i<u.length;++i)u[i].computed?a[u[i].key(e,t,n,r)]=u[i].value(e,t,n,r):a[u[i].key]=u[i].value(e,t,n,r);return l?{value:a}:a};case p.ThisExpression:return function(e){return l?{value:e}:e};case p.LocalsExpression:return function(e,t){return l?{value:t}:t};case p.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},"unary+":function(a,i){return function(e,t,n,r){e=D(e=a(e,t,n,r))?+e:0;return i?{value:e}:e}},"unary-":function(a,i){return function(e,t,n,r){e=D(e=a(e,t,n,r))?-e:-0;return i?{value:e}:e}},"unary!":function(a,i){return function(e,t,n,r){e=!a(e,t,n,r);return i?{value:e}:e}},"binary+":function(a,i,o){return function(e,t,n,r){e=Lr(a(e,t,n,r),i(e,t,n,r));return o?{value:e}:e}},"binary-":function(i,o,s){return function(e,t,n,r){var a=i(e,t,n,r),e=o(e,t,n,r),t=(D(a)?a:0)-(D(e)?e:0);return s?{value:t}:t}},"binary*":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)*i(e,t,n,r);return o?{value:e}:e}},"binary/":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)/i(e,t,n,r);return o?{value:e}:e}},"binary%":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)%i(e,t,n,r);return o?{value:e}:e}},"binary===":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)===i(e,t,n,r);return o?{value:e}:e}},"binary!==":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)!==i(e,t,n,r);return o?{value:e}:e}},"binary==":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)==i(e,t,n,r);return o?{value:e}:e}},"binary!=":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)!=i(e,t,n,r);return o?{value:e}:e}},"binary<":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)<i(e,t,n,r);return o?{value:e}:e}},"binary>":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)>i(e,t,n,r);return o?{value:e}:e}},"binary<=":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)<=i(e,t,n,r);return o?{value:e}:e}},"binary>=":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)>=i(e,t,n,r);return o?{value:e}:e}},"binary&&":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)&&i(e,t,n,r);return o?{value:e}:e}},"binary||":function(a,i,o){return function(e,t,n,r){e=a(e,t,n,r)||i(e,t,n,r);return o?{value:e}:e}},"ternary?:":function(a,i,o,s){return function(e,t,n,r){e=(a(e,t,n,r)?i:o)(e,t,n,r);return s?{value:e}:e}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(a,i,o){return function(e,t,n,r){t=t&&a in t?t:e,o&&1!==o&&t&&null==t[a]&&(t[a]={}),e=t?t[a]:void 0;return i?{context:t,name:a,value:e}:e}},computedMember:function(s,l,c,u){return function(e,t,n,r){var a,i,o=s(e,t,n,r);return null!=o&&(a=l(e,t,n,r),a+="",u&&1!==u&&o&&!o[a]&&(o[a]={}),i=o[a]),c?{context:o,name:a,value:i}:i}},nonComputedMember:function(a,i,o,s){return function(e,t,n,r){e=a(e,t,n,r),s&&1!==s&&e&&null==e[i]&&(e[i]={}),t=null!=e?e[i]:void 0;return o?{context:e,name:i,value:t}:t}},inputs:function(a,i){return function(e,t,n,r){return r?r[i]:a(e,t,n)}}},Wr.prototype={constructor:Wr,parse:function(e){var t,e=this.getAst(e),n=this.astCompiler.compile(e.ast);return n.literal=0===(t=e.ast).body.length||1===t.body.length&&(t.body[0].expression.type===p.Literal||t.body[0].expression.type===p.ArrayExpression||t.body[0].expression.type===p.ObjectExpression),n.constant=e.ast.constant,n.oneTime=e.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var aa=x("$sce"),c={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ia=/_([a-z])/g;function oa(e){return e.replace(ia,dt)}function sa(e){var t=[];return D(e)&&ke(e,function(e){t.push(function(e){if("self"===e)return e;if(Ce(e)){if(-1<e.indexOf("***"))throw aa("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=W(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(H(e))return new RegExp("^"+e.source+"$");throw aa("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function la(){this.SCE_CONTEXTS=c;var s=["self"],l=[];this.trustedResourceUrlList=function(e){return s=arguments.length?sa(e):s},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return l=arguments.length?sa(e):l},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(e,r){var a=function(e){throw aa("unsafe","Attempting to use an unsafe value in a safe context.")};function i(e,t){return"self"===e?wa(t,ya)||wa(t,function(){if(ye.document.baseURI)return ye.document.baseURI;ba||((ba=ye.document.createElement("a")).href=".",ba=ba.cloneNode(!1));return ba.href}()):e.exec(t.href)}function t(e){function t(e){this.$$unwrapTrustedValue=function(){return e}}return(t.prototype=e?new e:t.prototype).valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(a=e.get("$sanitize"));var n=t(),o={};return o[c.HTML]=t(n),o[c.CSS]=t(n),o[c.MEDIA_URL]=t(n),o[c.URL]=t(o[c.MEDIA_URL]),o[c.JS]=t(n),o[c.RESOURCE_URL]=t(o[c.URL]),{trustAs:function(e,t){var n=o.hasOwnProperty(e)?o[e]:null;if(!n)throw aa("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||Se(t)||""===t)return t;if("string"!=typeof t)throw aa("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||Se(t)||""===t)return t;var n=o.hasOwnProperty(e)?o[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(Te(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===c.MEDIA_URL||e===c.URL)return r(t.toString(),e===c.MEDIA_URL);if(e===c.RESOURCE_URL){if(function(e){for(var t=M(e.toString()),n=!1,r=0,a=s.length;r<a;r++)if(i(s[r],t)){n=!0;break}if(n)for(r=0,a=l.length;r<a;r++)if(i(l[r],t)){n=!1;break}return n}(t))return t;throw aa("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===c.HTML)return a(t);throw aa("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function ca(){var t=!0;this.enabled=function(e){return t=arguments.length?!!e:t},this.$get=["$parse","$sceDelegate",function(r,e){if(t&&Ie<8)throw aa("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var a=S(c),n=(a.isEnabled=function(){return t},a.trustAs=e.trustAs,a.getTrusted=e.getTrusted,a.valueOf=e.valueOf,t||(a.trustAs=a.getTrusted=function(e,t){return t},a.valueOf=je),a.parseAs=function(t,e){var n=r(e);return n.literal&&n.constant?n:r(e,function(e){return a.getTrusted(t,e)})},a.parseAs),i=a.getTrusted,o=a.trustAs;return ke(c,function(t,e){e=E(e);a[oa("parse_as_"+e)]=function(e){return n(t,e)},a[oa("get_trusted_"+e)]=function(e){return i(t,e)},a[oa("trust_as_"+e)]=function(e){return o(t,e)}}),a}]}function ua(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,a=b((/android (\d+)/.exec(E((e.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((e.navigator||{}).userAgent),i=t[0]||{},t=i.body&&i.body.style,o=!1,s=!1;return t&&(o=!!("transition"in t||"webkitTransition"in t),s=!!("animation"in t||"webkitAnimation"in t)),{history:!(!r||a<4||e),hasEvent:function(e){var t;return("input"!==e||!Ie)&&(Se(n[e])&&(t=i.createElement("div"),n[e]="on"+e in t),n[e])},csp:J(),transitions:o,animations:s,android:a}}]}function da(){this.$get=C(function(e){return new pa(e)})}function pa(i){var o={},r=[],s=this.ALL_TASKS_TYPE="$$all$$",l=this.DEFAULT_TASK_TYPE="$$default$$";function c(){var e=r.pop();return e&&e.cb}function u(e){for(var t=r.length-1;0<=t;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}this.completeTask=function(e,t){t=t||l;try{e()}finally{!function(e){o[e=e||l]&&(o[e]--,o[s]--)}(t);var e=o[t],n=o[s];if(!n||!e)for(var r,a=n?u:c;r=a(t);)try{r()}catch(e){i.error(e)}}},this.incTaskCount=function(e){o[e=e||l]=(o[e]||0)+1,o[s]=(o[s]||0)+1},this.notifyWhenNoPendingTasks=function(e,t){o[t=t||s]?r.push({type:t,cb:e}):e()}}var fa=x("$templateRequest");function ha(){var c;this.httpOptions=function(e){return e?(c=e,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(r,a,i,o,s){function l(t,n){l.totalPendingRequests++,Ce(t)&&!Se(a.get(t))||(t=s.getTrustedResourceUrl(t));var e=i.defaults&&i.defaults.transformResponse;return Ee(e)?e=e.filter(function(e){return e!==er}):e===er&&(e=null),i.get(t,xe({cache:a,transformResponse:e},c)).finally(function(){l.totalPendingRequests--}).then(function(e){return a.put(t,e.data)},function(e){n||(e=fa("tpload","Failed to load template: {0} (HTTP status: {1} {2})",t,e.status,e.statusText),r(e));return o.reject(e)})}return l.totalPendingRequests=0,l}]}function ma(){this.$get=["$rootScope","$browser","$location",function(t,n,r){var e={findBindings:function(e,n,r){var e=e.getElementsByClassName("ng-binding"),a=[];return ke(e,function(t){var e=y.element(t).data("$binding");e&&ke(e,function(e){r?new RegExp("(^|\\s)"+W(n)+"(\\s|\\||$)").test(e)&&a.push(t):-1!==e.indexOf(n)&&a.push(t)})}),a},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],a=0;a<r.length;++a){var i=e.querySelectorAll("["+r[a]+"model"+(n?"=":"*=")+'"'+t+'"]');if(i.length)return i}},getLocation:function(){return r.url()},setLocation:function(e){e!==r.url()&&(r.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}};return e}]}var ga=x("$timeout");function va(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(s,l,c,u,d){var p={};function e(e,t,n){Te(e)||(n=t,t=e,e=P);var r=qe(arguments,3),a=D(n)&&!n,i=(a?u:c).defer(),o=i.promise,n=l.defer(function(){try{i.resolve(e.apply(null,r))}catch(e){i.reject(e),d(e)}finally{delete p[o.$$timeoutId]}a||s.$apply()},t,"$timeout");return o.$$timeoutId=n,p[n]=i,o}return e.cancel=function(e){if(!e)return!1;var t;if(e.hasOwnProperty("$$timeoutId"))return!!p.hasOwnProperty(e.$$timeoutId)&&(e=e.$$timeoutId,ea((t=p[e]).promise),t.reject("canceled"),delete p[e],l.defer.cancel(e));throw ga("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")},e}]}var ba,n=ye.document.createElement("a"),ya=M(ye.location.href),$a=(n.href="http://[::1]","[::1]"===n.hostname);function M(e){var t;return Ce(e)?(t=e,Ie&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),t=n.hostname,!$a&&-1<t.indexOf(":")&&(t="["+t+"]"),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:t,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}):e}function wa(e,t){return e=M(e),t=M(t),e.protocol===t.protocol&&e.host===t.host}function ka(){this.$get=C(ye)}function xa(e){var o=e[0]||{},s={},l="";function c(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var e,t,n,r,a,i=function(e){try{return e.cookie||""}catch(e){return""}}(o);if(i!==l)for(e=(l=i).split("; "),s={},n=0;n<e.length;n++)0<(r=(t=e[n]).indexOf("="))&&(a=c(t.substring(0,r)),Se(s[a]))&&(s[a]=c(t.substring(r+1)));return s}}function Sa(){this.$get=xa}function _a(r){function a(e,t){var n;return _e(e)?(n={},ke(e,function(e,t){n[t]=a(t,e)}),n):r.factory(e+"Filter",t)}this.register=a,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],a("currency",Da),a("date",Ua),a("filter",Ca),a("json",qa),a("limitTo",Ya),a("lowercase",Ha),a("number",Ma),a("orderBy",Wa),a("uppercase",Va)}function Ca(){return function(e,t,n,r){if(!N(e)){if(null==e)return e;throw x("filter")("notarray","Expected array but received: {0}",e)}var a,i;switch(r=r||"$",Ta(t)){case"function":a=t;break;case"boolean":case"null":case"number":case"string":i=!0;case"object":a=function(t,n,r,a){var i=_e(t)&&r in t;!0===n?n=Me:Te(n)||(n=function(e,t){return!(Se(e)||(null===e||null===t?e!==t:_e(t)||_e(e)&&!U(e)||(e=E(""+e),t=E(""+t),-1===e.indexOf(t))))});return function(e){return i&&!_e(e)?Ea(e,t[r],n,r,!1):Ea(e,t,n,r,a)}}(t,n,r,i);break;default:return e}return Array.prototype.filter.call(e,a)}}function Ea(e,t,n,r,a,i){var o,s=Ta(e),l=Ta(t);if("string"===l&&"!"===t.charAt(0))return!Ea(e,t.substring(1),n,r,a);if(Ee(e))return e.some(function(e){return Ea(e,t,n,r,a)});switch(s){case"object":if(a){for(o in e)if(o.charAt&&"$"!==o.charAt(0)&&Ea(e[o],t,n,r,!0))return!0;return!i&&Ea(e,t,n,r,!1)}if("object"!==l)return n(e,t);for(o in t){var c=t[o];if(!Te(c)&&!Se(c)){var u=o===r;if(!Ea(u?e:e[o],c,n,r,u,u))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function Ta(e){return null===e?"null":typeof e}xa.$inject=["$document"],_a.$inject=["$provide"];var Pa="0";function Da(e){var a=e.NUMBER_FORMATS;return function(e,t,n){Se(t)&&(t=a.CURRENCY_SYM),Se(n)&&(n=a.PATTERNS[1].maxFrac);var r=t?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Aa(e,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,n).replace(r,t)}}function Ma(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:Aa(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function Aa(e,t,n,r,a){if(!Ce(e)&&!$(e)||isNaN(e))return"";var i=!isFinite(e),o=!1,s=Math.abs(e)+"",l="";if(i)l="";else{var c=i=function(e){var t,n,r,a,i,o=0;for(0<(r=(e=-1<(n=e.indexOf("."))?e.replace(".",""):e).search(/e/i))?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===Pa;r++);if(r===(i=e.length))t=[0],n=1;else{for(i--;e.charAt(i)===Pa;)i--;for(n-=r,t=[],a=0;r<=i;r++,a++)t[a]=+e.charAt(r)}return 22<n&&(t=t.splice(0,21),o=n-1,n=1),{d:t,e:o,i:n}}(s),u=a,s=t.minFrac,a=t.maxFrac,d=c.d,p=d.length-c.i,f=(u=Se(u)?Math.min(Math.max(s,p),a):+u)+c.i,s=d[f];if(0<f){d.splice(Math.max(c.i,f));for(var h=f;h<d.length;h++)d[h]=0}else{p=Math.max(0,p),c.i=1,d.length=Math.max(1,f=u+1),d[0]=0;for(var m=1;m<f;m++)d[m]=0}if(5<=s)if(f-1<0){for(var g=0;f<g;g--)d.unshift(0),c.i++;d.unshift(1),c.i++}else d[f-1]++;for(;p<Math.max(0,u);p++)d.push(0);(a=d.reduceRight(function(e,t,n,r){return r[n]=(t+=e)%10,Math.floor(t/10)},0))&&(d.unshift(a),c.i++);for(var v=i.d,b=i.i,s=i.e,a=[],o=v.reduce(function(e,t){return e&&!t},!0);b<0;)v.unshift(0),b++;0<b?a=v.splice(b,v.length):(a=v,v=[0]);var y=[];for(v.length>=t.lgSize&&y.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)y.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&y.unshift(v.join("")),l=y.join(n),a.length&&(l+=r+a.join("")),s&&(l+="e+"+s)}return e<0&&!o?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Oa(e,t,n,r){var a="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,a="-")),e=""+e;e.length<t;)e=Pa+e;return a+(e=n?e.substr(e.length-t):e)}function e(t,n,r,a,i){return r=r||0,function(e){e=e["get"+t]();return(0<r||-r<e)&&(e+=r),Oa(e=0===e&&-12===r?12:e,n,a,i)}}function Ia(n,r,a){return function(e,t){e=e["get"+n]();return t[_((a?"STANDALONE":"")+(r?"SHORT":"")+n)][e]}}function Na(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function ja(n){return function(e){var t=Na(e.getFullYear()),e=(e=e,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())));return Oa(1+Math.round((+e-+t)/6048e5),n)}}function Fa(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Da.$inject=["$locale"];var za={yyyy:e("FullYear",4,0,!(Ma.$inject=["$locale"]),!0),yy:e("FullYear",2,0,!0,!0),y:e("FullYear",1,0,!1,!0),MMMM:Ia("Month"),MMM:Ia("Month",!0),MM:e("Month",2,1),M:e("Month",1,1),LLLL:Ia("Month",!1,!0),dd:e("Date",2),d:e("Date",1),HH:e("Hours",2),H:e("Hours",1),hh:e("Hours",2,-12),h:e("Hours",1,-12),mm:e("Minutes",2),m:e("Minutes",1),ss:e("Seconds",2),s:e("Seconds",1),sss:e("Milliseconds",3),EEEE:Ia("Day"),EEE:Ia("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=0<=(n=-1*n)?"+":"";return r+=Oa(Math[0<n?"floor":"ceil"](n/60),2)+Oa(Math.abs(n%60),2)},ww:ja(2),w:ja(1),G:Fa,GG:Fa,GGG:Fa,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},La=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ra=/^-?\d+$/;function Ua(m){var g=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var r,a,i,o,s,l,c,u,d,p="",f=[];if(e=m.DATETIME_FORMATS[e=e||"mediumDate"]||e,!k(t=$(t=Ce(t)?Ra.test(t)?b(t):(d=(i=t).match(g))?(o=new Date(0),u=c=0,l=d[8]?o.setUTCFullYear:o.setFullYear,s=d[8]?o.setUTCHours:o.setHours,d[9]&&(c=b(d[9]+d[10]),u=b(d[9]+d[11])),l.call(o,b(d[1]),b(d[2])-1,b(d[3])),l=b(d[4]||0)-c,c=b(d[5]||0)-u,u=b(d[6]||0),d=Math.round(1e3*parseFloat("0."+(d[7]||0))),s.call(o,l,c,u,d),o):i:t)?new Date(t):t)||!isFinite(t.getTime()))return t;for(;e;)e=(a=La.exec(e))?(f=Q(f,a,1)).pop():(f.push(e),null);var h=t.getTimezoneOffset();return n&&(h=ae(n,h),t=oe(t,n,!0)),ke(f,function(e){r=za[e],p+=r?r(t,m.DATETIME_FORMATS,h):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}}function qa(){return function(e,t){return te(e,t=Se(t)?2:t)}}Ua.$inject=["$locale"];var Ha=C(E),Va=C(_);function Ya(){return function(e,t,n){return t=(Math.abs(Number(t))===1/0?Number:b)(t),!T(t)&&N(e=$(e)?e.toString():e)?(n=(n=!n||isNaN(n)?0:b(n))<0?Math.max(0,e.length+n):n,0<=t?Ba(e,n,n+t):0===n?Ba(e,t,e.length):Ba(e,Math.max(0,n+t),n)):e}}function Ba(e,t,n){return Ce(e)?e.slice(t,n):o.call(e,t,n)}function Wa(a){return function(e,t,n,r){if(null!=e){if(!N(e))throw x("orderBy")("notarray","Expected array but received: {0}",e);var i=(t=0===(t=Ee(t)?t:[t]).length?["+"]:t).map(function(e){var t,n=1,r=je;return Te(e)?r=e:Ce(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e)&&(r=a(e)).constant&&(t=r(),r=function(e){return e[t]}),{get:r,descending:n}}),o=n?-1:1,s=Te(r)?r:c,t=Array.prototype.map.call(e,function(r,a){return{value:r,tieBreaker:{value:a,type:"number",index:a},predicateValues:i.map(function(e){var e=e.get(r),t=a,n=typeof e;return null===e?n="null":"object"===n&&(e=function(e){if(Te(e.valueOf)&&l(e=e.valueOf()))return e;U(e)&&l(e=e.toString());return e}(e)),{value:e,type:n,index:t}})}});t.sort(function(e,t){for(var n=0,r=i.length;n<r;n++){var a=s(e.predicateValues[n],t.predicateValues[n]);if(a)return a*i[n].descending*o}return(s(e.tieBreaker,t.tieBreaker)||c(e.tieBreaker,t.tieBreaker))*o}),e=t.map(function(e){return e.value})}return e};function l(e){switch(typeof e){case"number":case"boolean":case"string":return 1;default:return}}function c(e,t){var n,r,a=0,i=e.type,o=t.type;return i===o?(n=e.value,r=t.value,"string"===i?(n=n.toLowerCase(),r=r.toLowerCase()):"object"===i&&(_e(n)&&(n=e.index),_e(r))&&(r=t.index),n!==r&&(a=n<r?-1:1)):a="undefined"!==i&&("undefined"===o||"null"!==i&&("null"===o||i<o))?-1:1,a}}function Ga(e){return(e=Te(e)?{link:e}:e).restrict=e.restrict||"AC",C(e)}Wa.$inject=["$parse"];var Ka=C({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){var n;"a"===t[0].nodeName.toLowerCase()&&(n="[object SVGAnimatedString]"===v.call(t.prop("href"))?"xlink:href":"href",t.on("click",function(e){t.attr(n)||e.preventDefault()}))}}}),Xa={},Ja=(ke(Vt,function(e,r){var a,t;function i(e,t,n){e.$watch(n[a],function(e){n.$set(r,!!e)})}"multiple"!==e&&(a=Nn("ng-"+r),t="checked"===e?function(e,t,n){n.ngModel!==n[a]&&i(e,0,n)}:i,Xa[a]=function(){return{restrict:"A",priority:100,link:t}})}),ke(Bt,function(e,a){Xa[a]=function(){return{priority:100,link:function(e,t,n){if("ngPattern"===a&&"/"===n.ngPattern.charAt(0)){var r=n.ngPattern.match(f);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(n[a],function(e){n.$set(a,e)})}}}}),ke(["src","srcset","href"],function(o){var s=Nn("ng-"+o);Xa[s]=["$sce",function(i){return{priority:99,link:function(e,t,n){var r=o,a=o;"href"===o&&"[object SVGAnimatedString]"===v.call(t.prop("href"))&&(a="xlinkHref",n.$attr[a]="xlink:href",r=null),n.$set(s,i.getTrustedMediaUrl(n[s])),n.$observe(s,function(e){e?(n.$set(a,e),Ie&&r&&t.prop(r,n[a])):"href"===o&&n.$set(a,null)})}}}]}),{$addControl:P,$getControls:C([]),$$renameControl:function(e,t){e.$name=t},$removeControl:P,$setValidity:P,$setDirty:P,$setPristine:P,$setSubmitted:P,$$setSubmitted:P}),Za="ng-pending",Qa="ng-submitted";function ei(e,t,n,r,a){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=a(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Ja,this.$$element=e,this.$$animate=r,ai(this)}ei.$inject=["$element","$attrs","$scope","$animate","$interpolate"],ei.prototype={$rollbackViewValue:function(){ke(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){ke(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){Ke(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return S(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],(this[t]=e).$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],ke(this.$pending,function(e,t){this.$setValidity(t,null,n)},this),ke(this.$error,function(e,t){this.$setValidity(t,null,n)},this),ke(this.$$success,function(e,t){this.$setValidity(t,null,n)},this),Re(this.$$controls,n),n.$$parentForm=Ja},$setDirty:function(){this.$$animate.removeClass(this.$$element,Zi),this.$$animate.addClass(this.$$element,Qi),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Zi,Qi+" "+Qa),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,ke(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){ke(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Ja;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Qa),this.$submitted=!0,ke(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},ii({clazz:ei,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(Re(r,n),0===r.length)&&delete e[t]}});function ti(n){return["$timeout","$parse",function(l,t){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:ei,compile:function(e,t){e.addClass(Zi).addClass(Xi);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,r){var a,i=r[0];"action"in n||(e[0].addEventListener("submit",a=function(e){t.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),e.preventDefault()}),e.on("$destroy",function(){l(function(){e[0].removeEventListener("submit",a)},0,!1)}));(r[1]||i.$$parentForm).$addControl(i);var o=s?c(i.$name):P;s&&(o(t,i),n.$observe(s,function(e){i.$name!==e&&(o(t,void 0),i.$$parentForm.$$renameControl(i,e),(o=c(i.$name))(t,i))})),e.on("$destroy",function(){i.$$parentForm.$removeControl(i),o(t,void 0),xe(i,Ja)})}}}};function c(e){return""===e?t('this[""]').assign:t(e).assign||P}}]}var ni=ti(),ri=ti(!0);function ai(e){e.$$classCache={},e.$$classCache[Ji]=!(e.$$classCache[Xi]=e.$$element.hasClass(Xi))}function ii(e){var t=e.clazz,s=e.set,l=e.unset;function c(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function u(e,t,n){t=t?"-"+Ye(t,"-"):"",c(e,Xi+t,!0===n),c(e,Ji+t,!1===n)}t.prototype.$setValidity=function(e,t,n){var r,a,i,o;Se(t)?(r=e,a=n,(i=this)[o="$pending"]||(i[o]={}),s(i[o],r,a)):(i=e,o=n,(r=this)[a="$pending"]&&l(r[a],i,o),oi(r[a])&&(r[a]=void 0)),(Le(t)?t?(l(this.$error,e,n),s):(s(this.$error,e,n),l):(l(this.$error,e,n),l))(this.$$success,e,n),this.$pending?(c(this,Za,!0),this.$valid=this.$invalid=void 0,u(this,"",null)):(c(this,Za,!1),this.$valid=oi(this.$error),this.$invalid=!this.$valid,u(this,"",this.$valid)),u(this,e,t=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,t,this)}}function oi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var si=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,li=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ci=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ui=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,a=/^(\d{4,})-(\d{2})-(\d{2})$/,di=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,pi=/^(\d{4,})-W(\d\d)$/,fi=/^(\d{4,})-(\d\d)$/,hi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,mi="keydown wheel mousedown",gi=Ae(),vi=(ke("date,datetime-local,month,time,week".split(","),function(e){gi[e]=!0}),{text:function(e,t,n,r,a,i){yi(0,t,n,r,a,i),bi(r)},date:wi("date",a,$i(a,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":wi("datetimelocal",di,$i(di,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:wi("time",hi,$i(hi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:wi("week",pi,function(e,t){if(k(e))return e;if(Ce(e)){pi.lastIndex=0;var n,r,a,i,o,s,e=pi.exec(e);if(e)return n=+e[1],e=+e[2],o=i=a=r=0,s=Na(n),e=7*(e-1),t&&(r=t.getHours(),a=t.getMinutes(),i=t.getSeconds(),o=t.getMilliseconds()),new Date(n,0,s.getDate()+e,r,a,i,o)}return NaN},"yyyy-Www"),month:wi("month",fi,$i(fi,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,a,i,o,s){var l;{var c;ki(0,t,0,r,"number"),xi(r),yi(0,t,n,r,a,i),(D(n.min)||n.ngMin)&&(c=n.min||s(n.ngMin)(e),l=h(c),r.$validators.min=function(e,t){return r.$isEmpty(t)||Se(l)||l<=t},n.$observe("min",function(e){e!==c&&(l=h(e),c=e,r.$validate())}))}{var u,d;(D(n.max)||n.ngMax)&&(u=n.max||s(n.ngMax)(e),d=h(u),r.$validators.max=function(e,t){return r.$isEmpty(t)||Se(d)||t<=d},n.$observe("max",function(e){e!==u&&(d=h(e),u=e,r.$validate())}))}{var p,f;(D(n.step)||n.ngStep)&&(p=n.step||s(n.ngStep)(e),f=h(p),r.$validators.step=function(e,t){return r.$isEmpty(t)||Se(f)||Ci(t,l||0,f)},n.$observe("step",function(e){e!==p&&(f=h(e),p=e,r.$validate())}))}},url:function(e,t,n,r,a,i){yi(0,t,n,r,a,i),bi(r),r.$validators.url=function(e,t){e=e||t;return r.$isEmpty(e)||li.test(e)}},email:function(e,t,n,r,a,i){yi(0,t,n,r,a,i),bi(r),r.$validators.email=function(e,t){e=e||t;return r.$isEmpty(e)||ci.test(e)}},radio:function(e,n,r,a){var i=!r.ngTrim||"false"!==Pe(r.ngTrim);Se(r.name)&&n.attr("name",F());n.on("change",function(e){var t;n[0].checked&&(t=r.value,i&&(t=Pe(t)),a.$setViewValue(t,e&&e.type))}),a.$render=function(){var e=r.value;i&&(e=Pe(e)),n[0].checked=e===a.$viewValue},r.$observe("value",a.$render)},range:function(e,r,a,n,t,i){ki(0,r,0,n,"range"),xi(n),yi(0,r,a,n,t,i);var o=n.$$hasNativeValidators&&"range"===r[0].type,s=o?0:void 0,l=o?100:void 0,c=o?1:void 0,u=r[0].validity,e=D(a.min),t=D(a.max),i=D(a.step),d=n.$render;n.$render=o&&D(u.rangeUnderflow)&&D(u.rangeOverflow)?function(){d(),n.$setViewValue(r.val())}:d,e&&(s=h(a.min),n.$validators.min=o?function(){return!0}:function(e,t){return n.$isEmpty(t)||Se(s)||s<=t},p("min",function(e){s=h(e),T(n.$modelValue)||(o?((e=r.val())<s&&(e=s,r.val(e)),n.$setViewValue(e)):n.$validate())}));t&&(l=h(a.max),n.$validators.max=o?function(){return!0}:function(e,t){return n.$isEmpty(t)||Se(l)||t<=l},p("max",function(e){l=h(e),T(n.$modelValue)||(o?(e=r.val(),l<e&&(r.val(l),e=l<s?s:l),n.$setViewValue(e)):n.$validate())}));i&&(c=h(a.step),n.$validators.step=o?function(){return!u.stepMismatch}:function(e,t){return n.$isEmpty(t)||Se(c)||Ci(t,s||0,c)},p("step",function(e){c=h(e),T(n.$modelValue)||(o?n.$viewValue!==r.val()&&n.$setViewValue(r.val()):n.$validate())}));function p(e,t){r.attr(e,a[e]);var n=a[e];a.$observe(e,function(e){e!==n&&t(n=e)})}},checkbox:function(e,t,n,r,a,i,o,s){var l=Ei(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Ei(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return Me(e,l)}),r.$parsers.push(function(e){return e?l:c})},hidden:P,button:P,submit:P,reset:P,file:P});function bi(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function yi(e,n,r,a,t,i){var o,s,l,c=E(n[0].type),u=(t.android||(o=!1,n.on("compositionstart",function(){o=!0}),n.on("compositionupdate",function(e){!Se(e.data)&&""!==e.data||(o=!1)}),n.on("compositionend",function(){o=!1,u()})),function(e){var t;s&&(i.defer.cancel(s),s=null),!o&&(t=n.val(),e=e&&e.type,"password"===c||r.ngTrim&&"false"===r.ngTrim||(t=Pe(t)),a.$viewValue!==t||""===t&&a.$$hasNativeValidators)&&a.$setViewValue(t,e)});t.hasEvent("input")?n.on("input",u):(l=function(e,t,n){s=s||i.defer(function(){s=null,t&&t.value===n||u(e)})},n.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||l(e,this,this.value)}),t.hasEvent("paste")&&n.on("paste cut drop",l)),n.on("change",u),gi[c]&&a.$$hasNativeValidators&&c===r.type&&n.on(mi,function(e){var t,n,r;s||(t=this[m],n=t.badInput,r=t.typeMismatch,s=i.defer(function(){s=null,t.badInput===n&&t.typeMismatch===r||u(e)}))}),a.$render=function(){var e=a.$isEmpty(a.$viewValue)?"":a.$viewValue;n.val()!==e&&n.val(e)}}function $i(r,a){return function(e,t){var n;if(k(e))return e;if(Ce(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),si.test(e))return new Date(e);if(r.lastIndex=0,e=r.exec(e))return e.shift(),n=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ke(e,function(e,t){t<a.length&&(n[a[t]]=+e)}),t=new Date(n.yyyy,n.MM-1,n.dd,n.HH,n.mm,n.ss||0,1e3*n.sss||0),n.yyyy<100&&t.setFullYear(n.yyyy),t}return NaN}}function wi(b,y,$,w){return function(e,t,n,r,a,i,o,s){ki(0,t,0,r,b),yi(0,t,n,r,a,i);var l,c,u,d,p,f,h="time"===b||"datetimelocal"===b;function m(e){return e&&(!e.getTime||e.getTime()===e.getTime())}function g(e){return D(e)&&!k(e)?v(e)||void 0:e}function v(e,t){var n=r.$options.getOption("timezone"),e=(c&&c!==n&&(t=ie(t,ae(c))),$(e,t));return e=!isNaN(e)&&n?oe(e,n):e}r.$parsers.push(function(e){return r.$isEmpty(e)?null:y.test(e)?v(e,l):void(r.$$parserName=b)}),r.$formatters.push(function(e){if(e&&!k(e))throw ro("datefmt","Expected `{0}` to be a date",e);var t,n;return m(e)?(l=e,(t=r.$options.getOption("timezone"))&&(l=oe(l,c=t,!0)),e=e,t=t,n=w,h&&Ce(r.$options.getOption("timeSecondsFormat"))&&(n=w.replace("ss.sss",r.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),e=o("date")(e,n,t),e=h&&r.$options.getOption("timeStripZeroSeconds")?e.replace(/(?::00)?(?:\.000)?$/,""):e):(c=l=null,"")}),(D(n.min)||n.ngMin)&&(u=n.min||s(n.ngMin)(e),d=g(u),r.$validators.min=function(e){return!m(e)||Se(d)||$(e)>=d},n.$observe("min",function(e){e!==u&&(d=g(e),u=e,r.$validate())})),(D(n.max)||n.ngMax)&&(p=n.max||s(n.ngMax)(e),f=g(p),r.$validators.max=function(e){return!m(e)||Se(f)||$(e)<=f},n.$observe("max",function(e){e!==p&&(f=g(e),p=e,r.$validate())}))}}function ki(e,n,t,r,a){var i=n[0];(r.$$hasNativeValidators=_e(i.validity))&&r.$parsers.push(function(e){var t=n.prop(m)||{};if(!t.badInput&&!t.typeMismatch)return e;r.$$parserName=a})}function xi(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:ui.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!$(e))throw ro("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function h(e){return D(e)&&!$(e)&&(e=parseFloat(e)),T(e)?void 0:e}function Si(e){return(0|e)===e}function _i(e){var t=e.toString(),n=t.indexOf(".");if(-1!==n)return t.length-n-1;if(-1<e&&e<1){n=/e-(\d+)$/.exec(t);if(n)return Number(n[1])}return 0}function Ci(e,t,n){var r,a,i,e=Number(e),o=!Si(e),s=!Si(t),l=!Si(n);return(o||s||l)&&(a=o?_i(e):0,i=s?_i(t):0,r=l?_i(n):0,a=Math.max(a,i,r),e*=i=Math.pow(10,a),t*=i,n*=i,o&&(e=Math.round(e)),s&&(t=Math.round(t)),l)&&(n=Math.round(n)),(e-t)%n==0}function Ei(e,t,n,r,a){if(D(r)){if((e=e(r)).constant)return e(t);throw ro("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r)}return a}function Ti(){var a={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(e,t){if("hidden"===E(t.type))return{pre:function(e,t,n,r){t=t[0];t.parentNode&&t.parentNode.insertBefore(t,t.nextSibling),Object.defineProperty&&Object.defineProperty(t,"value",a)}}}}}function Pi(){function r(e,t,n){var r=D(n)?n:9===Ie?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return Mi.test(t.ngValue)?function(e,t,n){r(t,n,e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){r(t,n,e)})}}}}var Di=["$browser","$sniffer","$filter","$parse",function(a,i,o,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,r){r[0]&&(vi[E(n.type)]||vi.text)(e,t,n,r[0],i,a,o,s)}}}}],Mi=/^(true|false|\d+)$/,Ai=["$compile",function(r){return{restrict:"AC",compile:function(e){return r.$$addBindingClass(e),function(e,t,n){r.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=Je(e)})}}}}],Oi=["$interpolate","$compile",function(a,i){return{compile:function(e){return i.$$addBindingClass(e),function(e,t,n){var r=a(t.attr(n.$attr.ngBindTemplate));i.$$addBindingInfo(t,r.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=Se(e)?"":e})}}}}],Ii=["$sce","$parse","$compile",function(i,n,o){return{restrict:"A",compile:function(e,t){var r=n(t.ngBindHtml),a=n(t.ngBindHtml,function(e){return i.valueOf(e)});return o.$$addBindingClass(e),function(t,n,e){o.$$addBindingInfo(n,e.ngBindHtml),t.$watch(a,function(){var e=r(t);n.html(i.getTrustedHtml(e)||"")})}}}}],Ni=C({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function ji(l,c){var u;return l="ngClass"+l,["$parse",function(s){return{restrict:"AC",link:function(e,t,r){var n,a=t.data("$classCounts"),i=!0;function o(e,t){var n=[];return ke(e,function(e){(0<t||a[e])&&(a[e]=(a[e]||0)+t,a[e]===+(0<t))&&n.push(e)}),n.join(" ")}a||(a=Ae(),t.data("$classCounts",a)),"ngClass"!==l&&(u=u||s("$index",function(e){return 1&e}),e.$watch(u,function(e){(e===c?function(e){e=o(p(e),1),r.$addClass(e)}:function(e){e=o(p(e),-1),r.$removeClass(e)})(n);i=e})),e.$watch(s(r[l],f),function(e){i===c&&!function(e,t){var e=p(e),t=p(t),n=d(e,t),t=d(t,e),e=o(n,-1),n=o(t,1);r.$addClass(n),r.$removeClass(e)}(n,e);n=e})}}}];function d(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var a=e[r],i=0;i<t.length;i++)if(a===t[i])continue e;n.push(a)}return n}function p(e){return e&&e.split(" ")}function f(t){var e;return t&&(Ee(e=t)?e=t.map(f).join(" "):_e(t)?e=Object.keys(t).filter(function(e){return t[e]}).join(" "):Ce(t)||(e=t+""),e)}}var Fi=ji("",!0),zi=ji("Odd",0),Li=ji("Even",1),Ri=Ga({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Ui=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],qi={},Hi={blur:!0,focus:!0};function Vi(n,a,i,o,s,l){return{restrict:"A",compile:function(e,t){var r=n(t[o]);return function(n,e){e.on(s,function(e){function t(){r(n,{$event:e})}if(a.$$phase)if(l)n.$evalAsync(t);else try{t()}catch(e){i(e)}else n.$apply(t)})}}}}ke("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var a=Nn("ng-"+r);qi[a]=["$parse","$rootScope","$exceptionHandler",function(e,t,n){return Vi(e,t,n,a,r,Hi[r])}]});function Yi(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var a=n.ngList||", ",i="false"!==n.ngTrim,o=i?Pe(a):a;r.$parsers.push(function(e){var t;if(!Se(e))return t=[],e&&ke(e.split(o),function(e){e&&t.push(i?Pe(e):e)}),t}),r.$formatters.push(function(e){if(Ee(e))return e.join(a)}),r.$isEmpty=function(e){return!e||!e.length}}}}var Bi=["$animate","$compile",function(l,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,r,t,a){var i,o,s;e.$watch(r.ngIf,function(e){e?o||a(function(e,t){o=t,e[e.length++]=c.$$createComment("end ngIf",r.ngIf),i={clone:e},l.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),o&&(o.$destroy(),o=null),i&&(s=Xe(i.clone),l.leave(s).done(function(e){!1!==e&&(s=null)}),i=null))})}}}],Wi=["$templateRequest","$anchorScroll","$animate",function(m,g,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(e,t){var n=t.ngInclude||t.src,f=t.onload||"",h=t.autoscroll;return function(i,o,e,s,l){function c(){t&&(t.remove(),t=null),u&&(u.$destroy(),u=null),d&&(v.leave(d).done(function(e){!1!==e&&(t=null)}),t=d,d=null)}var u,t,d,p=0;i.$watch(n,function(n){function r(e){!1===e||!D(h)||h&&!i.$eval(h)||g()}var a=++p;n?(m(n,!0).then(function(e){var t;i.$$destroyed||a===p&&(t=i.$new(),s.template=e,e=l(t,function(e){c(),v.enter(e,null,o).done(r)}),d=e,(u=t).$emit("$includeContentLoaded",n),i.$eval(f))},function(){i.$$destroyed||a===p&&(c(),i.$emit("$includeContentError",n))}),i.$emit("$includeContentRequested",n)):(c(),s.template=null)})}}}}],Gi=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,r){v.call(t[0]).match(/SVG/)?(t.empty(),a(St(r.template,ye.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t})):(t.html(r.template),a(t.contents())(e))}}}],Ki=Ga({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Xi="ng-valid",Ji="ng-invalid",Zi="ng-pristine",Qi="ng-dirty",eo="ng-untouched",to="ng-touched",no="ng-not-empty",ro=x("ngModel");function ao(e,t,n,r,a,i,o,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Ja,this.$options=co,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=a(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=r,this.$$animate=i,this.$$timeout=o,this.$$parse=a,this.$$q=s,this.$$exceptionHandler=t,ai(this),(c=this).$$scope.$watch(function(e){e=c.$$ngModelGet(e);return e===c.$modelValue||c.$modelValue!=c.$modelValue&&e!=e||c.$$setModelValue(e),e})}ao.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],ao.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),r=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var t=this.$$parsedNgModel(e);return t=Te(t)?n(e):t},this.$$ngModelSet=function(e,t){Te(this.$$parsedNgModel(e))?r(e,{$$$p:t}):this.$$parsedNgModelAssign(e,t)}}else if(!this.$$parsedNgModel.assign)throw ro("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Ve(this.$$element))},$render:P,$isEmpty:function(e){return Se(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,no),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,no))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Qi),this.$$animate.addClass(this.$$element,Zi)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Zi),this.$$animate.addClass(this.$$element,Qi),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,eo,to)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,to,eo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){var e,t,n,r,a,i;T(this.$modelValue)||(e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,a=this.$options.getOption("allowInvalid"),(i=this).$$runValidators(t,e,function(e){a||n===e||(i.$modelValue=e?t:void 0,i.$modelValue!==r&&i.$$writeModelToScope())}))},$$runValidators:function(n,r,t){this.$$currentValidationRunId++;var a,i,o,s=this.$$currentValidationRunId,l=this;function c(e,t){s===l.$$currentValidationRunId&&l.$setValidity(e,t)}function e(e){s===l.$$currentValidationRunId&&t(e)}!function(){var e=l.$$parserName;{if(!Se(l.$$parserValid))return l.$$parserValid||(ke(l.$validators,function(e,t){c(t,null)}),ke(l.$asyncValidators,function(e,t){c(t,null)})),c(e,l.$$parserValid),l.$$parserValid;c(e,null)}return 1}()||(a=!0,ke(l.$validators,function(e,t){e=Boolean(e(n,r));a=a&&e,c(t,e)}),!a&&(ke(l.$asyncValidators,function(e,t){c(t,null)}),1))?e(!1):(i=[],o=!0,ke(l.$asyncValidators,function(e,t){e=e(n,r);if(!Y(e))throw ro("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",e);c(t,void 0),i.push(e.then(function(){c(t,!0)},function(){c(t,o=!1)}))}),i.length?l.$$q.all(i).then(function(){e(o)},P):e(!0))},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!Se(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(Se(t=this.$parsers[e](t))){this.$$parserValid=!1;break}T(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,a=this.$options.getOption("allowInvalid");function i(){n.$modelValue!==r&&n.$$writeModelToScope()}this.$$rawModelValue=t,a&&(this.$modelValue=t,i()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){a||(n.$modelValue=e?t:void 0,i())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),ke(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce"),n=($(t[e])?t=t[e]:$(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:$(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce),this);0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,P))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},ii({clazz:ao,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var io=["$rootScope",function(o){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ao,priority:1,compile:function(e){return e.addClass(Zi).addClass(eo).addClass(Xi),{pre:function(e,t,n,r){var a=r[0],i=r[1]||a.$$parentForm,r=r[2];r&&(a.$options=r.$options),a.$$initGetterSetters(),i.$addControl(a),n.$observe("name",function(e){a.$name!==e&&a.$$parentForm.$$renameControl(a,e)}),e.$on("$destroy",function(){a.$$parentForm.$removeControl(a)})},post:function(e,t,n,r){var a=r[0];function i(){a.$setTouched()}a.$$setUpdateOnEvents(),t.on("blur",function(){a.$touched||(o.$$phase?e.$evalAsync(i):e.$apply(i))})}}}}}],oo=/(\s+|^)default(\s+|$)/;function so(e){this.$$options=e}so.prototype={getOption:function(e){return this.$$options[e]},createChild:function(n){var r=!1;return ke(n=xe({},n),function(e,t){"$inherit"===e?"*"===t?r=!0:(n[t]=this.$$options[t],"updateOn"===t&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===t&&(n.updateOnDefault=!1,n[t]=Pe(e.replace(oo,function(){return n.updateOnDefault=!0," "})))},this),r&&(delete n["*"],uo(n,this.$$options)),uo(n,co.$$options),new so(n)}};function lo(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:co,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}}var co=new so({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});function uo(n,e){ke(e,function(e,t){D(n[t])||(n[t]=e)})}var po=Ga({terminal:!0,priority:1e3}),fo=x("ngOptions"),ho=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,mo=["$compile","$document","$parse",function(m,g,w){var v=ye.document.createElement("option"),b=ye.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=P},post:function(e,i,t,n){for(var o=n[0],s=n[1],l=t.multiple,r=0,a=i.children(),c=a.length;r<c;r++)if(""===a[r].value){o.hasEmptyOption=!0,o.emptyOption=a.eq(r);break}i.empty();var u,n=!!o.emptyOption,d=($e(v.cloneNode(!1)).val("?"),function(e,t,c){var n,r,a,u,i,d,o,p,f,h,m,g,v,s,b,l=e.match(ho);if(l)return n=l[5]||l[7],r=l[6],a=/ as /.test(l[0])&&l[1],u=l[9],i=w(l[2]?l[1]:n),d=a&&w(a)||i,o=u&&w(u),p=u?function(e,t){return o(c,t)}:function(e){return Qt(e)},f=function(e,t){return p(e,b(e,t))},h=w(l[2]||l[1]),m=w(l[3]||""),g=w(l[4]||""),v=w(l[8]),s={},b=r?function(e,t){return s[r]=t,s[n]=e,s}:function(e){return s[n]=e,s},{trackBy:u,getTrackByValue:f,getWatchables:w(v,function(e){for(var t=[],n=$(e=e||[]),r=n.length,a=0;a<r;a++){var i=e===n?a:n[a],o=e[i],i=b(o,i),o=p(o,i);t.push(o),(l[2]||l[1])&&(o=h(c,i),t.push(o)),l[4]&&(o=g(c,i),t.push(o))}return t}),getOptions:function(){for(var e=[],t={},n=v(c)||[],r=$(n),a=r.length,i=0;i<a;i++){var o=n===r?i:r[i],s=n[o],s=b(s,o),o=d(c,s),l=p(o,s),o=new y(l,o,h(c,s),m(c,s),g(c,s));e.push(o),t[l]=o}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return u?X(e.viewValue):e.viewValue}}}};throw fo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Ve(t));function y(e,t,n,r,a){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=a}function $(e){var t;if(!r&&N(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}}(t.ngOptions,i,e)),p=g[0].createDocumentFragment();function f(e,t){var n=v.cloneNode(!1),t=(t.appendChild(n),e),e=n;(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function h(e){var e=u.getOptionFromViewValue(e),t=e&&e.element;return t&&!t.selected&&(t.selected=!0),e}o.generateUnknownOptionValue=function(e){return"?"},l?(o.writeValue=function(e){var t;u&&(t=e&&e.map(h)||[],u.items.forEach(function(e){e.element.selected&&!K(t,e)&&(e.element.selected=!1)}))},o.readValue=function(){var e=i.val()||[],t=[];return ke(e,function(e){e=u.selectValueMap[e];e&&!e.disabled&&t.push(u.getViewValueFromOption(e))}),t},d.trackBy&&e.$watchCollection(function(){if(Ee(s.$viewValue))return s.$viewValue.map(function(e){return d.getTrackByValue(e)})},function(){s.$render()})):(o.writeValue=function(e){var t,n;u&&(t=i[0].options[i[0].selectedIndex],n=u.getOptionFromViewValue(e),t&&t.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(o.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):o.selectUnknownOrEmptyOption(e))},o.readValue=function(){var e=u.selectValueMap[i.val()];return e&&!e.disabled?(o.unselectEmptyOption(),o.removeUnknownOption(),u.getViewValueFromOption(e)):null},d.trackBy&&e.$watch(function(){return d.getTrackByValue(s.$viewValue)},function(){s.$render()})),n&&(m(o.emptyOption)(e),i.prepend(o.emptyOption),o.emptyOption[0].nodeType===et?(o.hasEmptyOption=!1,o.registerOption=function(e,t){""===t.val()&&(o.hasEmptyOption=!0,o.emptyOption=t,o.emptyOption.removeClass("ng-scope"),s.$render(),t.on("$destroy",function(){var e=o.$isEmptyOptionSelected();o.hasEmptyOption=!1,o.emptyOption=void 0,e&&s.$render()}))}):o.emptyOption.removeClass("ng-scope")),e.$watchCollection(d.getWatchables,function(){var e=u&&o.readValue();if(u)for(var t=u.items.length-1;0<=t;t--){var n=u.items[t];D(n.group)?Ut(n.element.parentNode):Ut(n.element)}u=d.getOptions();var r={};{var a;u.items.forEach(function(e){var t;D(e.group)?((t=r[e.group])||(t=b.cloneNode(!1),p.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),f(e,t)):f(e,p)}),i[0].appendChild(p),s.$render(),s.$isEmpty(e)||(a=o.readValue(),d.trackBy||l?Me(e,a):e===a)||(s.$setViewValue(a),s.$render())}})}}}}],go=["$locale","$interpolate","$log",function(h,m,g){var v=/{}/g,b=/^when(Minus)?(.+)$/;return{link:function(r,a,i){var o,e=i.count,s=i.$attr.when&&a.attr(i.$attr.when),l=i.offset||0,c=r.$eval(s)||{},u={},t=m.startSymbol(),n=m.endSymbol(),d=t+e+"-"+l+n,p=y.noop;function f(e){a.text(e||"")}ke(i,function(e,t){var n=b.exec(t);n&&(n=(n[1]?"-":"")+E(n[2]),c[n]=a.attr(i.$attr[t]))}),ke(c,function(e,t){u[t]=m(e.replace(v,d))}),r.$watch(e,function(e){var t=parseFloat(e),n=T(t);(t=n||t in c?t:h.pluralCat(t-l))===o||n&&T(o)||(p(),Se(n=u[t])?(null!=e&&g.debug("ngPluralize: no rule defined for '"+t+"' in "+s),p=P,f()):p=r.$watch(n,f),o=t)})}}}],vo=x("ngRef"),bo=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,a){var i=Nn(De(e)),o=t(a.ngRef),s=o.assign||function(){throw vo("nonassign",'Expression in ngRef="{0}" is non-assignable!',a.ngRef)};return function(e,t,n){var r;if(n.hasOwnProperty("ngRefRead")){if("$element"===n.ngRefRead)r=t;else if(!(r=t.data("$"+n.ngRefRead+"Controller")))throw vo("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',n.ngRefRead,a.ngRef)}else r=t.data("$"+i+"Controller");s(e,r=r||t),t.on("$destroy",function(){o(e)===r&&s(e,null)})}}}}],yo=["$parse","$animate","$compile",function(o,P,s){function D(e,t,n,r,a,i,o){e[n]=r,a&&(e[a]=i),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))}function M(e,t,n){return Qt(n)}function A(e,t){return t}var O="$$NG_REMOVED",I=x("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var k=t.ngRepeat,x=s.$$createComment("end ngRepeat",k),t=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!t)throw I("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",k);var n=t[1],r=t[2],S=t[3],a=t[4];if(!(t=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw I("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",n);var _,i,C,E=t[3]||t[1],T=t[2];if(!S||/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(S)&&!/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(S))return a&&(_={$id:Qt},i=o(a),C=function(e,t,n,r){return T&&(_[T]=t),_[E]=n,_.$index=r,i(e,_)}),function(b,y,e,t,$){var w=Ae();b.$watchCollection(r,function(e){var n,t,r,a,i,o,s,l,c,u,d,p,f,h,m=y[0],g=Ae();if(S&&(b[S]=e),N(e))c=e,l=C||M;else for(var v in l=C||A,c=[],e)we.call(e,v)&&"$"!==v.charAt(0)&&c.push(v);for(a=c.length,d=new Array(a),n=0;n<a;n++)if(i=e===c?n:c[n],o=e[i],s=l(b,i,o,n),w[s])u=w[s],delete w[s],g[s]=u,d[n]=u;else{if(g[s])throw ke(d,function(e){e&&e.scope&&(w[e.id]=e)}),I("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",k,s,o);d[n]={id:s,scope:void 0,clone:void 0},g[s]=!0}for(f in _&&(_[E]=void 0),w){if(p=Xe((u=w[f]).clone),P.leave(p),p[0].parentNode)for(n=0,t=p.length;n<t;n++)p[n][O]=!0;u.scope.$destroy()}for(n=0;n<a;n++)if(i=e===c?n:c[n],o=e[i],(u=d[n]).scope){for(r=m;(r=r.nextSibling)&&r[O];);u.clone[0]!==r&&P.move(Xe(u.clone),null,m),m=(h=u).clone[h.clone.length-1],D(u.scope,n,E,o,T,i,a)}else $(function(e,t){u.scope=t;t=x.cloneNode(!1);e[e.length++]=t,P.enter(e,null,m),m=t,u.clone=e,g[u.id]=u,D(u.scope,n,E,o,T,i,a)});w=g})};throw I("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",S)}}}],$o="ng-hide-animate",wo=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){r[e?"removeClass":"addClass"](t,"ng-hide",{tempClasses:$o})})}}}],ko=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){r[e?"addClass":"removeClass"](t,"ng-hide",{tempClasses:$o})})}}}],xo=Ga(function(e,n,t){e.$watchCollection(t.ngStyle,function(e,t){t&&e!==t&&ke(t,function(e,t){n.css(t,"")}),e&&n.css(e)})}),So=["$animate","$compile",function(c,u){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,a){var i,n=n.ngSwitch||n.on,o=[],s=[],l=[];e.$watch(n,function(e){for(var t,n;s.length;)c.cancel(s.pop());for(t=0,n=l.length;t<n;++t){var r=Xe(o[t].clone);l[t].$destroy(),(s[t]=c.leave(r)).done(function(t,n){return function(e){!1!==e&&t.splice(n,1)}}(s,t))}o.length=0,l.length=0,(i=a.cases["!"+e]||a.cases["?"])&&ke(i,function(n){n.transclude(function(e,t){l.push(t);t=n.element;e[e.length++]=u.$$createComment("end ngSwitchWhen"),o.push({clone:e}),c.enter(e,t.parent(),t)})})})}}}],_o=Ga({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,a){ke(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:a,element:t})})}}),Co=Ga({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,a){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:a,element:t})}}),Eo=x("ngTransclude"),To=["$compile",function(t){return{restrict:"EAC",compile:function(e){var o=t(e.contents());return e.empty(),function(e,n,t,r,a){if(!a)throw Eo("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Ve(n));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude="");t=t.ngTransclude||t.ngTranscludeSlot;function i(){o(e,function(e){n.append(e)})}a(function(e,t){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Qe||r.nodeValue.trim())return 1}}(e)?n.append(e):(i(),t.$destroy())},null,t),t&&!a.isSlotFilled(t)&&i()}}}}],Po=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(e,t){"text/ng-template"===t.type&&(t=t.id,e=e[0].text,n.put(t,e))}}}],Do={$setViewValue:P,$render:P};function Mo(e,t){e.prop("selected",t),e.attr("selected",t)}function Ao(){return{restrict:"E",require:["select","?ngModel"],controller:Io,priority:1,link:{pre:function(e,r,t,n){var a,i,o=n[0],s=n[1];s?(o.ngModelCtrl=s,r.on("change",function(){o.removeUnknownOption(),e.$apply(function(){s.$setViewValue(o.readValue())})}),t.multiple&&(o.multiple=!0,o.readValue=function(){var t=[];return ke(r.find("option"),function(e){e.selected&&!e.disabled&&(e=e.value,t.push(e in o.selectValueMap?o.selectValueMap[e]:e))}),t},o.writeValue=function(n){ke(r.find("option"),function(e){var t=!!n&&(K(n,e.value)||K(n,o.selectValueMap[e.value]));t!==e.selected&&Mo($e(e),t)})},i=NaN,e.$watch(function(){i!==s.$viewValue||Me(a,s.$viewValue)||(a=S(s.$viewValue),s.$render()),i=s.$viewValue}),s.$isEmpty=function(e){return!e||0===e.length})):o.registerOption=P},post:function(e,t,n,r){var a,i=r[1];i&&(a=r[0],i.$render=function(){a.writeValue(i.$viewValue)})}}}}var Oo,Io=["$element","$scope",function(n,t){var s=this,r=new nn,e=(s.selectValueMap={},s.ngModelCtrl=Do,s.multiple=!1,s.unknownOption=$e(ye.document.createElement("option")),s.hasEmptyOption=!1,s.emptyOption=void 0,s.renderUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),n.prepend(s.unknownOption),Mo(s.unknownOption,!0),n.val(e)},s.updateUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),Mo(s.unknownOption,!0),n.val(e)},s.generateUnknownOptionValue=function(e){return"? "+Qt(e)+" ?"},s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.selectEmptyOption=function(){s.emptyOption&&(n.val(""),Mo(s.emptyOption,!0))},s.unselectEmptyOption=function(){s.hasEmptyOption&&Mo(s.emptyOption,!1)},t.$on("$destroy",function(){s.renderUnknownOption=P}),s.readValue=function(){var e=n.val(),e=e in s.selectValueMap?s.selectValueMap[e]:e;return s.hasOption(e)?e:null},s.writeValue=function(e){var t=n[0].options[n[0].selectedIndex];t&&Mo($e(t),!1),s.hasOption(e)?(s.removeUnknownOption(),t=Qt(e),n.val(t in s.selectValueMap?t:e),t=n[0].options[n[0].selectedIndex],Mo($e(t),!0)):s.selectUnknownOrEmptyOption(e)},s.addOption=function(e,t){t[0].nodeType!==et&&(Ke(e,'"option value"'),""===e&&(s.hasEmptyOption=!0,s.emptyOption=t),t=r.get(e)||0,r.set(e,t+1),l())},s.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(s.hasEmptyOption=!1,s.emptyOption=void 0)):r.set(e,t-1))},s.hasOption=function(e){return!!r.get(e)},s.$hasEmptyOption=function(){return s.hasEmptyOption},s.$isUnknownOptionSelected=function(){return n[0].options[0]===s.unknownOption[0]},s.$isEmptyOptionSelected=function(){return s.hasEmptyOption&&n[0].options[n[0].selectedIndex]===s.emptyOption[0]},!(s.selectUnknownOrEmptyOption=function(e){null==e&&s.emptyOption?(s.removeUnknownOption(),s.selectEmptyOption()):s.unknownOption.parent().length?s.updateUnknownOption(e):s.renderUnknownOption(e)}));function l(){e||(e=!0,t.$$postDigest(function(){e=!1,s.ngModelCtrl.$render()}))}var a=!1;function c(e){a||(a=!0,t.$$postDigest(function(){t.$$destroyed||(a=!1,s.ngModelCtrl.$setViewValue(s.readValue()),e&&s.ngModelCtrl.$render())}))}s.registerOption=function(e,r,a,t,n){var i,o;a.$attr.ngValue?a.$observe("value",function(e){var t,n=r.prop("selected");D(o)&&(s.removeOption(i),delete s.selectValueMap[o],t=!0),o=Qt(e),i=e,s.selectValueMap[o]=e,s.addOption(e,r),r.attr("value",o),t&&n&&c()}):t?a.$observe("value",function(e){s.readValue();var t,n=r.prop("selected");D(i)&&(s.removeOption(i),t=!0),i=e,s.addOption(e,r),t&&n&&c()}):n?e.$watch(n,function(e,t){a.$set("value",e);var n=r.prop("selected");t!==e&&s.removeOption(t),s.addOption(e,r),t&&n&&c()}):s.addOption(a.value,r),a.$observe("disabled",function(e){("true"===e||e&&r.prop("selected"))&&(s.multiple?c(!0):(s.ngModelCtrl.$setViewValue(null),s.ngModelCtrl.$render()))}),r.on("$destroy",function(){var e=s.readValue(),t=a.value;s.removeOption(t),l(),(s.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)})}}],No=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var i,o;return D(t.ngValue)||(D(t.value)?i=n(t.value,!0):(o=n(e.text(),!0))||t.$set("value",e.text())),function(e,t,n){var r="$selectController",a=t.parent(),a=a.data(r)||a.parent().data(r);a&&a.registerOption(e,t,n,i,o)}}}}],jo=["$parse",function(i){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var a;r&&(a=n.hasOwnProperty("required")||i(n.ngRequired)(e),n.ngRequired||(n.required=!0),r.$validators.required=function(e,t){return!a||!r.$isEmpty(t)},n.$observe("required",function(e){a!==e&&(a=e,r.$validate())}))}}}],Fo=["$parse",function(n){return{restrict:"A",require:"?ngModel",compile:function(e,t){var o,s;return t.ngPattern&&(o=t.ngPattern,s="/"===t.ngPattern.charAt(0)&&f.test(t.ngPattern)?function(){return t.ngPattern}:n(t.ngPattern)),function(e,n,t,r){var a,i;r&&(a=t.pattern,t.ngPattern?a=s(e):o=t.pattern,i=Ro(a,o,n),t.$observe("pattern",function(e){var t=i;i=Ro(e,o,n),(t&&t.toString())!==(i&&i.toString())&&r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||Se(i)||i.test(t)})}}}}],zo=["$parse",function(o){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var a,i;r&&(a=n.maxlength||o(n.ngMaxlength)(e),i=Uo(a),n.$observe("maxlength",function(e){a!==e&&(i=Uo(e),a=e,r.$validate())}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i})}}}],Lo=["$parse",function(o){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var a,i;r&&(a=n.minlength||o(n.ngMinlength)(e),i=Uo(a)||-1,n.$observe("minlength",function(e){a!==e&&(i=Uo(e)||-1,a=e,r.$validate())}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i})}}}];function Ro(e,t,n){if(e){if((e=Ce(e)?new RegExp("^"+e+"$"):e).test)return e;throw x("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,Ve(n))}}function Uo(e){e=b(e);return T(e)?-1:e}ye.angular.bootstrap?ye.console&&console.log("WARNING: Tried to load AngularJS more than once."):(be||(a=Z(),(di=Se(a)?ye.jQuery:a?ye[a]:void 0)&&di.fn.on?xe(($e=di).fn,{scope:Ht.scope,isolateScope:Ht.isolateScope,controller:Ht.controller,injector:Ht.injector,inheritedData:Ht.inheritedData}):$e=s,Oo=$e.cleanData,$e.cleanData=function(e){for(var t,n,r=0;null!=(n=e[r]);r++)(t=($e._data(n)||{}).events)&&t.$destroy&&$e(n).triggerHandler("$destroy");Oo(e)},y.element=$e,be=!0),xe(y,{errorHandlingConfig:t,bootstrap:he,copy:X,extend:xe,merge:R,equals:Me,element:$e,forEach:ke,injector:fn,noop:P,bind:He,toJson:te,fromJson:ne,identity:je,isUndefined:Se,isDefined:D,isString:Ce,isFunction:Te,isObject:_e,isNumber:$,isElement:G,isArray:Ee,version:at,isDate:k,callbacks:{$$counter:0},getTestability:ge,reloadWithDebugInfo:me,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Be,$$minErr:x,$$csp:J,$$encodeUriSegment:ce,$$encodeUriQuery:i,$$lowercase:E,$$stringify:Je,$$uppercase:_}),(g=nt(ye))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:ra}),e.provider("$compile",Mn).directive({a:Ka,input:Di,textarea:Di,form:ni,script:Po,select:Ao,option:No,ngBind:Ai,ngBindHtml:Ii,ngBindTemplate:Oi,ngClass:Fi,ngClassEven:Li,ngClassOdd:zi,ngCloak:Ri,ngController:Ui,ngForm:ri,ngHide:ko,ngIf:Bi,ngInclude:Wi,ngInit:Ki,ngNonBindable:po,ngPluralize:go,ngRef:bo,ngRepeat:yo,ngShow:wo,ngStyle:xo,ngSwitch:So,ngSwitchWhen:_o,ngSwitchDefault:Co,ngOptions:mo,ngTransclude:To,ngModel:io,ngList:Yi,ngChange:Ni,pattern:Fo,ngPattern:Fo,required:jo,ngRequired:jo,minlength:Lo,ngMinlength:Lo,maxlength:zo,ngMaxlength:zo,ngValue:Pi,ngModelOptions:lo}).directive({ngInclude:Gi,input:Ti}).directive(Xa).directive(qi),e.provider({$anchorScroll:hn,$animate:_n,$animateCss:Sn,$$animateJs:$n,$$animateQueue:wn,$$AnimateRunner:xn,$$animateAsyncRun:kn,$browser:En,$cacheFactory:Tn,$controller:Rn,$document:Un,$$isDocumentHidden:qn,$exceptionHandler:Hn,$filter:_a,$$forceReflow:Vn,$interpolate:cr,$interval:dr,$$intervalFactory:pr,$http:ir,$httpParamSerializer:Zn,$httpParamSerializerJQLike:Qn,$httpBackend:sr,$xhrFactory:or,$jsonpCallbacks:fr,$location:Dr,$log:Mr,$parse:Kr,$rootScope:na,$q:Xr,$$q:Jr,$sce:ca,$sceDelegate:la,$sniffer:ua,$$taskTrackerFactory:da,$templateCache:Pn,$templateRequest:ha,$$testability:ma,$timeout:va,$window:ka,$$rAF:ta,$$jqLite:Zt,$$Map:rn,$$cookieReader:Sa})}]).info({angularVersion:"1.8.3"}),y.module("ngLocale",[],["$provide",function(e){var i="one",o="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n,r,a=0|e;return e=e,void 0===(t=t)&&(t=Math.min((r=e,-1==(n=(r+="").indexOf("."))?0:r.length-n-1),3)),r=Math.pow(10,t),1==a&&0=={v:t,f:(e*r|0)%r}.v?i:o}})}]),$e(function(){fe(ye.document,he)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}')),angular.module("exceptionless",[]).constant("$ExceptionlessClient",exceptionless.ExceptionlessClient.default).factory("exceptionlessHttpInterceptor",["$location","$q","$ExceptionlessClient",function(n,r,a){return{responseError:function(e){var t;return 404===e.status?a.submitNotFound(e.config.url):401!==e.status&&(t="["+e.status+"] "+(e.data&&e.data.Message?e.data.Message:e.config.url),a.createUnhandledException(new Error(t),"errorHttpInterceptor").setSource(e.config.url).setProperty("response",e).setProperty("referrer",n.absUrl()).submit()),r.reject(e)}}}]).config(["$httpProvider","$provide","$ExceptionlessClient",function(e,t,o){e.interceptors.push("exceptionlessHttpInterceptor"),t.decorator("$exceptionHandler",["$delegate",function(n){return function(e,t){n(e,t),o.createUnhandledException(e,"$exceptionHandler").setMessage(t).submit()}}]),t.decorator("$log",["$delegate",function(i){function e(n,r){var a=i[n];return i[n]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];angular.mock&&(i[n].logs=[]),a.apply(null,e),e[0]&&0<e[0].length&&o.submitLog(null,e[0],r)}}return i.log=e("log","Trace"),i.info=e("info","Info"),i.warn=e("warn","Warn"),i.debug=e("debug","Debug"),i.error=e("error","Error"),i}])}]).run(["$rootScope","$ExceptionlessClient",function(e,o){e.$on("$routeChangeSuccess",function(e,t,n){n&&o.createFeatureUsage(n.name).setProperty("next",t).setProperty("current",n).submit()}),e.$on("$routeChangeError",function(e,t,n,r){o.createUnhandledException(new Error(r),"$routeChangeError").setProperty("current",t).setProperty("previous",n).submit()}),e.$on("$stateChangeSuccess",function(e,t,n,r,a){t&&"otherwise"!==t.name&&o.createFeatureUsage(t.controller||t.name).setProperty("toState",t).setProperty("toParams",n).setProperty("fromState",r).setProperty("fromParams",a).submit()}),e.$on("$stateNotFound",function(e,t,n,r){t&&o.createNotFound(t.to).setProperty("unfoundState",t).setProperty("fromState",n).setProperty("fromParams",r).submit()});var s="$stateChangeError";e.$on(s,function(e,t,n,r,a,i){i&&(i&&404===i.status?o.createNotFound(i.config.url):o.createUnhandledException(i,s)).setSource(s).setMessage(i&&i.statusText).setProperty("toState",t).setProperty("toParams",n).setProperty("fromState",r).setProperty("fromParams",a).submit()}),e.$on("$destroy",function(){o.config.queue.process()})}]),function(d,e){"use strict";var Q,ee,z=1,te="-add",ne="-remove",ve="ng-",_="ng-animate",L="$$ngAnimateChildren",be=void 0===d.ontransitionend&&void 0!==d.onwebkittransitionend?(Q="WebkitTransition","webkitTransitionEnd transitionend"):(Q="transition","transitionend"),ye=void 0===d.onanimationend&&void 0!==d.onwebkitanimationend?(ee="WebkitAnimation","webkitAnimationEnd animationend"):(ee="animation","animationend"),r="Duration",$e="TimingFunction",i="PlayState",n=ee+"Delay",re=ee+r,a=Q+"Delay",t=Q+r,o=e.$$minErr("ng");function m(e,t,n){if(!e)throw o("areq","Argument '{0}' is {1}",t||"?",n||"required")}function C(e,t){return e||t?e?t?(e=me(e)?e.join(" "):e)+" "+(t=me(t)?t.join(" "):t):e:t:""}function ae(e,n,r){var a="";return e=me(e)?e:e&&H(e)&&e.length?e.split(/\s+/):[],he(e,function(e,t){e&&0<e.length&&(a=a+(0<t?" ":"")+(r?n+e:e+n))}),a}function W(e){if(e instanceof Y)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===z)return e;break;default:return Y(p(e))}if(e.nodeType===z)return Y(e)}function p(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===z)return n}}function h(o){return function(e,t){var n,r,a,i;t.addClass&&(n=o,r=t.addClass,he(e,function(e){n.addClass(e,r)}),t.addClass=null),t.removeClass&&(a=o,i=t.removeClass,he(e,function(e){a.removeClass(e,i)}),t.removeClass=null)}}function ie(e){var t;return(e=e||{}).$$prepared||(t=e.domOperation||ge,e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ge},e.$$prepared=!0),e}function oe(e,t){we(e,t),ke(e,t)}function we(e,t){t.from&&(e.css(t.from),t.from=null)}function ke(e,t){t.to&&(e.css(t.to),t.to=null)}function R(e,t,n){var a,r,i,o=t.options||{},n=n.options||{},s=(o.addClass||"")+" "+(n.addClass||""),l=(o.removeClass||"")+" "+(n.removeClass||""),l=(a=e.attr("class"),e=s,s=l,r={},a=c(a),e=c(e),he(e,function(e,t){r[t]=1}),s=c(s),he(s,function(e,t){r[t]=1===r[t]?null:-1}),i={addClass:"",removeClass:""},he(r,function(e,t){var n,r;1===e?(n="addClass",r=!a[t]||a[t+ne]):-1===e&&(n="removeClass",r=a[t]||a[t+te]),r&&(i[n].length&&(i[n]+=" "),i[n]+=t)}),i);function c(e){H(e)&&(e=e.split(" "));var t={};return he(e,function(e){e.length&&(t[e]=!0)}),t}n.preparationClasses&&(o.preparationClasses=U(n.preparationClasses,o.preparationClasses),delete n.preparationClasses);e=o.domOperation!==ge?o.domOperation:null;return G(o,n),e&&(o.domOperation=e),o.addClass=l.addClass||null,o.removeClass=l.removeClass||null,t.addClass=o.addClass,t.removeClass=o.removeClass,o}function se(e){return e instanceof Y?e[0]:e}function le(e,t){var t=t?"paused":"",n=ee+i;return ce(e,[n,t]),[n,t]}function ce(e,t){var n=t[0],t=t[1];e.style[n]=t}function U(e,t){return e?t?e+" "+t:e:t}var ue=function(e,t){t=t?"-"+t+"s":"";return ce(e,[a,t]),[a,t]},s=["$interpolate",function(i){return{link:function(e,t,n){var r=n.ngAnimateChildren;function a(e){t.data(L,e="on"===e||"true"===e)}H(r)&&0===r.length?t.data(L,!0):(a(i(r)(e)),n.$observe("ngAnimateChildren",a))}}}],de="$$animateCss",l={transitionDuration:t,transitionDelay:a,transitionProperty:Q+"Property",animationDuration:re,animationDelay:n,animationIterationCount:ee+"IterationCount"},xe={transitionDuration:t,transitionDelay:a,animationDuration:re,animationDelay:n};function pe(e,t){return[t?n:a,e+"s"]}function Se(e,t,n){var a=Object.create(null),i=e.getComputedStyle(t)||{};return he(n,function(e,t){var n,r,e=i[e];e&&(("-"===(n=e.charAt(0))||"+"===n||0<=n)&&(r=0,n=(n=e).split(/\s*,\s*/),he(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,r=r?Math.max(e,r):e}),e=r),0===e&&(e=null),a[t]=e)}),a}function fe(e){return 0===e||null!=e}function _e(e,t){var n=Q,e=e+"s";return t?n+=r:e+=" linear all",[n,e]}function Ce(t,n,e){he(e,function(e){t[e]=K(t[e])?t[e]:n.style.getPropertyValue(e)})}var Ee,G,he,me,K,f,$,q,H,V,Y,ge,t=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(H,V,Y,B,W,n,G,t,K){var X=h(V);var r=[];function J(e){r.push(e),t.waitUntilQuiet(function(){W.flush();for(var e=n(),t=0;t<r.length;t++)r[t](e);r.length=0})}function Z(e,t,n,r){e=e,n=n,r=r,i=l,(a=W.get(n))||"infinite"===(a=Se(H,e,i)).animationIterationCount&&(a.animationIterationCount=1),e=r||0<a.transitionDuration||0<a.animationDuration,W.put(n,a,e);var a,i=a,r=i.animationDelay,n=i.transitionDelay;return i.maxDelay=r&&n?Math.max(r,n):r||n,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}return function(o,e){var s=e||{},l=(s.$$prepared||(s=ie(Ee(s))),{}),c=se(o);if(!c||!c.parentNode||!K.enabled())return N();var u,r,a,n,d,p,f,j,h=[],t=(o.attr("class"),e={},(t=s)&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e),m=[];if(0===s.duration||!G.animations&&!G.transitions)return N();var g=s.event&&me(s.event)?s.event.join(" "):s.event,e=g&&s.structural,i="",v="",b=(e?i=ae(g,ve,!0):g&&(i=g),s.addClass&&(v+=ae(s.addClass,te)),s.removeClass&&(v.length&&(v+=" "),v+=ae(s.removeClass,ne)),s.applyClassesEarly&&v.length&&X(o,s),[i,v].join(" ").trim()),i=t.to&&0<Object.keys(t.to).length;if(!(0<(s.keyframeStyle||"").length)&&!i&&!b)return N();var y,$,F,w,k,x,S=W.cacheKey(c,g,s.addClass,s.removeClass);if(W.containsCachedAnimationWithoutDuration(S))return b=null,N();y=0<s.stagger?{transitionDelay:t=parseFloat(s.stagger),animationDelay:t,transitionDuration:0,animationDuration:0}:(t=c,w=b,x=xe,F="stagger-"+(E=S),0<W.count(E)&&(($=W.get(F))||(E=ae(w,"-stagger"),V.addClass(t,E),($=Se(H,t,x)).animationDuration=Math.max($.animationDuration,0),$.transitionDuration=Math.max($.transitionDuration,0),V.removeClass(t,E),W.put(F,$,!0))),$||{}),s.$$skipPreparationClasses||V.addClass(o,b),s.transitionStyle&&(w=[Q,s.transitionStyle],ce(c,w),h.push(w)),0<=s.duration&&(k=0<c.style[Q].length,x=_e(s.duration,k),ce(c,x),h.push(x)),s.keyframeStyle&&(t=[ee,s.keyframeStyle],ce(c,t),h.push(t));var _,C,z=y?0<=s.staggerIndex?s.staggerIndex:W.count(S):0,E=0===z,T=(E&&!s.skipBlocking&&ue(c,9999),Z(c,0,S,!e)),P=T.maxDelay,D=Math.max(P,0),M=T.maxDuration,A={};return A.hasTransitions=0<T.transitionDuration,A.hasAnimations=0<T.animationDuration,A.hasTransitionAll=A.hasTransitions&&"all"===T.transitionProperty,A.applyTransitionDuration=i&&(A.hasTransitions&&!A.hasTransitionAll||A.hasAnimations&&!A.hasTransitions),A.applyAnimationDuration=s.duration&&A.hasAnimations,A.applyTransitionDelay=fe(s.delay)&&(A.applyTransitionDuration||A.hasTransitions),A.applyAnimationDelay=fe(s.delay)&&A.hasAnimations,A.recalculateTimingStyles=0<v.length,(A.applyTransitionDuration||A.applyAnimationDuration)&&(M=s.duration?parseFloat(s.duration):M,A.applyTransitionDuration&&(A.hasTransitions=!0,T.transitionDuration=M,k=0<c.style[Q+"Property"].length,h.push(_e(M,k))),A.applyAnimationDuration)&&(A.hasAnimations=!0,T.animationDuration=M,h.push([re,M+"s"])),0!==M||A.recalculateTimingStyles?(_=ae(b,"-active"),null!=s.delay&&("boolean"!=typeof s.delay&&(C=parseFloat(s.delay),D=Math.max(C,0)),A.applyTransitionDelay&&h.push(pe(C)),A.applyAnimationDelay)&&h.push(pe(C,!0)),null==s.duration&&0<T.transitionDuration&&(A.recalculateTimingStyles=A.recalculateTimingStyles||E),p=1e3*D,f=1e3*M,s.skipBlocking||(A.blockTransition=0<T.transitionDuration,A.blockKeyframeAnimation=0<T.animationDuration&&0<y.animationDelay&&0===y.animationDuration),s.from&&(s.cleanupStyles&&Ce(l,c,Object.keys(s.from)),we(o,s)),A.blockTransition||A.blockKeyframeAnimation?R(M):s.skipBlocking||ue(c,!1),{$$willAnimate:!0,end:O,start:function(){if(!u)return n=new Y(d={end:O,cancel:L,resume:null,pause:null}),J(q),n}}):N();function O(){I()}function L(){I(!0)}function I(e){var t;u||a&&r||(r=!(u=!0),b&&!s.$$skipPreparationClasses&&V.removeClass(o,b),_&&V.removeClass(o,_),le(c,!1),ue(c,!1),he(h,function(e){c.style[e[0]]=""}),X(o,s),oe(o,s),Object.keys(l).length&&he(l,function(e,t){e?c.style.setProperty(t,e):c.style.removeProperty(t)}),s.onDone&&s.onDone(),m&&m.length&&o.off(m.join(" "),U),(t=o.data(de))&&(B.cancel(t[0].timer),o.removeData(de)),n&&n.complete(!e))}function R(e){A.blockTransition&&ue(c,e),A.blockKeyframeAnimation&&le(c,!!e)}function N(){return n=new Y({end:O,cancel:L}),J(ge),I(),{$$willAnimate:!1,start:function(){return n},end:O}}function U(e){e.stopPropagation();var t,e=e.originalEvent||e;e.target===c&&(t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-j,0)>=p)&&M<=e&&(a=!0,I())}function q(){var e,t;function n(){if(!u){if(R(!1),he(h,function(e){var t=e[0],e=e[1];c.style[t]=e}),X(o,s),V.addClass(o,_),A.recalculateTimingStyles){if(c.getAttribute("class"),S=W.cacheKey(c,g,s.addClass,s.removeClass),T=Z(c,0,S,!1),P=T.maxDelay,D=Math.max(P,0),0===(M=T.maxDuration))return void I();A.hasTransitions=0<T.transitionDuration,A.hasAnimations=0<T.animationDuration}A.applyAnimationDelay&&(P="boolean"!=typeof s.delay&&fe(s.delay)?parseFloat(s.delay):P,D=Math.max(P,0),T.animationDelay=P,C=pe(P,!0),h.push(C),c.style[C[0]]=C[1]),p=1e3*D,f=1e3*M,s.easing&&(n=s.easing,A.hasTransitions&&(t=Q+$e,h.push([t,n]),c.style[t]=n),A.hasAnimations)&&(t=ee+$e,h.push([t,n]),c.style[t]=n),T.transitionDuration&&m.push(be),T.animationDuration&&m.push(ye),j=Date.now();var e,t=p+1.5*f,n=j+t,r=o.data(de)||[],a=!0;r.length&&((a=n>(e=r[0]).expectedEndTime)?B.cancel(e.timer):r.push(I)),a&&(e=B(i,t,!1),r[0]={timer:e,expectedEndTime:n},r.push(I),o.data(de,r)),m.length&&o.on(m.join(" "),U),s.to&&(s.cleanupStyles&&Ce(l,c,Object.keys(s.to)),ke(o,s))}}function i(){var e=o.data(de);if(e){for(var t=1;t<e.length;t++)e[t]();o.removeData(de)}}u||(c.parentNode?(e=function(e){var t,n;a?r&&e&&(r=!1,I()):(r=!e,T.animationDuration&&(e=le(c,r),r?h.push(e):(e=e,n=(t=h).indexOf(e),0<=e&&t.splice(n,1))))},(t=0<z&&(T.transitionDuration&&0===y.transitionDuration||T.animationDuration&&0===y.animationDuration)&&Math.max(y.animationDelay,y.transitionDelay))?B(n,Math.floor(t*z*1e3),!1):n(),d.resume=function(){e(!0)},d.pause=function(){e(!1)}):I())}}}]}],c=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var v="ng-animate-shim",b="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(d,e,p,t,n,r,a){var f,h;return n.animations||n.transitions?(f=a[0].body,n=se(t),h=Y((a=n).parentNode&&11===a.parentNode.nodeType||f.contains(n)?n:f),function(e){{var t,n,r,a,i,o;if(e.from&&e.to)return t=e.from,n=e.to,e.classes,r=e.anchors,a=s(t),i=s(n),o=[],he(r,function(e){e=function(t,n){var r=Y(se(t).cloneNode(!0)),a=m(l(r));t.addClass(v),n.addClass(v),r.addClass("ng-anchor"),h.append(r);var i,e=function(){var e=d(r,{addClass:b,delay:!0,from:s(t)});return e.$$willAnimate?e:null}();if(!e&&!(i=c()))return u();var o=e||i;return{start:function(){var e,t=o.start();return t.done(function(){if(t=null,!i&&(i=c()))return(t=i.start()).done(function(){t=null,u(),e.complete()}),t;u(),e.complete()}),e=new p({end:n,cancel:n});function n(){t&&t.end()}}};function s(e){var n={},r=se(e).getBoundingClientRect();return he(["width","height","top","left"],function(e){var t=r[e];switch(e){case"top":t+=f.scrollTop;break;case"left":t+=f.scrollLeft}n[e]=Math.floor(t)+"px"}),n}function l(e){return e.attr("class")||""}function c(){var e=m(l(n)),t=g(e,a),e=g(a,e),t=d(r,{to:s(n),addClass:"ng-anchor-in "+t,removeClass:b+" "+e,delay:!0});return t.$$willAnimate?t:null}function u(){r.remove(),t.removeClass(v),n.removeClass(v)}}(e.out,e.in);e&&o.push(e)}),a||i||0!==o.length?{start:function(){var t=[],n=(a&&t.push(a.start()),i&&t.push(i.start()),he(o,function(e){t.push(e.start())}),new p({end:e,cancel:e}));return p.all(t,function(e){n.complete(e)}),n;function e(){he(t,function(e){e.end()})}}}:void 0}return s(e)}):ge;function m(e){return e.replace(/\bng-\S+\b/g,"")}function g(e,t){return H(e)&&(e=e.split(" ")),H(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function s(e){var t=e.element,n=e.options||{},e=(e.structural&&(n.event=e.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===e.event)&&(n.onDone=n.domOperation),n.preparationClasses&&(n.event=U(n.event,n.preparationClasses)),d(t,n));return e.$$willAnimate?e:null}}]}],u=["$animateProvider",function(y){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(g,v,e){var b=h(e);return function(e,t,n,r){var a,i,o,s,l,c=!1,u=(3===arguments.length&&q(n)&&(r=n,n=null),r=ie(r),n||(n=e.attr("class")||"",r.addClass&&(n+=" "+r.addClass),r.removeClass&&(n+=" "+r.removeClass)),r.addClass),d=r.removeClass,n=function(e){e=me(e)?e:e.split(" ");for(var t=[],n={},r=0;r<e.length;r++){var a=e[r],i=y.$$registeredAnimations[a];i&&!n[a]&&(t.push(g.get(i)),n[a]=!0)}return t}(n);if(n.length&&(s="leave"===t?(o="leave","afterLeave"):(o="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(a=m(e,t,r,n,o)),i=m(e,t,r,n,s)),a||i)return{$$willAnimate:!0,end:function(){return l?l.end():(f(),(l=new v).complete(!0)),l},start:function(){var t,e;return l||(l=new v,e=[],a&&e.push(function(e){t=a(e)}),e.length?e.push(function(e){p(),e(!0)}):p(),i&&e.push(function(e){t=i(e)}),l.setHost({end:function(){r()},cancel:function(){r(!0)}}),v.chain(e,n)),l;function n(e){f(),l.complete(e)}function r(e){c||((t||ge)(e),n(e))}}};function p(){r.domOperation(),b(e,r)}function f(){c=!0,p(),oe(e,r)}function h(o,s,l,e,t){var n=[];return he(e,function(e){var i=e[t];i&&n.push(function(){function t(e){n||(n=!0,(a||ge)(e),r.complete(!e))}var n=!1,r=new v({end:function(){t()},cancel:function(){t(!0)}}),a=function(e,t,n,r,a){var i;switch(n){case"animate":i=[t,r.from,r.to,a];break;case"setClass":i=[t,u,d,a];break;case"addClass":i=[t,u,a];break;case"removeClass":i=[t,d,a];break;default:i=[t,a]}if(i.push(r),n=e.apply(e,i))if((n=$(n.start)?n.start():n)instanceof v)n.done(a);else if($(n))return n;return ge}(i,o,s,l,function(e){t(!1===e)});return r})}),n}function m(e,t,n,r,a){var i,o,s=h(e,t,n,r,a);if(0!==(s=0===s.length&&("beforeSetClass"===a?(i=h(e,"removeClass",n,r,"beforeRemoveClass"),o=h(e,"addClass",n,r,"beforeAddClass")):"setClass"===a&&(i=h(e,"removeClass",n,r,"removeClass"),o=h(e,"addClass",n,r,"addClass")),i&&(s=s.concat(i)),o)?s.concat(o):s).length)return function(e){var n=[];return s.length&&he(s,function(e){n.push(e())}),n.length?v.all(n,e):e(),function(t){he(n,function(e){t?e.cancel():e.end()})}}}}}]}],g=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,i){return function(e){var r,a;return e.from&&e.to?(r=t(e.from),a=t(e.to),r||a?{start:function(){var e=[],t=(r&&e.push(r.start()),a&&e.push(a.start()),i.all(e,function(e){t.complete(e)}),new i({end:n(),cancel:n()}));return t;function n(){return function(){he(e,function(e){e.end()})}}}}:void 0):t(e)};function t(e){var t=e.element,n=e.event,r=e.options,e=e.classes;return a(t,n,e,r)}}]}],B="data-ng-animate",X="$ngAnimatePin",v=["$animateProvider",function(u){var a=" ",r=this.rules={skip:[],cancel:[],join:[]};function N(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function i(e,t){var n,r;if(e&&t)return n=(t=t)?(t=t.split(a),r=Object.create(null),he(t,function(e){r[e]=!0}),r):null,e.split(a).some(function(e){return n[e]})}function j(e,t,n){return r[e].some(function(e){return e(t,n)})}function F(e,t){var n=0<(e.addClass||"").length,e=0<(e.removeClass||"").length;return t?n&&e:n||e}r.join.push(function(e,t){return!e.structural&&F(e)}),r.skip.push(function(e,t){return!e.structural&&!F(e)}),r.skip.push(function(e,t){return"leave"===t.event&&e.structural}),r.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),r.cancel.push(function(e,t){return t.structural&&e.structural}),r.cancel.push(function(e,t){return 2===t.state&&e.structural}),r.cancel.push(function(e,t){var n,r;return!(t.structural||(n=e.addClass,e=e.removeClass,r=t.addClass,t=t.removeClass,V(n)&&V(e))||V(r)&&V(t))&&(i(n,t)||i(e,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(g,v,b,y,e,$,w,t,n,r,k){var x=new e,S=new e,_=null;function a(e){S.delete(e.target)}function i(){return!0}var o=v.$watch(function(){return 0===t.totalPendingRequests},function(e){e&&(o(),v.$$postDigest(function(){v.$$postDigest(function(){null===_&&(_=!0)})}))}),C=Object.create(null),e=u.customFilter(),s=u.classNameFilter(),E=e||i,T=s?function(e,t){e=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return s.test(e)}:i,P=h(n);function D(e,t){R(e,t,{})}var M=d.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function l(e,t,n){var r=p(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function A(e,t){"close"!==e||t.parentNode||c.off(t)}var c={on:function(e,t,n){var r=p(t);C[e]=C[e]||[],C[e].push({node:r,callback:n}),Y(t).on("$destroy",function(){x.get(r)||c.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||H(e)){var r=C[e];r&&(C[e]=1===arguments.length?null:l(r,t,n))}else for(var a in t=e,C)C[a]=l(C[a],t)},pin:function(e,t){m(f(e),"element","not an element"),m(f(t),"parentElement","not an element"),e.data(X,t)},push:function(e,t,n,r){(n=n||{}).domOperation=r;var a=e,i=t,o=Ee(r=n),c=W(a),u=se(c),d=u&&u.parentNode,s=(o=ie(o),new w),p=function(){var t=!1;return function(e){t?e():v.$$postDigest(function(){t=!0,e()})}}();if(me(o.addClass)&&(o.addClass=o.addClass.join(" ")),o.addClass&&!H(o.addClass)&&(o.addClass=null),me(o.removeClass)&&(o.removeClass=o.removeClass.join(" ")),o.removeClass&&!H(o.removeClass)&&(o.removeClass=null),o.from&&!q(o.from)&&(o.from=null),o.to&&!q(o.to)&&(o.to=null),_&&u&&E(u,i,r)&&T(u,o)){var l=0<=["enter","move","leave"].indexOf(i),r=k(),e=r||S.get(u),t=!e&&x.get(u)||{},n=!!t.state;if(e=e||n&&1===t.state?e:!function(e,t){var n,r=y[0].body,a=se(b),i=e===r||"HTML"===e.nodeName,o=e===a,s=!1,l=S.get(e),c=Y.data(e,X);c&&(t=se(c));for(;t&&(o=o||t===a,t.nodeType===z);){var u=x.get(t)||{};if(!s){var d=S.get(t);if(!0===d&&!1!==l){l=!0;break}!1===d&&(l=!1),s=u.structural}if((V(n)||!0===n)&&(d=Y.data(t,L),K(d))&&(n=d),s&&!1===n)break;if((i=i||t===r)&&o)break;t=!o&&(c=Y.data(t,X))?se(c):t.parentNode}return(!s||n)&&!0!==l&&o&&i}(u,d))r&&h(s,i,"start",N(o)),m(),r&&h(s,i,"close",N(o));else{l&&!function(e){e=e.querySelectorAll("["+B+"]");he(e,function(e){var t=parseInt(e.getAttribute(B),10),n=x.get(e);if(n)switch(t){case 2:n.runner.end();case 1:x.delete(e)}})}(u);e={structural:l,element:c,event:i,addClass:o.addClass,removeClass:o.removeClass,close:m,options:o,runner:s};if(n){if(j("skip",e,t))return 2===t.state?(m(),s):(R(c,t,e),t.runner);r=j("cancel",e,t);if(r)if(2===t.state)t.runner.end();else{if(!t.structural)return R(c,t,e),t.runner;t.close()}else if(j("join",e,t)){if(2!==t.state)return function(e,t,n){var r="";t&&(r=ae(t,ve,!0)),n.addClass&&(r=U(r,ae(n.addClass,te))),(r=n.removeClass?U(r,ae(n.removeClass,ne)):r).length&&(n.preparationClasses=r,e.addClass(r))}(c,l?i:null,o),i=e.event=t.event,o=R(c,t,e),t.runner;D(c,e)}}else D(c,e);var f,n=e.structural;(n=n||"animate"===e.event&&0<Object.keys(e.options.to||{}).length||F(e))?(f=(t.counter||0)+1,e.counter=f,I(u,1,e),v.$$postDigest(function(){c=W(a);var e=!(t=x.get(u)),t=t||{},n=0<(c.parent()||[]).length&&("animate"===t.event||t.structural||F(t));e||t.counter!==f||!n?(e&&(P(c,o),oe(c,o)),(e||l&&t.event!==i)&&(o.domOperation(),s.end()),n||O(u)):(i=!t.structural&&F(t,!0)?"setClass":t.event,I(u,2),e=$(c,i,t.options),s.setHost(e),h(s,i,"start",N(o)),e.done(function(e){m(!e);e=x.get(u);e&&e.counter===f&&O(u),h(s,i,"close",N(o))}))})):(m(),O(u))}}else m();return s;function h(e,o,s,l){p(function(){t=d,n=u,a=[],(e=C[r=o])&&he(e,function(e){(M.call(e.node,n)||"leave"===r&&M.call(e.node,t))&&a.push(e.callback)});var t,n,r,a,e,i=a;i.length?g(function(){he(i,function(e){e(c,s,l)}),A(s,u)}):A(s,u)}),e.progress(o,s,l)}function m(e){var t,n;t=c,(n=o).preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),P(c,o),oe(c,o),o.domOperation(),s.complete(!e)}},enabled:function(e,t){var n,r=arguments.length;return 0===r?t=!!_:f(e)?(n=se(e),1===r?t=!S.get(n):(S.has(n)||Y(e).on("$destroy",a),S.set(n,!t))):t=_=!!e,t}};return c;function O(e){e.removeAttribute(B),x.delete(e)}function I(e,t,n){(n=n||{}).state=t,e.setAttribute(B,t);t=x.get(e),t=t?G(t,n):n;x.set(e,t)}}]}],b=["$animateProvider",function(e){var w="ng-animate-ref",k=this.drivers=[],d="$$animationRunner",x="$$animatePrepareClasses";function S(e){return e.data(d)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(m,l,g,c,f,v,b){var y=[],u=h(m);function $(e){for(var i={children:[]},o=new f,t=0;t<e.length;t++){var n=e[t];o.set(n.domNode,e[t]={domNode:n.domNode,element:n.element,fn:n.fn,children:[]})}for(t=0;t<e.length;t++)!function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode;var r=n.parentNode;o.set(n,t);var a;for(;r;){if(a=o.get(r)){a.processed||(a=e(a));break}r=r.parentNode}(a||i).children.push(t);return t}(e[t]);var r,a=i,s=[],l=[];for(r=0;r<a.children.length;r++)l.push(a.children[r]);var c=l.length,u=0,d=[];for(r=0;r<l.length;r++){var p=l[r];c<=0&&(c=u,u=0,s.push(d),d=[]),d.push(p),p.children.forEach(function(e){u++,l.push(e)}),c--}return d.length&&s.push(d),s}return function(t,n,h){h=ie(h);var e,r,a=0<=["enter","move","leave"].indexOf(n),i=new c({end:function(){s()},cancel:function(){s(!0)}});return k.length?(e=C(t.attr("class"),C(h.addClass,h.removeClass)),(r=h.tempClasses)&&(e+=" "+r,h.tempClasses=null),a&&t.data(x,"ng-"+n+"-prepare"),t.data(d,i),y.push({element:t,classes:e,event:n,structural:a,options:h,beforeStart:function(){r=(r?r+" ":"")+_,m.addClass(t,r);var e=t.data(x);e&&(m.removeClass(t,e),e=null)},close:s}),t.on("$destroy",o),1<y.length||l.$$postDigest(function(){for(var s,l,o,c,u,t=[],e=(he(y,function(e){S(e.element)?t.push(e):e.close()}),y.length=0,l=[],o={},he(s=t,function(e,n){var r,a,t=se(e.element),i=e.event,i=0<=["enter","move"].indexOf(i),t=e.structural?(t=(t=t).hasAttribute(w)?[t]:t.querySelectorAll("[ng-animate-ref]"),r=[],he(t,function(e){var t=e.getAttribute(w);t&&t.length&&r.push(e)}),r):[];t.length?(a=i?"to":"from",he(t,function(e){var t=e.getAttribute(w);o[t]=o[t]||{},o[t][a]={animationID:n,element:Y(e)}})):l.push(e)}),c={},u={},he(o,function(e,t){var n,r,a,i,o=e.from,e=e.to;o&&e?(n=s[o.animationID],r=s[e.animationID],a=o.animationID.toString(),u[a]||((i=u[a]={structural:!0,beforeStart:function(){n.beforeStart(),r.beforeStart()},close:function(){n.close(),r.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var a=e[r];if("ng-"!==a.substring(0,3))for(var i=0;i<t.length;i++)if(a===t[i]){n.push(a);break}}return n.join(" ")}(n.classes,r.classes),from:n,to:r,anchors:[]}).classes.length?l.push(i):(l.push(n),l.push(r))),u[a].anchors.push({out:o.element,in:e.element})):(a=(i=(o||e).animationID).toString(),c[a]||(c[a]=!0,l.push(s[i])))}),l),n=[],r=(he(e,function(i){var e=(i.from||i).element,t=h.addClass,o=b.cacheKey(e[0],i.event,(t?t+" ":"")+_,h.removeClass);n.push({element:e,domNode:se(e),fn:function(){var e,t,n,r=i.close;function a(e){e=S(e);e&&e.setHost(n)}!b.containsCachedAnimationWithoutDuration(o)&&(i.beforeStart(),t=S(i.anchors?i.from.element||i.to.element:i.element)&&(e=function(e){for(var t=k.length-1;0<=t;t--){var n=k[t],n=g.get(n)(e);if(n)return n}}(i))?e.start:t)?((e=t()).done(function(e){r(!e)}),n=e,(t=i).from&&t.to?(a(t.from.element),a(t.to.element)):a(t.element)):r()}})}),$(n)),a=0;a<r.length;a++)for(var i=r[a],d=0;d<i.length;d++){var p=i[d],f=p.element;r[a][d]=p.fn,0===a?f.removeData(x):(p=f.data(x))&&m.addClass(f,p)}v(r)})):s(),i;function o(){var e=S(t);!e||"leave"===n&&h.$$domOperationFired||e.end()}function s(e){t.off("$destroy",o),t.removeData(d),u(t,h),oe(t,h),h.domOperation(),r&&m.removeClass(t,r),i.complete(!e)}}}]}];e.module("ngAnimate",[],function(){ge=e.noop,Ee=e.copy,G=e.extend,Y=e.element,he=e.forEach,me=e.isArray,H=e.isString,q=e.isObject,V=e.isUndefined,K=e.isDefined,$=e.isFunction,f=e.isElement}).info({angularVersion:"1.8.3"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(e,n,t,r,a){var i,o;e.$watchCollection(t.ngAnimateSwap||t.for,function(e){i&&s.leave(i),o&&(o.$destroy(),o=null),!e&&0!==e||a(function(e,t){i=e,o=t,s.enter(e,null,n)})})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var r,a;function e(e){r=r.concat(e),i()}return r=e.queue=[],e.waitUntilQuiet=function(e){a&&a(),a=n(function(){a=null,e(),i()})},e;function i(){if(r.length){for(var e=r.shift(),t=0;t<e.length;t++)e[t]();a||n(function(){a||i()})}}}]).provider("$$animateQueue",v).provider("$$animateCache",function(){var i="$$ngAnimateParentKey",o=0,r=Object.create(null);this.$get=[function(){return{cacheKey:function(e,t,n,r){var a=e.parentNode,a=[a[i]||(a[i]=++o),t,e.getAttribute("class")];return n&&a.push(n),r&&a.push(r),a.join(" ")},containsCachedAnimationWithoutDuration:function(e){e=r[e];return e&&!e.isValid||!1},flush:function(){r=Object.create(null)},count:function(e){e=r[e];return e?e.total:0},get:function(e){e=r[e];return e&&e.value},put:function(e,t,n){r[e]?(r[e].total++,r[e].value=t):r[e]={total:1,value:t,isValid:n}}}}]}).provider("$$animation",b).provider("$animateCss",t).provider("$$animateCssDriver",c).provider("$$animateJs",u).provider("$$animateJsDriver",g)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(f,h,m,e){var g=e.has("$animateCss")?e.get("$animateCss"):null;return{link:function(t,n,e){var r=m(e.expanding),a=m(e.expanded),i=m(e.collapsing),o=m(e.collapsed),s=!1,l={},c={};function u(e){return s?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function d(){n.removeClass("collapsing").addClass("collapse").css(l),a(t)}function p(){n.css(c),n.removeClass("collapsing").addClass("collapse"),o(t)}c=(s=!!("horizontal"in e))?(l={width:""},{width:"0"}):(l={height:""},{height:"0"}),t.$eval(e.uibCollapse)||n.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(l),t.$watch(e.uibCollapse,function(e){e?n.hasClass("collapse")||n.hasClass("in")?h.resolve(i(t)).then(function(){n.css(u(n[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),g?g(n,{removeClass:"in",to:c}).start().finally(p):f.removeClass(n,"in",{to:c}).then(p)},angular.noop):p():n.hasClass("collapse")&&n.hasClass("in")||h.resolve(r(t)).then(function(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),g?g(n,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:u(n[0])}).start().finally(d):f.addClass(n,"in",{css:{overflow:"hidden"},to:u(n[0])}).then(d)},angular.noop)})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,n,r){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):r.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(t){var n=this;this.groups.push(t),t.$on("$destroy",function(e){n.removeGroup(t)})},this.removeGroup=function(e){e=this.groups.indexOf(e);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,r){n.addClass("panel"),r.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass||"panel-default",t.$watch("isOpen",function(e){n.toggleClass(t.openClass,!!e),e&&r.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};e="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=e+"-tab",t.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,a){r.setHeading(a(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,n,t,r){e.$watch(function(){return r[t.uibAccordionTransclude]},function(e){var t;e&&((t=angular.element(n[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"))).html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,r,a){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");t=angular.isDefined(n.dismissOnTimeout)?r(n.dismissOnTimeout)(e.$parent):null;t&&a(function(){e.close()},parseInt(t,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(o){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,r,e){var a=e[0],i=e[1],e=o(r.uibUncheckable);n.find("input").css({display:"none"}),i.$render=function(){n.toggleClass(a.activeClass,angular.equals(i.$modelValue,t.$eval(r.uibBtnRadio)))},n.on(a.toggleEvent,function(){var e;r.disabled||(e=n.hasClass(a.activeClass))&&!angular.isDefined(r.uncheckable)||t.$apply(function(){i.$setViewValue(e?null:t.$eval(r.uibBtnRadio)),i.$render()})}),r.uibUncheckable&&t.$watch(e,function(e){r.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,e,t,r){var a=r[0],i=r[1];function o(){return s(t.btnCheckboxTrue,!0)}function s(e,t){return angular.isDefined(e)?n.$eval(e):t}e.find("input").css({display:"none"}),i.$render=function(){e.toggleClass(a.activeClass,angular.equals(i.$modelValue,o()))},e.on(a.toggleEvent,function(){t.disabled||n.$apply(function(){i.$setViewValue(e.hasClass(a.activeClass)?s(t.btnCheckboxFalse,!1):o()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(r,a,t,e,i){var n,o,s=this,l=s.slides=r.slides=[],c="uib-slideDirection",u=r.active,d=!1;function p(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function f(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function h(){n&&(t.cancel(n),n=null)}function m(){h();var e=+r.interval;!isNaN(e)&&0<e&&(n=t(g,e))}function g(){var e=+r.interval;o&&!isNaN(e)&&0<e&&l.length?r.next():r.pause()}a.addClass("carousel"),s.addSlide=function(e,t){l.push({slide:e,element:t}),l.sort(function(e,t){return+e.slide.index-+t.slide.index}),e.index!==r.active&&(1!==l.length||angular.isNumber(r.active))||(r.$currentTransition&&(r.$currentTransition=null),u=e.index,r.active=e.index,p(u),s.select(l[f(e)]),1!==l.length)||r.play()},s.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===u)return e},s.next=r.next=function(){var e=(s.getCurrentIndex()+1)%l.length;if(0!=e||!r.noWrap())return s.select(l[e],"next");r.pause()},s.prev=r.prev=function(){var e=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!r.noWrap()||e!=l.length-1)return s.select(l[e],"prev");r.pause()},s.removeSlide=function(e){e=f(e);l.splice(e,1),0<l.length&&u===e?e>=l.length?(u=l.length-1,p(r.active=u),s.select(l[l.length-1])):(u=e,p(r.active=u),s.select(l[e])):e<u&&(u--,r.active=u),0===l.length&&(u=null,r.active=null)},s.select=r.select=function(e,t){var n=f(e.slide);void 0===t&&(t=n>s.getCurrentIndex()?"next":"prev"),e.slide.index===u||r.$currentTransition||(e=e.slide,n=n,t=t,d)||(angular.extend(e,{direction:t}),angular.extend(l[u].slide||{},{direction:t}),i.enabled(a)&&!r.$currentTransition&&l[n].element&&1<s.slides.length&&(l[n].element.data(c,e.direction),t=s.getCurrentIndex(),angular.isNumber(t)&&l[t].element&&l[t].element.data(c,e.direction),r.$currentTransition=!0,i.on("addClass",l[n].element,function(e,t){"close"===t&&(r.$currentTransition=null,i.off("addClass",e))})),r.active=e.index,u=e.index,p(n),m())},r.indexOfSlide=function(e){return+e.slide.index},r.isActive=function(e){return r.active===e.slide.index},r.isPrevDisabled=function(){return 0===r.active&&r.noWrap()},r.isNextDisabled=function(){return r.active===l.length-1&&r.noWrap()},r.pause=function(){r.noPause||(o=!1,h())},r.play=function(){o||(o=!0,m())},a.on("mouseenter",r.pause),a.on("mouseleave",r.play),r.$on("$destroy",function(){d=!0,h()}),r.$watch("noTransition",function(e){i.enabled(a,!e)}),r.$watch("interval",m),r.$watchCollection("slides",function(e){e.length||(r.$currentTransition=null)}),r.$watch("active",function(e){if(angular.isNumber(e)&&u!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(p(e),s.select(l[e]),u=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(a){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,r){t.addClass("item"),r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(e){a[e?"addClass":"removeClass"](t,"active")})}}}]).animation(".item",["$animateCss",function(i){var o="uib-slideDirection";function s(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(e,t,n){var r,a;if("active"===t)return t=e.data(o),a=s.bind(this,e,(r="next"===t?"left":"right")+" "+t,n),e.addClass(t),i(e,{addClass:r}).start().done(a),function(){};n()},beforeRemoveClass:function(e,t,n){var r;if("active"===t)return t="next"===e.data(o)?"left":"right",r=s.bind(this,e,t,n),i(e,{addClass:t}).start().done(r),function(){};n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(p,f,n,h,t){var m,g,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function r(e){return t(g,{key:e},!0)[0]}function a(e){for(var t,n,r=[],a=0;a<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(a))(a+1>=e.length||"'"!==e.charAt(a+1))&&(r.push(function(e,t,n){return function(){return e.substr(t+1,n-t-1)}}(e,n,a)),n=null);else if(a===e.length)for(;n<e.length;)t=i(e,n),r.push(t),n=t.endIdx;a++}else"'"===e.charAt(a)?(n=a,a++):(t=i(e,a),r.push(t.parser),a=t.endIdx);return r}function i(e,t){for(var n,r=e.substr(t),a=0;a<g.length;a++)if(new RegExp("^"+g[a].key).test(r))return{endIdx:t+(n=g[a]).key.length,parser:n.formatter};return{endIdx:t+1,parser:function(){return r.charAt(0)}}}function o(e){return parseInt(e,10)}function s(e,t){e=e.replace(/:/g,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(e)?t:e}function l(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function c(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return l(e,n*(s(t,r)-r))}this.init=function(){m=f.id,this.parsers={},this.formatters={},g=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){this.year=(e=+e)<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:f.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=f.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:f.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=f.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:f.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:f.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:f.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var e=e.match(/([+-])(\d{2})(\d{2})/),t=e[1],n=e[2],e=e[3];this.hours+=o(t+n),this.minutes+=o(t+e)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:f.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:f.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:f.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:f.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],1<=angular.version.major&&4<angular.version.minor&&g.push({key:"LLLL",regex:f.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=f.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){e=r(e);return e&&e.apply||null},this.overrideParser=function(e,t){e=r(e);e&&angular.isFunction(t)&&(this.parsers={},e.apply=t)}.bind(this),this.filter=function(n,e){return angular.isDate(n)&&!isNaN(n)&&e?(e=f.DATETIME_FORMATS[e]||e,f.id!==m&&this.init(),this.formatters[e]||(this.formatters[e]=a(e)),this.formatters[e].reduce(function(e,t){return e+t(n)},"")):""},this.parse=function(e,t,n){if(!angular.isString(e)||!t)return e;t=(t=f.DATETIME_FORMATS[t]||t).replace(v,"\\$&"),f.id!==m&&this.init(),this.parsers[t]||(this.parsers[t]=function(a){var i=[],o=a.split(""),e=a.indexOf("'");if(-1<e){var t=!1;a=a.split("");for(var n=e;n<a.length;n++)t?("'"===a[n]&&(n+1<a.length&&"'"===a[n+1]?(a[n+1]="$",o[n+1]=""):(o[n]="",t=!1)),a[n]="$"):"'"===a[n]&&(a[n]="$",t=!(o[n]=""));a=a.join("")}return angular.forEach(g,function(e){var t=a.indexOf(e.key);if(-1<t){a=a.split(""),o[t]="("+e.regex+")",a[t]="$";for(var n=t+1,r=t+e.key.length;n<r;n++)o[n]="",a[n]="$";a=a.join(""),i.push({index:t,key:e.key,apply:e.apply,matcher:e.regex})}}),{regex:new RegExp("^"+o.join("")+"$"),map:h(i,"index")}}(t));var t=this.parsers[t],r=t.regex,a=t.map,i=e.match(r),o=!1;if(i&&i.length){for(var s,l=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&p.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}),c=1,u=i.length;c<u;c++){var d=a[c-1];"Z"===d.matcher&&(o=!0),d.apply&&d.apply.call(l,i[c])}t=o?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,e=o?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return;if(1===t&&28<n)return 29===n&&(e%4==0&&e%100!=0||e%400==0);return 3!==t&&5!==t&&8!==t&&10!==t||n<31}(l.year,l.month,l.date)&&(!angular.isDate(n)||isNaN(n.getTime())||o?(s=new Date(0),t.call(s,l.year,l.month,l.date),e.call(s,l.hours||0,l.minutes||0,l.seconds||0,l.milliseconds||0)):(s=new Date(n),t.call(s,l.year,l.month,l.date),e.call(s,l.hours,l.minutes,l.seconds,l.milliseconds))),s}},this.toTimezone=function(e,t){return e&&t?c(e,t):e},this.fromTimezone=function(e,t){return e&&t?c(e,t,!0):e},this.timezoneToOffset=s,this.addDateMinutes=l,this.convertTimezoneToLocal=c}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(d){var i=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,p=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(e,t){var r=[],l=[],c={},t=t.uibIsClass.match(i),u=t[2],n=t[1].split(",");return function(s,e,t){r.push(s),l.push({scope:s,element:e}),n.forEach(function(e,t){var n,r=s,a=e.match(p),i=r.$eval(a[1]),a=a[2],o=c[e];o||(n=function(t){var n=null;l.some(function(e){if(e.scope.$eval(u)===t)return n=e,!0}),o.lastActivated!==n&&(o.lastActivated&&d.removeClass(o.lastActivated.element,i),n&&d.addClass(n.element,i),o.lastActivated=n)},c[e]=o={lastActivated:null,scope:r,watchFn:n,compareWithExp:a,watcher:r.$watch(a,n)}),o.watchFn(r.$eval(a))}),s.$on("$destroy",a)};function a(e){var t,n=e.targetScope,e=r.indexOf(n);r.splice(e,1),l.splice(e,1),r.length?(t=r[0],angular.forEach(c,function(e){e.scope===n&&(e.watcher=t.$watch(e.compareWithExp,e.watchFn),e.scope=t)})):c={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,e,t,n,r,i,o,s,l,c,u,d){var p=this,f={$setViewValue:angular.noop},h={},m=[];e.addClass("uib-datepicker"),t.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":a[t]=a.datepickerOptions[t]||angular.noop;break;case"datepickerMode":a.datepickerMode=(angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions:l).datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(a.datepickerOptions[t])?r(a.datepickerOptions[t])(a.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=(angular.isDefined(a.datepickerOptions[t])?a.datepickerOptions:l)[t];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?p.startingDay=a.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(i.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?p[t]=d.fromTimezone(new Date(e),h.getOption("timezone")):(c&&o.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(s(e,"medium"))):p[t]=l[t]?d.fromTimezone(new Date(l[t]),h.getOption("timezone")):null,p.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[t]?a.$watch(function(){return a.datepickerOptions[t]},function(e){p[t]=a[t]=angular.isDefined(e)?e:a.datepickerOptions[t],("minMode"===t&&p.modes.indexOf(a.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(a.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(a.datepickerMode=p[t],a.datepickerOptions.datepickerMode=p[t])}):p[t]=a[t]=l[t]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&m.push(a.$parent.$watch(t.ngDisabled,function(e){a.disabled=e,p.refreshView()})),a.isActive=function(e){return 0===p.compare(e.date,p.activeDate)&&(a.activeDateId=e.uid,!0)},this.init=function(e){h=function(e){var t;{var n;angular.version.minor<6?(t=e.$options||a.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(e){return t[e]}:(n=e.$options.getOption("timezone")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null),t=e.$options.createChild(l.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(e.$options).createChild({timezone:n}))}return t}(f=e),a.datepickerOptions.initDate?(p.activeDate=d.fromTimezone(a.datepickerOptions.initDate,h.getOption("timezone"))||new Date,a.$watch("datepickerOptions.initDate",function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=d.fromTimezone(e,h.getOption("timezone")),p.refreshView())})):p.activeDate=new Date;e=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(e)?d.fromTimezone(new Date,h.getOption("timezone")):d.fromTimezone(e,h.getOption("timezone")),f.$render=function(){p.render()}},this.render=function(){var e;f.$viewValue&&(e=new Date(f.$viewValue),!isNaN(e)?this.activeDate=d.fromTimezone(e,h.getOption("timezone")):u||o.error('Datepicker directive: "ng-model" value must be a Date object')),this.refreshView()},this.refreshView=function(){var e;this.element&&(a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid),e=f.$viewValue?new Date(f.$viewValue):null,e=d.fromTimezone(e,h.getOption("timezone")),f.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e)))},this.createDateObject=function(e,t){var n=f.$viewValue?new Date(f.$viewValue):null,n=d.fromTimezone(n,h.getOption("timezone")),r=new Date,r=d.fromTimezone(r,h.getOption("timezone")),r=this.compare(e,r),t={date:e,label:d.filter(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),past:r<0,current:0===r,future:0<r,customClass:this.customClass(e)||null};return n&&0===this.compare(e,n)&&(a.selectedDt=t),p.activeDate&&0===this.compare(t.date,p.activeDate)&&(a.activeDt=t),t},this.isDisabled=function(e){return a.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||a.dateDisabled&&a.dateDisabled({date:e,mode:a.datepickerMode})},this.customClass=function(e){return a.customClass({date:e,mode:a.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},a.select=function(e){var t;a.datepickerMode===p.minMode?((t=f.$viewValue?d.fromTimezone(new Date(f.$viewValue),h.getOption("timezone")):new Date(0,0,0,0,0,0,0)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t=d.toTimezone(t,h.getOption("timezone")),f.$setViewValue(t),f.$render()):(p.activeDate=e,g(p.modes[p.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode")),a.$broadcast("uib:datepicker.focus")},a.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),e=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,e,1),p.refreshView()},a.toggleMode=function(e){e=e||1,a.datepickerMode===p.maxMode&&1===e||a.datepickerMode===p.minMode&&-1===e||(g(p.modes[p.modes.indexOf(a.datepickerMode)+e]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(e){a.datepickerMode=e,a.datepickerOptions.datepickerMode=e}a.$on("uib:datepicker.focus",function(){p.element[0].focus()}),a.keydown=function(e){var t=a.keys[e.which];!t||e.shiftKey||e.altKey||a.disabled||(e.preventDefault(),p.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t?p.isDisabled(p.activeDate)||a.select(p.activeDate):!e.ctrlKey||"up"!==t&&"down"!==t?(p.handleKeyDown(t,e),p.refreshView()):a.toggleMode("up"===t?1:-1))},e.on("keydown",function(e){a.$apply(function(){a.keydown(e)})}),a.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(d,e,p){var n=[31,28,31,30,31,30,31,31,30,31,30,31];function a(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),d.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),a=new Date(e),i=0;i<t;)n=new Date(a),r[i++]=n,a.setDate(a.getDate()+1);return r},this._refreshView=function(){for(var e=this.activeDate.getFullYear(),t=this.activeDate.getMonth(),n=new Date(this.activeDate),e=(n.setFullYear(e,t,1),this.startingDay-n.getDay()),e=0<e?7-e:-e,n=new Date(n),r=(0<e&&n.setDate(1-e),this.getDates(n,42)),a=0;a<42;a++)r[a]=angular.extend(this.createDateObject(r[a],this.formatDay),{secondary:r[a].getMonth()!==t,uid:d.uniqueId+"-"+a});d.labels=new Array(7);for(var i,o,s=0;s<7;s++)d.labels[s]={abbr:p(r[s].date,this.formatDayHeader),full:p(r[s].date,"EEEE")};if(d.title=p(this.activeDate,this.formatDayTitle),d.rows=this.split(r,7),d.showWeeks){d.weekNumbers=[];for(var l=(11-this.startingDay)%7,c=d.rows.length,u=0;u<c;u++)d.weekNumbers.push((i=d.rows[u][l].date,o=void 0,(i=new Date(i)).setDate(i.getDate()+4-(i.getDay()||7)),o=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((o-i)/864e5)/7)+1))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n,r=this.activeDate.getDate();"left"===e?r-=1:"up"===e?r-=7:"right"===e?r+=1:"down"===e?r+=7:"pageup"===e||"pagedown"===e?(n=this.activeDate.getMonth()+("pageup"===e?-1:1),this.activeDate.setMonth(n,1),r=Math.min(a(this.activeDate.getFullYear(),this.activeDate.getMonth()),r)):"home"===e?r=1:"end"===e&&(r=a(this.activeDate.getFullYear(),this.activeDate.getMonth())),this.activeDate.setDate(r)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,e,i){this.step={years:1},this.element=e,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var e,t=new Array(12),n=this.activeDate.getFullYear(),r=0;r<12;r++)(e=new Date(this.activeDate)).setFullYear(n,r,1),t[r]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:a.uniqueId+"-"+r});a.title=i(this.activeDate,this.formatMonthTitle),a.rows=this.split(t,this.monthColumns),a.yearHeaderColspan=3<this.monthColumns?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n,r=this.activeDate.getMonth();"left"===e?r-=1:"up"===e?r-=this.monthColumns:"right"===e?r+=1:"down"===e?r+=this.monthColumns:"pageup"===e||"pagedown"===e?(n=this.activeDate.getFullYear()+("pageup"===e?-1:1),this.activeDate.setFullYear(n)):"home"===e?r=0:"end"===e&&(r=11),this.activeDate.setMonth(r)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,e,t){var i,o;function s(e){return parseInt((e-1)/o,10)*o+1}this.element=e,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var e,t=new Array(o),n=0,r=s(this.activeDate.getFullYear());n<o;n++)(e=new Date(this.activeDate)).setFullYear(r+n,0,1),t[n]=angular.extend(this.createDateObject(e,this.formatYear),{uid:a.uniqueId+"-"+n});a.title=[t[0].label,t[o-1].label].join(" - "),a.rows=this.split(t,i),a.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=s(this.activeDate.getFullYear()):"end"===e&&(n=s(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var a=r[0],r=r[1];a.init(r)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,r){var a=r[0];r[1].init(a)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,r){var a=r[0];r[1].init(a)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,r){var a=r[0];angular.extend(a,r[1]),a.yearpickerInit(),a.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(l,c){var t,n,u={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},d={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return!e.nodeName&&e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(e){var t,n=(e=this.getRawNode(e)).offsetParent||l[0].documentElement;for(;n&&n!==l[0].documentElement&&(t=n,"static"===(c.getComputedStyle(t).position||"static"));)n=n.offsetParent;return n||l[0].documentElement},scrollbarWidth:function(e){return e?(angular.isUndefined(n)&&((e=l.find("body")).addClass("uib-position-body-scrollbar-measure"),n=c.innerWidth-e[0].clientWidth,n=isFinite(n)?n:0,e.removeClass("uib-position-body-scrollbar-measure")),n):(angular.isUndefined(t)&&(e=angular.element('<div class="uib-position-scrollbar-measure"></div>'),l.find("body").append(e),t=e[0].offsetWidth-e[0].clientWidth,t=isFinite(t)?t:0,e.remove()),t)},scrollbarPadding:function(e){e=this.getRawNode(e);var t=c.getComputedStyle(e),n=this.parseStyle(t.paddingRight),t=this.parseStyle(t.paddingBottom),e=this.scrollParent(e,!1,!0),r=this.scrollbarWidth(a.test(e.tagName));return{scrollbarWidth:r,widthOverflow:e.scrollWidth>e.clientWidth,right:n+r,originalRight:n,heightOverflow:e.scrollHeight>e.clientHeight,bottom:t+r,originalBottom:t}},isScrollable:function(e,t){e=this.getRawNode(e);t=t?u.hidden:u.normal,e=c.getComputedStyle(e);return t.test(e.overflow+e.overflowY+e.overflowX)},scrollParent:function(e,t,n){e=this.getRawNode(e);var r=t?u.hidden:u.normal,a=l[0].documentElement,t=c.getComputedStyle(e);if(n&&r.test(t.overflow+t.overflowY+t.overflowX))return e;var i="absolute"===t.position,o=e.parentElement||a;if(o===a||"fixed"===t.position)return a;for(;o.parentElement&&o!==a;){var s=c.getComputedStyle(o);if(!(i=i&&"static"!==s.position?!1:i)&&r.test(s.overflow+s.overflowY+s.overflowX))break;o=o.parentElement}return o},position:function(e,t){e=this.getRawNode(e);var n=this.offset(e),t=(t&&(t=c.getComputedStyle(e),n.top-=this.parseStyle(t.marginTop),n.left-=this.parseStyle(t.marginLeft)),this.offsetParent(e)),r={top:0,left:0};return t!==l[0].documentElement&&((r=this.offset(t)).top+=t.clientTop-t.scrollTop,r.left+=t.clientLeft-t.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:e.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:e.offsetHeight),top:Math.round(n.top-r.top),left:Math.round(n.left-r.left)}},offset:function(e){var t=(e=this.getRawNode(e)).getBoundingClientRect();return{width:Math.round(angular.isNumber(t.width)?t.width:e.offsetWidth),height:Math.round(angular.isNumber(t.height)?t.height:e.offsetHeight),top:Math.round(t.top+(c.pageYOffset||l[0].documentElement.scrollTop)),left:Math.round(t.left+(c.pageXOffset||l[0].documentElement.scrollLeft))}},viewportOffset:function(e,t,n){n=!1!==n;var r=(e=this.getRawNode(e)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},t=t?l[0].documentElement:this.scrollParent(e),e=t.getBoundingClientRect();return a.top=e.top+t.clientTop,a.left=e.left+t.clientLeft,t===l[0].documentElement&&(a.top+=c.pageYOffset,a.left+=c.pageXOffset),a.bottom=a.top+t.clientHeight,a.right=a.left+t.clientWidth,n&&(e=c.getComputedStyle(t),a.top+=this.parseStyle(e.paddingTop),a.bottom-=this.parseStyle(e.paddingBottom),a.left+=this.parseStyle(e.paddingLeft),a.right-=this.parseStyle(e.paddingRight)),{top:Math.round(r.top-a.top),bottom:Math.round(a.bottom-r.bottom),left:Math.round(r.left-a.left),right:Math.round(a.right-r.right)}},parsePlacement:function(e){var t=d.auto.test(e);return(e=(e=t?e.replace(d.auto,""):e).split("-"))[0]=e[0]||"top",d.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",d.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,t,n,r){e=this.getRawNode(e),t=this.getRawNode(t);var a,i=angular.isDefined(t.offsetWidth)?t.offsetWidth:t.prop("offsetWidth"),o=angular.isDefined(t.offsetHeight)?t.offsetHeight:t.prop("offsetHeight"),s=(n=this.parsePlacement(n),r?this.offset(e):this.position(e)),l={top:0,left:0,placement:""};switch(n[2]&&(e=this.viewportOffset(e,r),r=c.getComputedStyle(t),t=i+Math.round(Math.abs(this.parseStyle(r.marginLeft)+this.parseStyle(r.marginRight))),r=o+Math.round(Math.abs(this.parseStyle(r.marginTop)+this.parseStyle(r.marginBottom))),n[0]="top"===n[0]&&r>e.top&&r<=e.bottom?"bottom":"bottom"===n[0]&&r>e.bottom&&r<=e.top?"top":"left"===n[0]&&t>e.left&&t<=e.right?"right":"right"===n[0]&&t>e.right&&t<=e.left?"left":n[0],n[1]="top"===n[1]&&r-s.height>e.bottom&&r-s.height<=e.top?"bottom":"bottom"===n[1]&&r-s.height>e.top&&r-s.height<=e.bottom?"top":"left"===n[1]&&t-s.width>e.right&&t-s.width<=e.left?"right":"right"===n[1]&&t-s.width>e.left&&t-s.width<=e.right?"left":n[1],"center"===n[1])&&(d.vertical.test(n[0])?(a=s.width/2-i/2,e.left+a<0&&t-s.width<=e.right?n[1]="left":e.right+a<0&&t-s.width<=e.left&&(n[1]="right")):(a=s.height/2-r/2,e.top+a<0&&r-s.height<=e.bottom?n[1]="top":e.bottom+a<0&&r-s.height<=e.top&&(n[1]="bottom"))),n[0]){case"top":l.top=s.top-o;break;case"bottom":l.top=s.top+s.height;break;case"left":l.left=s.left-i;break;case"right":l.left=s.left+s.width}switch(n[1]){case"top":l.top=s.top;break;case"bottom":l.top=s.top+s.height-o;break;case"left":l.left=s.left;break;case"right":l.left=s.left+s.width-i;break;case"center":d.vertical.test(n[0])?l.left=s.left+s.width/2-i/2:l.top=s.top+s.height/2-o/2}return l.top=Math.round(l.top),l.left=Math.round(l.left),l.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],l},adjustTop:function(e,t,n,r){if(-1!==e.indexOf("top")&&n!==r)return{top:t.top-r+"px"}},positionArrow:function(e,t){var n=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(n){var r=angular.element(n).hasClass("tooltip-inner"),a=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var i={top:"",bottom:"",left:"",right:""};if("center"!==(t=this.parsePlacement(t))[1]){var o="border-"+t[0]+"-width",s=c.getComputedStyle(a)[o],o="border-",n=(d.vertical.test(t[0])?o+=t[0]+"-"+t[1]:o+=t[1]+"-"+t[0],o+="-radius",c.getComputedStyle(r?n:e)[o]);switch(t[0]){case"top":i.bottom=r?"0":"-"+s;break;case"bottom":i.top=r?"0":"-"+s;break;case"left":i.right=r?"0":"-"+s;break;case"right":i.left=r?"0":"-"+s}i[t[1]]=n}angular.element(a).css(i)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(r,a,n,t,i,e,o,s,l,c,u,d,p,f,N,h){var m,g,v,b,y,$,w,k,x,S,_,C,E=!1,T=[];function P(e){var t=d.parse(e,m,r.date);if(isNaN(t))for(var n=0;n<C.length;n++)if(t=d.parse(e,C[n],r.date),!isNaN(t))return t;return t}function D(e){if(!(e=angular.isNumber(e)?new Date(e):e))return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=P(e);if(!isNaN(t))return d.toTimezone(t,S.getOption("timezone"))}return S.getOption("allowInvalid")?e:void 0}function M(e,t){e=e||t;return!n.ngRequired&&!e||!(e=angular.isNumber(e)?new Date(e):e)||!(!angular.isDate(e)||isNaN(e))||!!angular.isString(e)&&!isNaN(P(e))}function A(e){var t,n;!r.isOpen&&r.disabled||(n=_[0],t=a[0].contains(e.target),n=void 0!==n.contains&&n.contains(e.target),!r.isOpen)||t||n||r.$apply(function(){r.isOpen=!1})}function O(e){27===e.which&&r.isOpen?(e.preventDefault(),e.stopPropagation(),r.$apply(function(){r.isOpen=!1}),a[0].focus()):40!==e.which||r.isOpen||(e.preventDefault(),e.stopPropagation(),r.$apply(function(){r.isOpen=!0}))}function I(){var e,t;r.isOpen&&(e=angular.element(_[0].querySelector(".uib-datepicker-popup")),t=n.popupPlacement||p.placement,t=c.positionElements(a,e,t,v),e.css({top:t.top+"px",left:t.left+"px"}),e.hasClass("uib-position-measure"))&&e.removeClass("uib-position-measure")}this.init=function(e){if(S=function(e){var t;angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(e){return t[e]}:t=e.$options;return t}(x=e),g=angular.isDefined(n.closeOnDateSelection)?r.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,v=angular.isDefined(n.datepickerAppendToBody)?r.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,b=angular.isDefined(n.onOpenFocus)?r.$parent.$eval(n.onOpenFocus):p.onOpenFocus,w=(angular.isDefined(n.datepickerPopupTemplateUrl)?n:p).datepickerPopupTemplateUrl,y=(angular.isDefined(n.datepickerTemplateUrl)?n:p).datepickerTemplateUrl,C=angular.isDefined(n.altInputFormats)?r.$parent.$eval(n.altInputFormats):p.altInputFormats,r.showButtonBar=angular.isDefined(n.showButtonBar)?r.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(m=p.html5Types[n.type],E=!0):(m=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){e=e||p.datepickerPopup;if(e!==m&&(m=e,x.$modelValue=null,!m))throw new Error("uibDatepickerPopup must have a date format specified.")})),!m)throw new Error("uibDatepickerPopup must have a date format specified.");if(E&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");($=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),(w=angular.element($.children()[0])).attr("template-url",y),r.datepickerOptions||(r.datepickerOptions={}),E&&"month"===n.type&&(r.datepickerOptions.datepickerMode="month",r.datepickerOptions.minMode="month"),w.attr("datepicker-options","datepickerOptions"),E?x.$formatters.push(function(e){return r.date=d.fromTimezone(e,S.getOption("timezone")),e}):(x.$$parserName="date",x.$validators.date=M,x.$parsers.unshift(D),x.$formatters.push(function(e){return x.$isEmpty(e)?r.date=e:(angular.isNumber(e)&&(e=new Date(e)),r.date=d.fromTimezone(e,S.getOption("timezone")),d.filter(r.date,m))})),x.$viewChangeListeners.push(function(){r.date=P(x.$viewValue)}),a.on("keydown",O),_=t($)(r),$.remove(),v?s.find("body").append(_):a.after(_),r.$on("$destroy",function(){for(!0!==r.isOpen||l.$$phase||r.$apply(function(){r.isOpen=!1}),_.remove(),a.off("keydown",O),s.off("click",A),k&&k.off("scroll",I),angular.element(o).off("resize",I);T.length;)T.shift()()})},r.getText=function(e){return r[e+"Text"]||p[e+"Text"]},r.isDisabled=function(e){"today"===e&&(e=d.fromTimezone(new Date,S.getOption("timezone")));var t={};return angular.forEach(["minDate","maxDate"],function(e){r.datepickerOptions[e]?angular.isDate(r.datepickerOptions[e])?t[e]=new Date(r.datepickerOptions[e]):(h&&i.warn("Literal date support has been deprecated, please switch to date object usage"),t[e]=new Date(u(r.datepickerOptions[e],"medium"))):t[e]=null}),r.datepickerOptions&&t.minDate&&r.compare(e,t.minDate)<0||t.maxDate&&0<r.compare(e,t.maxDate)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.dateSelection=function(e){r.date=e;e=r.date?d.filter(r.date,m):null;a.val(e),x.$setViewValue(e),g&&(r.isOpen=!1,a[0].focus())},r.keydown=function(e){27===e.which&&(e.stopPropagation(),r.isOpen=!1,a[0].focus())},r.select=function(e,t){t.stopPropagation(),"today"===e&&(t=new Date,angular.isDate(r.date)?(e=new Date(r.date)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):(e=d.fromTimezone(t,S.getOption("timezone"))).setHours(0,0,0,0)),r.dateSelection(e)},r.close=function(e){e.stopPropagation(),r.isOpen=!1,a[0].focus()},r.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&T.push(r.$parent.$watch(e(n.ngDisabled),function(e){r.disabled=e})),r.$watch("isOpen",function(e){e?r.disabled?r.isOpen=!1:f(function(){I(),b&&r.$broadcast("uib:datepicker.focus"),s.on("click",A);var e=n.popupPlacement||p.placement;v||c.parsePlacement(e)[2]?(k=k||angular.element(c.scrollParent(a)))&&k.on("scroll",I):k=null,angular.element(o).on("resize",I)},0,!1):(s.off("click",A),k&&k.off("scroll",I),angular.element(o).off("resize",I))}),r.$on("uib:datepicker.mode",function(){f(I,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var a=r[0];r[1].init(a)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(i){return function(n,r){var a;return function(){var e=this,t=Array.prototype.slice.call(arguments);a&&i.cancel(a),a=i(function(){n.apply(e,t)},r)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var r={};return{entries:function(){return Object.keys(r).map(function(e){return{key:e,value:r[e]}})},get:function(e){return r[e]},hasKey:function(e){return!!r[e]},keys:function(){return Object.keys(r)},put:function(e,t){r[e]||(r[e]=[]),r[e].push(t)},remove:function(e,t){var n=r[e];n&&(-1!==(t=n.indexOf(t))&&n.splice(t,1),n.length||delete r[e])}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(a,n,e){var i=null,o=e.createNew(),s=(this.isOnlyOpen=function(n,e){e=o.get(e);if(e&&e.reduce(function(e,t){return t.scope===n?t:e},{}))return 1===e.length;return!1},this.open=function(e,t,n){var r;i||a.on("click",s),i&&i!==e&&(i.isOpen=!1),i=e,!n||(r=o.get(n))&&-1!==r.map(function(e){return e.scope}).indexOf(e)||o.put(n,{scope:e})},this.close=function(n,e,t){var r;i===n&&(a.off("click",s),a.off("keydown",this.keybindFilter),i=null),t&&(r=o.get(t))&&(r=r.reduce(function(e,t){return t.scope===n?t:e},{}))&&o.remove(t,r)},function(e){var t;i&&i.isOpen&&(e&&"disabled"===i.getAutoClose()||e&&3===e.which||(t=i.getToggleElement(),e&&t&&t[0].contains(e.target))||(t=i.getDropdownElement(),e&&"outsideClick"===i.getAutoClose()&&t&&t[0].contains(e.target))||(i.focusToggleElement(),i.isOpen=!1,n.$$phase)||i.$apply())});this.keybindFilter=function(e){var t,n;i&&(t=i.getDropdownElement(),n=i.getToggleElement(),t=t&&t[0].contains(e.target),n=n&&n[0].contains(e.target),27===e.which?(e.stopPropagation(),i.focusToggleElement(),s()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&i.isOpen&&(t||n)&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which)))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(c,u,d,p,e,f,h,m,g,v,b){var y,t,$=this,w=c.$new(),k=e.appendToOpenClass,x=e.openClass,S=angular.noop,_=d.onToggle?p(d.onToggle):angular.noop,n=!1,C=g.find("body");function E(){u.append($.dropdownMenu)}u.addClass("dropdown"),this.init=function(){d.isOpen&&(t=p(d.isOpen),S=t.assign,c.$watch(t,function(e){w.isOpen=!!e})),n=angular.isDefined(d.keyboardNav)},this.toggle=function(e){return w.isOpen=arguments.length?!!e:!w.isOpen,angular.isFunction(S)&&S(w,w.isOpen),w.isOpen},this.isOpen=function(){return w.isOpen},w.getToggleElement=function(){return $.toggleElement},w.getAutoClose=function(){return d.autoClose||"always"},w.getElement=function(){return u},w.isKeynavEnabled=function(){return n},w.focusDropdownEntry=function(e){var t=($.dropdownMenu?angular.element($.dropdownMenu):u.find("ul").eq(0)).find("a");switch(e){case 40:angular.isNumber($.selectedOption)?$.selectedOption=$.selectedOption===t.length-1?$.selectedOption:$.selectedOption+1:$.selectedOption=0;break;case 38:angular.isNumber($.selectedOption)?$.selectedOption=0===$.selectedOption?0:$.selectedOption-1:$.selectedOption=t.length-1}t[$.selectedOption].focus()},w.getDropdownElement=function(){return $.dropdownMenu},w.focusToggleElement=function(){$.toggleElement&&$.toggleElement[0].focus()},w.$watch("isOpen",function(e,t){var n,r,a=null,i=!1,o=(angular.isDefined(d.dropdownAppendTo)&&(o=p(d.dropdownAppendTo)(w))&&(a=angular.element(o)),(a=(i=angular.isDefined(d.dropdownAppendToBody)&&!1!==p(d.dropdownAppendToBody)(w)?!0:i)&&!a?C:a)&&$.dropdownMenu&&(e?(a.append($.dropdownMenu),u.on("$destroy",E)):(u.off("$destroy",E),E())),a&&$.dropdownMenu&&(n={top:(l=m.positionElements(u,$.dropdownMenu,"bottom-left",!(o=0))).top+"px",display:e?"block":"none"},(s=$.dropdownMenu.hasClass("dropdown-menu-right"))?(n.left="auto",(r=m.scrollbarPadding(a)).heightOverflow&&r.scrollbarWidth&&(o=r.scrollbarWidth),n.right=window.innerWidth-o-(l.left+u.prop("offsetWidth"))+"px"):(n.left=l.left+"px",n.right="auto"),i||(r=m.offset(a),n.top=l.top-r.top+"px",s?n.right=window.innerWidth-(l.left-r.left+u.prop("offsetWidth"))+"px":n.left=l.left-r.left+"px"),$.dropdownMenu.css(n)),a||u),i=a?k:x,s=o.hasClass(i),l=f.isOnlyOpen(c,a);s===!e&&h[a?l?"removeClass":"addClass":e?"addClass":"removeClass"](o,i).then(function(){angular.isDefined(e)&&e!==t&&_(c,{open:!!e})}),e?($.dropdownMenuTemplateUrl?b($.dropdownMenuTemplateUrl).then(function(e){y=w.$new(),v(e.trim())(y,function(e){$.dropdownMenu.replaceWith(e),$.dropdownMenu=e,g.on("keydown",f.keybindFilter)})}):g.on("keydown",f.keybindFilter),w.focusToggleElement(),f.open(w,u,a)):(f.close(w,u,a),$.dropdownMenuTemplateUrl&&(y&&y.$destroy(),r=angular.element('<ul class="dropdown-menu"></ul>'),$.dropdownMenu.replaceWith(r),$.dropdownMenu=r),$.selectedOption=null),angular.isFunction(S)&&S(c,e)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){!r||angular.isDefined(n.dropdownNested)||(t.addClass("dropdown-menu"),(n=n.templateUrl)&&(r.dropdownMenuTemplateUrl=n),r.dropdownMenu)||(r.dropdownMenu=t)}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,n,r,a){var e;a&&(n.addClass("dropdown-toggle"),(a.toggleElement=n).on("click",e=function(e){e.preventDefault(),n.hasClass("disabled")||r.disabled||t.$apply(function(){a.toggle()})}),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(a.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.off("click",e)}))}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var r=[];return{add:function(e,t){r.push({key:e,value:t})},get:function(e){for(var t=0;t<r.length;t++)if(e===r[t].key)return r[t]},keys:function(){for(var e=[],t=0;t<r.length;t++)e.push(r[t].key);return e},top:function(){return r[r.length-1]},remove:function(e){for(var t=-1,n=0;n<r.length;n++)if(e===r[n].key){t=n;break}return r.splice(t,1)[0]},removeTop:function(){return r.pop()},length:function(){return r.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(i,o){var s=e.resolver?i.get(e.resolver):null;return{resolve:function(e,t,n,r){var a;return s?s.resolve(e,t,n,r):(a=[],angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?a.push(o.resolve(i.invoke(e))):angular.isString(e)?a.push(o.resolve(i.get(e))):a.push(o.resolve(e))}),o.all(a).then(function(n){var r={},a=0;return angular.forEach(e,function(e,t){r[t]=n[a++]}),r}))}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(i,e,t){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),n}};function n(n,r,a){a.modalInClass&&(i.addClass(r,a.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(e,t){t=t();n.modalOptions.animation?i.removeClass(r,a.modalInClass).then(t):t()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,i,o,s){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(t,n,r){n.addClass(r.windowTopClass||""),t.size=r.size,t.close=function(e){var t=a.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),a.dismiss(t.key,"backdrop click"))},n.on("click",t.close),t.$isRendered=!0;var e=i.defer();t.$$postDigest(function(){e.resolve()}),e.promise.then(function(){var e=null;r.modalInClass&&(e=o(n,{addClass:r.modalInClass}).start(),t.$on(a.NOW_CLOSING_EVENT,function(e,t){t=t();o(n,{removeClass:r.modalInClass}).start().then(t)})),i.when(e).then(function(){var e=a.getTop();e&&a.modalRendered(e.key),s[0].activeElement&&n[0].contains(s[0].activeElement)||(n[0].querySelector("[autofocus]")||n[0]).focus()})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(i){return{link:function(e,t,n,r,a){a(e.$parent,function(e){t.empty(),i.enter(e,t)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(s,e,o,l,c,u,t,n,d){var p,f,h,m="modal-open",g=n.createNew(),v=t.createNew(),b={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,$=null,w="data-bootstrap-modal-aria-hidden-count",k=/[A-Z]/g;function x(){for(var e=-1,t=g.keys(),n=0;n<t.length;n++)g.get(t[n]).value.backdrop&&(e=n);return e=-1<e&&e<y?y:e}function r(n,e){var r=g.get(n).value,a=r.appendTo;g.remove(n),($=g.top())&&(y=parseInt($.value.modalDomEl.attr("index"),10)),i(r.modalDomEl,r.modalScope,function(){var e=r.openedClass||m,t=(v.remove(e,n),v.hasKey(e));a.toggleClass(e,t),!t&&h&&h.heightOverflow&&h.scrollbarWidth&&(h.originalRight?a.css({paddingRight:h.originalRight+"px"}):a.css({paddingRight:""}),h=null),S(!0)},r.closedDeferred),p&&-1===x()&&(i(p,f,function(){0}),f=p=void 0),e&&e.focus?e.focus():a.focus&&a.focus()}function S(e){var t;0<g.length()&&(t=g.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function i(e,t,n,r){var a,i=null;function o(){o.done||(o.done=!0,s.leave(e).then(function(){n&&n(),e.remove(),r&&r.resolve()}),t.$destroy())}t.$broadcast(b.NOW_CLOSING_EVENT,function(){return a||(a=u.defer(),i=a.promise),function(){a.resolve()}}),u.when(i).then(o)}function a(e){if(e.isDefaultPrevented())return e;var t=g.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),c.$apply(function(){b.dismiss(t.key,"escape key press")}));break;case 9:var n=b.loadFocusElementList(t),r=!1;e.shiftKey?(b.isFocusInFirstItem(e,n)||b.isModalFocused(e,t))&&(r=b.focusLastFocusableElement(n)):b.isFocusInLastItem(e,n)&&(r=b.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function _(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function C(){Array.prototype.forEach.call(document.querySelectorAll("["+w+"]"),function(e){var t=parseInt(e.getAttribute(w),10)-1;e.setAttribute(w,t),t||(e.removeAttribute(w),e.removeAttribute("aria-hidden"))})}return c.$watch(x,function(e){f&&(f.index=e)}),o.on("keydown",a),c.$on("$destroy",function(){o.off("keydown",a)}),b.open=function(e,t){var n,r=o[0].activeElement,a=t.openedClass||m,e=(S(!1),$=g.top(),g.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,closedDeferred:t.closedDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass,animation:t.animation,appendTo:t.appendTo}),v.put(a,e),t.appendTo),i=x(),i=(0<=i&&!p&&((f=c.$new(!0)).modalOptions=t,f.index=i,(p=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),t.backdropClass&&p.addClass(t.backdropClass),t.animation&&p.attr("modal-animation","true"),l(p)(f),s.enter(p,e),d.isScrollable(e))&&(h=d.scrollbarPadding(e)).heightOverflow&&h.scrollbarWidth&&e.css({paddingRight:h.right+"px"}),t.component?(n=document.createElement(t.component.name.replace(k,function(e,t){return(t?"-":"")+e.toLowerCase()})),(n=angular.element(n)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):n=t.content,y=$?parseInt($.value.modalDomEl.attr("index"),10)+1:0,angular.element('<div uib-modal-window="modal-window"></div>'));i.attr({class:"modal","template-url":t.windowTemplateUrl,"window-top-class":t.windowTopClass,role:"dialog","aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy,size:t.size,index:y,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(n),t.windowClass&&i.addClass(t.windowClass),t.animation&&i.attr("modal-animation","true"),e.addClass(a),t.scope&&(t.scope.$$topModalIndex=y),s.enter(l(i)(t.scope),e),g.top().value.modalDomEl=i,g.top().value.modalOpener=r,function e(t){if(!t||"BODY"===t[0].tagName)return;n(t).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(w),10);n=n||(t?1:0),e.setAttribute(w,n+1),e.setAttribute("aria-hidden","true")});return e(t.parent());function n(t){var e=t.parent()?t.parent().children():[];return Array.prototype.filter.call(e,function(e){return e!==t[0]})}}(i)},b.close=function(e,t){var n=g.get(e);return C(),n&&_(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),r(e,n.value.modalOpener),!0):!n},b.dismiss=function(e,t){var n=g.get(e);return C(),n&&_(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),r(e,n.value.modalOpener),!0):!n},b.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},b.getTop=function(){return g.top()},b.modalRendered=function(e){e=g.get(e);e&&e.value.renderDeferred.resolve()},b.focusFirstFocusableElement=function(e){return 0<e.length&&(e[0].focus(),!0)},b.focusLastFocusableElement=function(e){return 0<e.length&&(e[e.length-1].focus(),!0)},b.isModalFocused=function(e,t){if(e&&t){t=t.value.modalDomEl;if(t&&t.length)return(e.target||e.srcElement)===t[0]}return!1},b.isFocusInFirstItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[0]},b.isFocusInLastItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[t.length-1]},b.loadFocusElementList=function(e){if(e){var e=e.value.modalDomEl;if(e&&e.length)return(e=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]"))&&Array.prototype.filter.call(e,function(e){return!!((e=e).offsetWidth||e.offsetHeight||e.getClientRects().length)})}},b}]).provider("$uibModal",function(){var b={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(h,a,i,o,m,s,g){var e={};var v=null;return e.getPromiseChain=function(){return v},e.open=function(l){var e,t,n,c=a.defer(),u=a.defer(),d=a.defer(),p=a.defer(),f={result:c.promise,opened:u.promise,closed:d.promise,rendered:p.promise,close:function(e){return g.close(f,e)},dismiss:function(e){return g.dismiss(f,e)}};if((l=angular.extend({},b.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||i.find("body").eq(0),!l.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(l.component||l.template||l.templateUrl)return e=l.component?a.when(s.resolve(l.resolve,{},null,null)):a.all([(t=l).template?a.when(t.template):o(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl),s.resolve(l.resolve,{},null,null)]),n=v=a.all([v]).then(r,r).then(function(a){var e,t=l.scope||h,i=t.$new(),n=(i.$close=f.close,i.$dismiss=f.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")}),{scope:i,deferred:c,renderDeferred:p,closedDeferred:d,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo}),r={},o={};function s(n,e,t,r){n.$scope=i,n.$scope.$resolve={},t?n.$scope.$uibModalInstance=f:n.$uibModalInstance=f;t=e?a[1]:a;angular.forEach(t,function(e,t){r&&(n[t]=e),n.$scope.$resolve[t]=e})}l.component?(s(r,!1,!0,!1),r.name=l.component,n.component=r):l.controller&&(s(o,!0,!1,!0),r=m(l.controller,o,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((e=r.instance).$close=i.$close,e.$dismiss=i.$dismiss,angular.extend(e,{$resolve:o.$scope.$resolve},t)),e=r(),angular.isFunction(e.$onInit))&&e.$onInit(),l.component||(n.content=a[0]),g.open(f,n),u.resolve(!0)},function(e){u.reject(e),c.reject(e)}).finally(function(){v===n&&(v=null)}),f;throw new Error("One of component or template or templateUrl options is required.");function r(){return e}},e}]};return b}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(n,r,a){n.setNumPages=a.numPages?e(a.numPages).assign:angular.noop,n.ngModelCtrl={$setViewValue:angular.noop},n._watchers=[],n.init=function(e,t){n.ngModelCtrl=e,n.config=t,e.$render=function(){n.render()},a.itemsPerPage?n._watchers.push(r.$parent.$watch(a.itemsPerPage,function(e){n.itemsPerPage=parseInt(e,10),r.totalPages=n.calculateTotalPages(),n.updatePage()})):n.itemsPerPage=t.itemsPerPage,r.$watch("totalItems",function(e,t){!angular.isDefined(e)&&e===t||(r.totalPages=n.calculateTotalPages(),n.updatePage())})},n.calculateTotalPages=function(){var e=n.itemsPerPage<1?1:Math.ceil(r.totalItems/n.itemsPerPage);return Math.max(e||0,1)},n.render=function(){r.page=parseInt(n.ngModelCtrl.$viewValue,10)||1},r.selectPage=function(e,t){t&&t.preventDefault(),(!r.ngDisabled||!t)&&r.page!==e&&0<e&&e<=r.totalPages&&(t&&t.target&&t.target.blur(),n.ngModelCtrl.$setViewValue(e),n.ngModelCtrl.$render())},r.getText=function(e){return r[e+"Text"]||n.config[e+"Text"]},r.noPrevious=function(){return 1===r.page},r.noNext=function(){return r.page===r.totalPages},n.updatePage=function(){n.setNumPages(r.$parent,r.totalPages),r.page>r.totalPages?r.selectPage(r.totalPages):n.ngModelCtrl.$render()},r.$on("$destroy",function(){for(;n._watchers.length;)n._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,r){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):r.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(e,t,n,r){t.addClass("pager");t=r[0],r=r[1];r&&t.init(r,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,n,e,r,a){var i=this,l=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):a.maxSize,c=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):a.rotate,u=angular.isDefined(n.forceEllipses)?t.$parent.$eval(n.forceEllipses):a.forceEllipses,d=angular.isDefined(n.boundaryLinkNumbers)?t.$parent.$eval(n.boundaryLinkNumbers):a.boundaryLinkNumbers,p=angular.isDefined(n.pageLabel)?function(e){return t.$parent.$eval(n.pageLabel,{$page:e})}:angular.identity;function f(e,t,n){return{number:e,text:t,active:n}}t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):a.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):a.directionLinks,n.$set("role","menu"),r.create(this,t,n),n.maxSize&&i._watchers.push(t.$parent.$watch(e(n.maxSize),function(e){l=parseInt(e,10),i.render()}));var o=this.render;this.render=function(){o(),0<t.page&&t.page<=t.totalPages&&(t.pages=function(e,t){var n=[],r=1,a=t,i=angular.isDefined(l)&&l<t;i&&(c?t<(a=(r=Math.max(e-Math.floor(l/2),1))+l-1)&&(r=(a=t)-l+1):(r=(Math.ceil(e/l)-1)*l+1,a=Math.min(r+l-1,t)));for(var o=r;o<=a;o++){var s=f(o,p(o),o===e);n.push(s)}return i&&0<l&&(!c||u||d)&&(1<r&&((!d||3<r)&&(i=f(r-1,"...",!1),n.unshift(i)),d)&&(3===r&&(i=f(2,"2",!1),n.unshift(i)),r=f(1,"1",!1),n.unshift(r)),a<t)&&((!d||a<t-2)&&(i=f(a+1,"...",!1),n.push(i)),d)&&(a===t-2&&(r=f(t-1,t-1,!1),n.push(r)),i=f(t,t,!1),n.push(i)),n}(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,a){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,t,n,r){t.addClass("pagination");t=r[0],r=r[1];r&&t.init(r,a)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(e){angular.extend(l,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,i,q,H,V,o,t,Y,n){var B=n.createNew();function r(e){27===e.which&&(e=B.top())&&e.value.close()}return H.on("keyup",r),t.$on("$destroy",function(){H.off("keyup",r)}),function(z,L,n,R){function U(e){var e=(e||R.trigger||n).split(" "),t=e.map(function(e){return l[e]||e});return{show:e,hide:t}}R=angular.extend({},s,c,R);var e=z.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),t=o.startSymbol(),r=o.endSymbol(),a="<div "+e+'-popup uib-title="'+t+"title"+r+'" '+(R.useContentExp?'content-exp="contentExp()" ':'content="'+t+"content"+r+'" ')+'origin-scope="origScope" class="uib-position-measure '+L+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var F=i(a);return function(n,a,r,j){function t(){i&&i.html()&&(c=c||q(function(){var e=V.positionElements(a,i,m.placement,p),t=angular.isDefined(i.offsetHeight)?i.offsetHeight:i.prop("offsetHeight"),n=p?V.offset(a):V.position(a),r=(i.css({top:e.top+"px",left:e.left+"px"}),e.placement.split("-"));i.hasClass(r[0])||(i.removeClass(d.split("-")[0]),i.addClass(r[0])),i.hasClass(R.placementClassPrefix+e.placement)||(i.removeClass(R.placementClassPrefix+d),i.addClass(R.placementClassPrefix+e.placement)),u=q(function(){var e=angular.isDefined(i.offsetHeight)?i.offsetHeight:i.prop("offsetHeight"),e=V.adjustTop(r,n,t,e);e&&i.css(e),u=null},0,!1),i.hasClass("uib-position-measure")?(V.positionArrow(i,e.placement),i.removeClass("uib-position-measure")):d!==e.placement&&V.positionArrow(i,e.placement),d=e.placement,c=null},0,!1))}var i,e,o,s,l,c,u,d,p=!!angular.isDefined(R.appendToBody)&&R.appendToBody,f=U(void 0),h=angular.isDefined(r[L+"Enable"]),m=n.$new(!0),g=!1,v=!!angular.isDefined(r[L+"IsOpen"])&&Y(r[L+"IsOpen"]),b=!!R.useContentExp&&Y(r[z]),y=[];function $(){(m.isOpen?k:w)()}function w(){var e,t;h&&!n.$eval(r[L+"Enable"])||(C(),m.title=r[L+"Title"],m.content=b?b(n):r[z],m.popupClass=r[L+"Class"],m.placement=angular.isDefined(r[L+"Placement"])?r[L+"Placement"]:R.placement,e=V.parsePlacement(m.placement),d=e[1]?e[0]+"-"+e[1]:e[0],e=parseInt(r[L+"PopupDelay"],10),t=parseInt(r[L+"PopupCloseDelay"],10),m.popupDelay=isNaN(e)?R.popupDelay:e,m.popupCloseDelay=isNaN(t)?R.popupCloseDelay:t,m.popupDelay?s=s||q(x,m.popupDelay,!1):x())}function k(){S(),m.popupCloseDelay?l=l||q(_,m.popupCloseDelay,!1):_()}function x(){if(S(),C(),!m.content)return angular.noop;i||(e=m.$new(),i=F(e,function(e){p?H.find("body").append(e):a.after(e)}),B.add(m,{close:_}),y.length=0,b?(y.push(n.$watch(b,function(e){!(m.content=e)&&m.isOpen&&_()})),y.push(e.$watch(function(){g||(g=!0,e.$$postDigest(function(){g=!1,m&&m.isOpen&&t()}))}))):y.push(r.$observe(z,function(e){(!(m.content=e)&&m.isOpen?_:t)()})),y.push(r.$observe(L+"Title",function(e){m.title=e,m.isOpen&&t()})),y.push(r.$observe(L+"Placement",function(e){m.placement=e||R.placement,m.isOpen&&t()}))),m.$evalAsync(function(){T(m.isOpen=!0),t()})}function S(){s&&(q.cancel(s),s=null),c&&(q.cancel(c),c=null)}function _(){m&&m.$evalAsync(function(){m&&(T(m.isOpen=!1),m.animation?o=o||q(E,150,!1):E())})}function C(){l&&(q.cancel(l),l=null),o&&(q.cancel(o),o=null)}function E(){S(),C(),y.length&&(angular.forEach(y,function(e){e()}),y.length=0),i&&(i.remove(),i=null,u)&&q.cancel(u),B.remove(m),e&&(e.$destroy(),e=null)}function T(e){v&&angular.isFunction(v.assign)&&v.assign(n,e)}function P(e){m&&m.isOpen&&i&&(a[0].contains(e.target)||i[0].contains(e.target)||k())}function D(e){27===e.which&&k()}m.origScope=n,m.isOpen=!1,m.contentExp=function(){return m.content},r.$observe("disabled",function(e){e&&S(),e&&m.isOpen&&_()}),v&&n.$watch(v,function(e){m&&!e===m.isOpen&&$()});function M(){f.show.forEach(function(e){"outsideClick"===e?a.off("click",$):(a.off(e,w),a.off(e,$)),a.off("keypress",D)}),f.hide.forEach(function(e){"outsideClick"===e?H.off("click",P):a.off(e,k)})}var A,O,I;A=[],O=[],I=n.$eval(r[L+"Trigger"]),M(),"none"!==(f=angular.isObject(I)?(Object.keys(I).forEach(function(e){A.push(e),O.push(I[e])}),{show:A,hide:O}):U(I)).show&&f.show.forEach(function(e,t){"outsideClick"===e?(a.on("click",$),H.on("click",P)):e===f.hide[t]?a.on(e,$):e&&(a.on(e,w),a.on(f.hide[t],k)),a.on("keypress",D)});var N=n.$eval(r[L+"Animation"]),N=(m.animation=angular.isDefined(N)?!!N:R.animation,L+"AppendToBody"),N=N in r&&void 0===r[N]||n.$eval(r[N]),p=angular.isDefined(N)?N:p;n.$on("$destroy",function(){M(),E(),m=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(u,r,d,p){return{link:function(e,a,t){function i(){n&&(n.remove(),n=null),o&&(o.$destroy(),o=null),s&&(u.leave(s).then(function(){n=null}),n=s,s=null)}var o,n,s,l=e.$eval(t.tooltipTemplateTranscludeScope),c=0;e.$watch(r.parseAsResourceUrl(t.uibTooltipTemplateTransclude),function(n){var r=++c;n?(p(n,!0).then(function(e){var t;r===c&&(t=l.$new(),e=d(e)(t,function(e){i(),u.enter(e,a)}),s=e,(o=t).$emit("$includeContentLoaded",n))},function(){r===c&&(i(),e.$emit("$includeContentError",n))}),e.$emit("$includeContentRequested",n)):i()}),e.$on("$destroy",i)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(e,t,n){var r;e.placement&&(r=a.parsePlacement(e.placement),t.addClass(r[0])),e.popupClass&&t.addClass(e.popupClass),e.animation&&t.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var r=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=i(),this.addBar=function(t,e,n){a||e.css({transition:"none"}),this.bars.push(t),t.max=i(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){r.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,n,r){var a={$setViewValue:angular.noop},i=this;this.init=function(e){(a=e).$render=this.render,a.$formatters.push(function(e){return e=angular.isNumber(e)&&e<<0!==e?Math.round(e):e}),this.stateOn=angular.isDefined(n.stateOn)?t.$parent.$eval(n.stateOn):r.stateOn,this.stateOff=angular.isDefined(n.stateOff)?t.$parent.$eval(n.stateOff):r.stateOff,this.enableReset=angular.isDefined(n.enableReset)?t.$parent.$eval(n.enableReset):r.enableReset;e=angular.isDefined(n.titles)?t.$parent.$eval(n.titles):r.titles,this.titles=angular.isArray(e)&&0<e.length?e:r.titles,e=angular.isDefined(n.ratingStates)?t.$parent.$eval(n.ratingStates):new Array(angular.isDefined(n.max)?t.$parent.$eval(n.max):r.max);t.range=this.buildTemplateObjects(e)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},t.rate=function(e){!t.readonly&&0<=e&&e<=t.range.length&&(e=i.enableReset&&a.$viewValue===e?0:e,a.$setViewValue(e),a.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=a.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=a.$viewValue,t.title=i.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,r){var a=r[0],r=r[1];a.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var r,a,i=this;function o(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}i.tabs=[],i.select=function(e,t){if(!a){var n=o(r),n=i.tabs[n];if(n){if(n.tab.onDeselect({$event:t,$selectedIndex:e}),t&&t.isDefaultPrevented())return;n.tab.active=!1}n=i.tabs[e];n?(n.tab.onSelect({$event:t}),n.tab.active=!0,i.active=n.index,r=n.index):!n&&angular.isDefined(r)&&(i.active=null,r=null)}},i.addTab=function(e){i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index!==i.active&&(angular.isDefined(i.active)||1!==i.tabs.length)||(e=o(e.index),i.select(e))},i.removeTab=function(e){for(var t,n,r=0;r<i.tabs.length;r++)if(i.tabs[r].tab===e){t=r;break}i.tabs[t].index===i.active&&(n=t===i.tabs.length-1?t-1:t+1%i.tabs.length,i.select(n)),i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==r&&i.select(o(e))}),e.$on("$destroy",function(){a=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(i){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(r,e,t,a,n){r.disabled=!1,t.disable&&r.$parent.$watch(i(t.disable),function(e){r.disabled=!!e}),angular.isUndefined(t.index)&&(a.tabs&&a.tabs.length?r.index=Math.max.apply(null,a.tabs.map(function(e){return e.index}))+1:r.index=0),angular.isUndefined(t.classes)&&(r.classes=""),r.select=function(e){if(!r.disabled){for(var t,n=0;n<a.tabs.length;n++)if(a.tabs[n].tab===r){t=n;break}a.select(t,e)}},a.addTab(r),r.$on("$destroy",function(){a.removeTab(r)}),r.$transcludeFn=n}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(e,n,t){var r=e.$eval(t.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,e,r,t,n,i,o){var s,l,c,u,d,p=new Date,f=[],h={$setViewValue:angular.noop},m=angular.isDefined(r.meridians)?a.$parent.$eval(r.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS,g=!angular.isDefined(r.padHours)||a.$parent.$eval(r.padHours),v=(a.tabindex=angular.isDefined(r.tabindex)?r.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,t){(h=e).$render=this.render,h.$formatters.unshift(function(e){return e?new Date(e):null});var e=t.eq(0),n=t.eq(1),t=t.eq(2);s=e.controller("ngModel"),l=n.controller("ngModel"),c=t.controller("ngModel"),(angular.isDefined(r.mousewheel)?a.$parent.$eval(r.mousewheel):o.mousewheel)&&this.setupMousewheelEvents(e,n,t),(angular.isDefined(r.arrowkeys)?a.$parent.$eval(r.arrowkeys):o.arrowkeys)&&this.setupArrowkeyEvents(e,n,t),a.readonlyInput=angular.isDefined(r.readonlyInput)?a.$parent.$eval(r.readonlyInput):o.readonlyInput,this.setupInputEvents(e,n,t)},o.hourStep),b=(r.hourStep&&f.push(a.$parent.$watch(t(r.hourStep),function(e){v=+e})),o.minuteStep),y=(r.minuteStep&&f.push(a.$parent.$watch(t(r.minuteStep),function(e){b=+e})),f.push(a.$parent.$watch(t(r.min),function(e){e=new Date(e);u=isNaN(e)?void 0:e})),f.push(a.$parent.$watch(t(r.max),function(e){e=new Date(e);d=isNaN(e)?void 0:e})),!1),$=(r.ngDisabled&&f.push(a.$parent.$watch(t(r.ngDisabled),function(e){y=e})),a.noIncrementHours=function(){var e=T(p,60*v);return y||d<e||e<p&&e<u},a.noDecrementHours=function(){var e=T(p,60*-v);return y||e<u||p<e&&d<e},a.noIncrementMinutes=function(){var e=T(p,b);return y||d<e||e<p&&e<u},a.noDecrementMinutes=function(){var e=T(p,-b);return y||e<u||p<e&&d<e},a.noIncrementSeconds=function(){var e=P(p,$);return y||d<e||e<p&&e<u},a.noDecrementSeconds=function(){var e=P(p,-$);return y||e<u||p<e&&d<e},a.noToggleMeridian=function(){return p.getHours()<12?y||T(p,720)>d:y||T(p,-720)<u},o.secondStep);function w(){var e=+a.hours;if((a.showMeridian?0<e&&e<13:0<=e&&e<24)&&""!==a.hours)return a.showMeridian&&(12===e&&(e=0),a.meridian===m[1])&&(e+=12),e}function k(){var e=+a.minutes;if(0<=e&&e<60&&""!==a.minutes)return e}function x(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function S(e){_(),h.$setViewValue(new Date(p)),C(e)}function _(){s&&s.$setValidity("hours",!0),l&&l.$setValidity("minutes",!0),c&&c.$setValidity("seconds",!0),h.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function C(e){var t,n,r;h.$modelValue?(t=p.getHours(),n=p.getMinutes(),r=p.getSeconds(),a.showMeridian&&(t=0===t||12===t?12:t%12),a.hours="h"===e?t:x(t,!g),"m"!==e&&(a.minutes=x(n)),a.meridian=p.getHours()<12?m[0]:m[1],"s"!==e&&(a.seconds=x(r)),a.meridian=p.getHours()<12?m[0]:m[1]):(a.hours=null,a.minutes=null,a.seconds=null,a.meridian=m[0])}function E(e){p=P(p,e),S()}function T(e,t){return P(e,60*t)}function P(e,t){t=new Date(e.getTime()+1e3*t),e=new Date(e);return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),e}function D(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}r.secondStep&&f.push(a.$parent.$watch(t(r.secondStep),function(e){$=+e})),a.showSeconds=o.showSeconds,r.showSeconds&&f.push(a.$parent.$watch(t(r.showSeconds),function(e){a.showSeconds=!!e})),a.showMeridian=o.showMeridian,r.showMeridian&&f.push(a.$parent.$watch(t(r.showMeridian),function(e){var t;a.showMeridian=!!e,h.$error.time?(e=w(),t=k(),angular.isDefined(e)&&angular.isDefined(t)&&(p.setHours(e),S())):C()})),this.setupMousewheelEvents=function(e,t,n){function r(e){var t=(e=e.originalEvent?e.originalEvent:e).wheelDelta||-e.deltaY;return e.detail||0<t}e.on("mousewheel wheel",function(e){y||a.$apply(r(e)?a.incrementHours():a.decrementHours()),e.preventDefault()}),t.on("mousewheel wheel",function(e){y||a.$apply(r(e)?a.incrementMinutes():a.decrementMinutes()),e.preventDefault()}),n.on("mousewheel wheel",function(e){y||a.$apply(r(e)?a.incrementSeconds():a.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,t,n){e.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),a.incrementHours(),a.$apply()):40===e.which&&(e.preventDefault(),a.decrementHours(),a.$apply()))}),t.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),a.incrementMinutes(),a.$apply()):40===e.which&&(e.preventDefault(),a.decrementMinutes(),a.$apply()))}),n.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),a.incrementSeconds(),a.$apply()):40===e.which&&(e.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(e,t,n){var r;a.readonlyInput?(a.updateHours=angular.noop,a.updateMinutes=angular.noop,a.updateSeconds=angular.noop):(r=function(e,t,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(e)&&(a.invalidHours=e,s)&&s.$setValidity("hours",!1),angular.isDefined(t)&&(a.invalidMinutes=t,l)&&l.$setValidity("minutes",!1),angular.isDefined(n)&&(a.invalidSeconds=n,c)&&c.$setValidity("seconds",!1)},a.updateHours=function(){var e=w(),t=k();h.$setDirty(),!angular.isDefined(e)||!angular.isDefined(t)||(p.setHours(e),p.setMinutes(t),p<u)||d<p?r(!0):S("h")},e.on("blur",function(e){h.$setTouched(),D()?_():null===a.hours||""===a.hours?r(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=x(a.hours,!g)})}),a.updateMinutes=function(){var e=k(),t=w();h.$setDirty(),!angular.isDefined(e)||!angular.isDefined(t)||(p.setHours(t),p.setMinutes(e),p<u)||d<p?r(void 0,!0):S("m")},t.on("blur",function(e){h.$setTouched(),D()?_():null===a.minutes?r(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=x(a.minutes)})}),a.updateSeconds=function(){var e=0<=(e=+a.seconds)&&e<60?e:void 0;h.$setDirty(),angular.isDefined(e)?(p.setSeconds(e),S("s")):r(void 0,void 0,!0)},n.on("blur",function(e){D()?_():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=x(a.seconds)})}))},this.render=function(){var e=h.$viewValue;isNaN(e)?(h.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):((p=e?e:p)<u||d<p?(h.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):_(),C())},a.showSpinners=angular.isDefined(r.showSpinners)?a.$parent.$eval(r.showSpinners):o.showSpinners,a.incrementHours=function(){a.noIncrementHours()||E(60*v*60)},a.decrementHours=function(){a.noDecrementHours()||E(60*-v*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||E(60*b)},a.decrementMinutes=function(){a.noDecrementMinutes()||E(60*-b)},a.incrementSeconds=function(){a.noIncrementSeconds()||E($)},a.decrementSeconds=function(){a.noDecrementSeconds()||E(-$)},a.toggleMeridian=function(){var e=k(),t=w();a.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(t)?E(720*(p.getHours()<12?60:-60)):a.meridian=a.meridian===m[0]?m[1]:m[0])},a.blur=function(){h.$setTouched()},a.$on("$destroy",function(){for(;f.length;)f.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(e,t){return t.templateUrl||n.templateUrl},link:function(e,t,n,r){var a=r[0],r=r[1];r&&a.init(r,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(r);if(t)return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])};throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".')}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(s,l,o,j,t,F,c,e,n,z,u,r,a){var d,p,f,h,i,m,g,L=[9,13,27,38,40],v=s.$eval(o.typeaheadMinLength),b=(v||0===v||(v=1),s.$watch(o.typeaheadMinLength,function(e){v=e||0===e?e:1}),s.$eval(o.typeaheadWaitMs)||0),y=!1!==s.$eval(o.typeaheadEditable),$=(s.$watch(o.typeaheadEditable,function(e){y=!1!==e}),t(o.typeaheadLoading).assign||angular.noop),R=o.typeaheadShouldSelect?t(o.typeaheadShouldSelect):function(e,t){t=t.$event;return 13===t.which||9===t.which},U=t(o.typeaheadOnSelect),q=!!angular.isDefined(o.typeaheadSelectOnBlur)&&s.$eval(o.typeaheadSelectOnBlur),w=t(o.typeaheadNoResults).assign||angular.noop,k=o.typeaheadInputFormatter?t(o.typeaheadInputFormatter):void 0,x=!!o.typeaheadAppendToBody&&s.$eval(o.typeaheadAppendToBody),S=o.typeaheadAppendTo?s.$eval(o.typeaheadAppendTo):null,H=!1!==s.$eval(o.typeaheadFocusFirst),V=!!o.typeaheadSelectOnExact&&s.$eval(o.typeaheadSelectOnExact),Y=t(o.typeaheadIsOpen).assign||angular.noop,_=s.$eval(o.typeaheadShowHint)||!1,C=t(o.ngModel),B=t(o.ngModel+"($$$p)"),E=a.parse(o.uibTypeahead),T=s.$new(),a=s.$on("$destroy",function(){T.$destroy()}),P=(T.$on("$destroy",a),"typeahead-"+T.$id+"-"+Math.floor(1e4*Math.random())),D=(l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P}),_&&((i=angular.element("<div></div>")).css("position","relative"),l.after(i),(m=l.clone()).attr("placeholder",""),m.attr("tabindex","-1"),m.val(""),m.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),l.css({position:"relative","vertical-align":"top","background-color":"transparent"}),m.attr("id")&&m.removeAttr("id"),i.append(m),m.after(l)),angular.element("<div uib-typeahead-popup></div>")),W=(D.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(o.typeaheadTemplateUrl)&&D.attr("template-url",o.typeaheadTemplateUrl),angular.isDefined(o.typeaheadPopupTemplateUrl)&&D.attr("popup-template-url",o.typeaheadPopupTemplateUrl),function(){_&&m.val("")}),M=function(){T.matches=[],T.activeIdx=-1,l.attr("aria-expanded",!1),W()},A=function(e){return P+"-option-"+e},G=(T.$watch("activeIdx",function(e){e<0?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",A(e))}),function(e,t){return!!(T.matches.length>t&&e)&&e.toUpperCase()===T.matches[t].label.toUpperCase()}),O=function(a,i){var o={$viewValue:a};$(s,!0),w(s,!1),F.when(E.source(s,o)).then(function(e){var t=a===d.$viewValue;if(t&&f)if(e&&0<e.length){T.activeIdx=H?0:-1,w(s,!1);for(var n,r=T.matches.length=0;r<e.length;r++)o[E.itemName]=e[r],T.matches.push({id:A(r),label:E.viewMapper(T,o),model:e[r]});T.query=a,X(),l.attr("aria-expanded",!0),V&&1===T.matches.length&&G(a,0)&&(angular.isNumber(T.debounceUpdate)||angular.isObject(T.debounceUpdate)?u(function(){T.select(0,i)},angular.isNumber(T.debounceUpdate)?T.debounceUpdate:T.debounceUpdate.default):T.select(0,i)),_&&(n=T.matches[0].label,angular.isString(a)&&0<a.length&&n.slice(0,a.length).toUpperCase()===a.toUpperCase()?m.val(a+n.slice(a.length)):m.val(""))}else M(),w(s,!0);t&&$(s,!1)},function(){M(),$(s,!1),w(s,!0)})},K=(x&&(angular.element(n).on("resize",I),e.find("body").on("scroll",I)),u(function(){T.matches.length&&X(),T.moveInProgress=!1},200));function I(){T.moveInProgress||(T.moveInProgress=!0,T.$digest()),K()}function X(){T.position=x?r.offset(l):r.position(l),T.position.top+=l.prop("offsetHeight")}T.moveInProgress=!1,T.query=void 0;function J(){g&&c.cancel(g)}function Z(e){l[0]!==e.target&&3!==e.which&&0!==T.matches.length&&(M(),z.$$phase||s.$digest())}M(),T.assignIsOpen=function(e){Y(s,e)},T.select=function(e,t){var n,r,a,i={};h=!0,i[E.itemName]=e=T.matches[e].model,n=E.modelMapper(s,i),r=s,a=n,angular.isFunction(C(s))&&p.getOption("getterSetter")?B(r,{$$$p:a}):C.assign(r,a),d.$setValidity("editable",!0),d.$setValidity("parse",!0),U(s,{$item:e,$model:n,$label:E.viewMapper(s,i),$event:t}),M(),!1!==T.$eval(o.typeaheadFocusOnSelect)&&c(function(){l[0].focus()},0,!1)},l.on("keydown",function(e){if(0!==T.matches.length&&-1!==L.indexOf(e.which)){var t,n=R(s,{$event:e});if(-1===T.activeIdx&&n||9===e.which&&e.shiftKey)M(),T.$digest();else switch(e.preventDefault(),e.which){case 27:e.stopPropagation(),M(),s.$digest();break;case 38:T.activeIdx=(0<T.activeIdx?T.activeIdx:T.matches.length)-1,T.$digest(),(t=D[0].querySelectorAll(".uib-typeahead-match")[T.activeIdx]).parentNode.scrollTop=t.offsetTop;break;case 40:T.activeIdx=(T.activeIdx+1)%T.matches.length,T.$digest(),(t=D[0].querySelectorAll(".uib-typeahead-match")[T.activeIdx]).parentNode.scrollTop=t.offsetTop;break;default:n&&T.$apply(function(){angular.isNumber(T.debounceUpdate)||angular.isObject(T.debounceUpdate)?u(function(){T.select(T.activeIdx,e)},angular.isNumber(T.debounceUpdate)?T.debounceUpdate:T.debounceUpdate.default):T.select(T.activeIdx,e)})}}}),l.on("focus",function(e){f=!0,0!==v||d.$viewValue||c(function(){O(d.$viewValue,e)},0)}),l.on("blur",function(e){q&&T.matches.length&&-1!==T.activeIdx&&!h&&(h=!0,T.$apply(function(){angular.isObject(T.debounceUpdate)&&angular.isNumber(T.debounceUpdate.blur)?u(function(){T.select(T.activeIdx,e)},T.debounceUpdate.blur):T.select(T.activeIdx,e)})),!y&&d.$error.editable&&(d.$setViewValue(),T.$apply(function(){d.$setValidity("editable",!0),d.$setValidity("parse",!0)}),l.val("")),h=f=!1});e.on("click",Z),s.$on("$destroy",function(){e.off("click",Z),(x||S)&&N.remove(),x&&(angular.element(n).off("resize",I),e.find("body").off("scroll",I)),D.remove(),_&&i.remove()});var N=j(D)(T);x?e.find("body").append(N):S?angular.element(S).eq(0).append(N):l.after(N),this.init=function(e){p=function(e){var t;angular.version.minor<6?(t=e.$options||{}).getOption=function(e){return t[e]}:t=e.$options;return t}(d=e),T.debounceUpdate=t(p.getOption("debounce"))(s),d.$parsers.unshift(function(e){var t;return f=!0,0===v||e&&e.length>=v?0<b?(J(),t=e,g=c(function(){O(t)},b)):O(e):($(s,!1),J(),M()),y?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),null)}),d.$formatters.push(function(e){var t,n={};return y||d.$setValidity("editable",!0),k?(n.$model=e,k(s,n)):(n[E.itemName]=e,t=E.viewMapper(s,n),n[E.itemName]=void 0,t!==E.viewMapper(s,n)?t:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,r){r[1].init(r[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(r,e,t){r.templateUrl=t.templateUrl,r.isOpen=function(){var e=0<r.matches.length;return r.assignIsOpen({isOpen:e}),e},r.isActive=function(e){return r.active===e},r.selectActive=function(e){r.active=e},r.selectMatch=function(e,t){var n=r.debounce();angular.isNumber(n)||angular.isObject(n)?a(function(){r.select({activeIdx:e,evt:t})},angular.isNumber(n)?n:n.default):r.select({activeIdx:e,evt:t})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(r,a,i){return{scope:{index:"=",match:"=",query:"="},link:function(t,n,e){e=i(e.templateUrl)(t.$parent)||"uib/template/typeahead/typeahead-match.html";r(e).then(function(e){e=angular.element(e.trim());n.replaceWith(e),a(e)(t)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,e,r){var a;return a=e.has("$sanitize"),function(e,t){return!a&&/<.*>/g.test(e)&&r.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e,e=a?e:n.trustAsHtml(e)}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){angular.$$csp().noInlineStyle||angular.$$uibCarouselCss||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){angular.$$csp().noInlineStyle||angular.$$uibPositionCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerpopupCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTooltipCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTimepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTypeaheadCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(e,t){"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):e.angularClipboard=t(e.angular)}(this,function(a){return a.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(s,l){return{copyText:function(e,t){var n=l.pageXOffset||s[0].documentElement.scrollLeft,r=l.pageYOffset||s[0].documentElement.scrollTop,t=t&&t.container||s[0].body,e=(e=e,(a=s[0].createElement("textarea")).style.position="absolute",a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.left="-10000px",a.style.top=(l.pageYOffset||s[0].documentElement.scrollTop)+"px",a.textContent=e,a),a=(t.appendChild(e),e);try{s[0].body.style.webkitUserSelect="initial";var i=s[0].getSelection(),o=(i.removeAllRanges(),document.createRange());o.selectNodeContents(a),i.addRange(o),a.select(),a.setSelectionRange(0,999999);try{if(!s[0].execCommand("copy"))throw"failure copy"}finally{i.removeAllRanges()}}finally{s[0].body.style.webkitUserSelect=""}l.scrollTo(n,r),t.removeChild(e)},supported:"queryCommandSupported"in s[0]&&s[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(r){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(t,n){t.supported=r.supported,n.on("click",function(e){try{r.copyText(t.text,n[0]),a.isFunction(t.onCopied)&&t.$evalAsync(t.onCopied())}catch(e){a.isFunction(t.onError)&&t.$evalAsync(t.onError({err:e}))}})}}}])}),function(){"use strict";var t,e=angular.module("translate.sub",[]);e.provider("$translate",[function(){var n=[],r="en-US";this.translations=function(e,t){angular.isDefined(e)&&angular.isDefined(t)&&(n[e]=angular.copy(t),r=e)},this.$get=[function(){return{instant:function(e){return angular.isDefined(e)&&angular.isDefined(n[r][e])?n[r][e]:""}}}]}]),e.filter("translate",["$translate",function(t){return function(e){return t.instant(e)}}]);try{angular.module("pascalprecht.translate"),t=angular.module("dialogs.controllers",["ui.bootstrap.modal","pascalprecht.translate"])}catch(e){t=angular.module("dialogs.controllers",["ui.bootstrap.modal","translate.sub"])}t.controller("errorDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(e,t,n,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_ERROR"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_ERROR_MSG"),e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-warning":"glyphicon glyphicon-warning-sign",e.close=function(){t.close(),e.$destroy()}}]),t.controller("waitDialogCtrl",["$scope","$uibModalInstance","$translate","$timeout","data",function(n,e,t,r,a){n.header=angular.isDefined(a.header)?a.header:t.instant("DIALOGS_PLEASE_WAIT_ELIPS"),n.msg=angular.isDefined(a.msg)?a.msg:t.instant("DIALOGS_PLEASE_WAIT_MSG"),n.progress=angular.isDefined(a.progress)?a.progress:100,n.icon=angular.isDefined(a.fa)&&angular.equals(a.fa,!0)?"fa fa-clock-o":"glyphicon glyphicon-time",n.$on("dialogs.wait.complete",function(){r(function(){e.close(),n.$destroy()})}),n.$on("dialogs.wait.message",function(e,t){n.msg=(angular.isDefined(t.msg)?t:n).msg}),n.$on("dialogs.wait.progress",function(e,t){n.msg=(angular.isDefined(t.msg)?t:n).msg,n.progress=(angular.isDefined(t.progress)?t:n).progress}),n.getProgress=function(){return{width:n.progress+"%"}}}]),t.controller("notifyDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(e,t,n,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_NOTIFICATION"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_NOTIFICATION_MSG"),e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-info":"glyphicon glyphicon-info-sign",e.close=function(){t.close(),e.$destroy()}}]),t.controller("confirmDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(e,t,n,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_CONFIRMATION"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_CONFIRMATION_MSG"),e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-check":"glyphicon glyphicon-check",e.no=function(){t.dismiss("no")},e.yes=function(){t.close("yes")}}]),angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).provider("dialogs",[function(){function s(e){var t={};return e=e||{},t.kb=angular.isDefined(e.keyboard)?!!e.keyboard:r,t.bd=angular.isDefined(e.backdrop)?e.backdrop:n,t.bdc=angular.isDefined(e.backdropClass)?e.backdropClass:"dialogs-backdrop-default",t.ws=!angular.isDefined(e.size)||"sm"!==e.size&&"lg"!==e.size&&"md"!==e.size?i:e.size,t.wc=angular.isDefined(e.windowClass)?e.windowClass:a,t.anim=angular.isDefined(e.animation)?!!e.animation:o,t}var n=!0,r=!0,a="dialogs-default",l=!0,i="lg",o=!1,c=!1;this.useBackdrop=function(e){angular.isDefined(e)&&(n=e)},this.useEscClose=function(e){angular.isDefined(e)&&(r=!(angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)))},this.useClass=function(e){angular.isDefined(e)&&(a=e)},this.useCopy=function(e){angular.isDefined(e)&&(l=!(angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)))},this.setWindowTmpl=function(e){angular.isDefined(e)&&0},this.setSize=function(e){angular.isDefined(e)&&(i=angular.equals(e,"sm")||angular.equals(e,"lg")||angular.equals(e,"md")?e:i)},this.useAnimation=function(){o=!0},this.useFontAwesome=function(){c=!0},this.$get=["$uibModal",function(o){return{error:function(e,t,n){return n=s(n),o.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",backdrop:n.bd,backdropClass:n.bdc,keyboard:n.kb,windowClass:n.wc,size:n.ws,animation:n.anim,resolve:{data:function(){return{header:angular.copy(e),msg:angular.copy(t),fa:c}}}})},wait:function(e,t,n,r){return r=s(r),o.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",backdrop:r.bd,backdropClass:r.bdc,keyboard:r.kb,windowClass:r.wc,size:r.ws,animation:r.anim,resolve:{data:function(){return{header:angular.copy(e),msg:angular.copy(t),progress:angular.copy(n),fa:c}}}})},notify:function(e,t,n){return n=s(n),o.open({templateUrl:"/dialogs/notify.html",controller:"notifyDialogCtrl",backdrop:n.bd,backdropClass:n.bdc,keyboard:n.kb,windowClass:n.wc,size:n.ws,animation:n.anim,resolve:{data:function(){return{header:angular.copy(e),msg:angular.copy(t),fa:c}}}})},confirm:function(e,t,n){return n=s(n),o.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",backdrop:n.bd,backdropClass:n.bdc,keyboard:n.kb,windowClass:n.wc,size:n.ws,animation:n.anim,resolve:{data:function(){return{header:angular.copy(e),msg:angular.copy(t),fa:c}}}})},create:function(e,t,n,r,a){var i=r&&angular.isDefined(r.copy)?r.copy:l;return r=s(r),o.open({templateUrl:e,controller:t,controllerAs:a,keyboard:r.kb,backdrop:r.bd,backdropClass:r.bdc,windowClass:r.wc,size:r.ws,animation:r.anim,resolve:{data:function(){return i?angular.copy(n):n}}})}}}]}]),angular.module("dialogs.main",["dialogs.services","ngSanitize"]).config(["$translateProvider","dialogsProvider",function(t,e){try{angular.module("pascalprecht.translate")}catch(e){t.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"})}try{var n=document.styleSheets;e:for(var r=n.length-1;0<=r;r--){var a=null,i=null;if(!n[r].disabled){if(null!==n[r].href&&(a=n[r].href.match(/font\-*awesome/i)),angular.isArray(a)){e.useFontAwesome();break}for(var o=(i=n[r].cssRules).length-1;0<=o;o--)if("string"==typeof i[o].selectorText&&".fa"===i[o].selectorText.toLowerCase()){e.useFontAwesome();break e}}}}catch(e){}}]).run(["$templateCache","$interpolate",function(e,t){var n=t.startSymbol(),t=t.endSymbol();e.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="'+n+"icon"+t+'"></span> <span ng-bind-html="header"></span></h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="close()">'+n+'"DIALOGS_CLOSE" | translate'+t+"</button></div>"),e.put("/dialogs/wait.html",'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="'+n+"icon"+t+'"></span> '+n+"header"+t+'</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">'+n+"progress"+t+n+'"DIALOGS_PERCENT_COMPLETE" | translate'+t+"</span></div></div>"),e.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="'+n+"icon"+t+'"></span> '+n+"header"+t+'</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">'+n+'"DIALOGS_OK" | translate'+t+"</button></div>"),e.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="'+n+"icon"+t+'"></span> '+n+"header"+t+'</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="yes()">'+n+'"DIALOGS_YES" | translate'+t+'</button><button type="button" class="btn btn-primary" ng-click="no()">'+n+'"DIALOGS_NO" | translate'+t+"</button></div>")}])}(),function(n,s){"use strict";var a=n.isDefined,u=n.isUndefined,l=n.isFunction,c=n.isString,d=n.isNumber,p=n.isObject,f=n.isArray,h=n.forEach,i=n.extend,o=n.copy,m=n.equals;function g(t){return f(t)?t:Object.keys(t).map(function(e){return t[e]})}function v(e){return null===e}function r(t,n){return-1==Object.keys(t).map(function(e){return n[e]!==s&&n[e]==t[e]}).indexOf(!1)}function b(e,t){for(var n=0,r=0;r<=t.length;r++){var a=function(e,t,n){for(var r=0;t+r<=e.length;){if(e.charAt(t+r)==n)return r;r++}return-1}(e,n,t.charAt(r));if(-1==a)return!1;n+=a+1}return!0}function y(e,t,n){var r=0;return e.filter(function(e){e=a(n)?r<t&&n(e):r<t;return r=e?r+1:r,e})}function $(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function w(e){return e&&e.$evalAsync&&e.$watch}function e(){return function(e,t){return t<e}}function t(){return function(e,t){return t<=e}}function k(){return function(e,t){return e<t}}function x(){return function(e,t){return e<=t}}function S(){return function(e,t){return e==t}}function _(){return function(e,t){return e!=t}}function C(){return function(e,t){return e===t}}function E(){return function(e,t){return e!==t}}function T(n){return function(e,t){return e=p(e)?g(e):e,!(!f(e)||u(t))&&e.some(function(e){return c(t)&&p(e)||l(t)?n(t)(e):e===t})}}function P(a){return function(e,t){var n,r;return e=p(e)?g(e):e,f(e)?(n=[],r=a(t),u(t)?e.filter(function(e,t,n){return n.indexOf(e)===t}):e.filter(function(e){e=r(e);return!function(e,t){if(u(t))return;return e.some(function(e){return m(e,t)})}(n,e)&&(n.push(e),!0)})):e}}function D(){return function(e){return c(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),n.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return n.isUndefined(e)}}).filter("isDefined",function(){return function(e){return n.isDefined(e)}}).filter("isFunction",function(){return function(e){return n.isFunction(e)}}).filter("isString",function(){return function(e){return n.isString(e)}}).filter("isNumber",function(){return function(e){return n.isNumber(e)}}).filter("isArray",function(){return function(e){return n.isArray(e)}}).filter("isObject",function(){return function(e){return n.isObject(e)}}).filter("isEqual",function(){return function(e,t){return n.equals(e,t)}}),n.module("a8m.conditions",[]).filter({isGreaterThan:e,">":e,isGreaterThanOrEqualTo:t,">=":t,isLessThan:k,"<":k,isLessThanOrEqualTo:x,"<=":x,isEqualTo:S,"==":S,isNotEqualTo:_,"!=":_,isIdenticalTo:C,"===":C,isNotIdenticalTo:E,"!==":E}),n.module("a8m.is-null",[]).filter("isNull",function(){return v}),n.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){var n;return e=p(e)?g(e):e,!f(e)||u(t)?e:(n=e.map(function(e){return r(t,e)}).indexOf(!0),e.slice(-1===n?0:n))}}),n.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=p(e)?g(e):e,f(e)?e.slice(t):e}}),n.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){var n;return e=p(e)?g(e):e,!f(e)||u(t)?e:(n=e.map(function(e){return r(t,e)}).indexOf(!0),e.slice(0,-1===n?e.length:++n))}}),n.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=p(e)?g(e):e,f(e)?e.slice(0,t&&--t):e}}),n.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(i){return function(e,t,n){return i.isMemoized("chunkBy",arguments)||i.memoize("chunkBy",arguments,this,(r=t,a=n,f(t=e)?t.map(function(e,t,n){return e=n.slice(t*=r,t+r),!u(a)&&e.length<r?e.concat(function(e,t){var n=[];for(;e--;)n[e]=t;return n}(r-e.length,a)):e}).slice(0,Math.ceil(t.length/r)):t));var r,a}}]),n.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){var n;return u(t)?e:f(e)?p(t)?e.concat(g(t)):e.concat(t):p(e)?(n=g(e),p(t)?n.concat(g(t)):n.concat(t)):e}}]),n.module("a8m.contains",[]).filter({contains:["$parse",T],some:["$parse",T]}),n.module("a8m.count-by",[]).filter("countBy",["$parse",function(i){return function(e,t){var n,r={},a=i(t);return e=p(e)?g(e):e,!f(e)||u(t)?e:(e.forEach(function(e){n=a(e),r[n]||(r[n]=0),r[n]++}),r)}}]),n.module("a8m.defaults",[]).filter("defaults",["$parse",function(a){return function(e,r){var t;return e=p(e)?g(e):e,f(e)&&p(r)&&(t=function t(n,r,a){return r=r||[],Object.keys(n).forEach(function(e){p(n[e])&&!f(n[e])?t(n[e],r,a&&a+"."+e||e):r.push(a?a+"."+e:e)}),r}(r),e.forEach(function(n){t.forEach(function(e){var e=a(e),t=e.assign;u(e(n))&&t(n,e(r))})})),e}}]),n.module("a8m.every",[]).filter("every",["$parse",function(n){return function(e,t){return e=p(e)?g(e):e,!(f(e)&&!u(t))||e.every(function(e){return p(e)||l(t)?n(t)(e):e===t})}}]),n.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(o){return function(e,n,r,a){var i;return r=c(r)||d(r)?String(r).toLowerCase():s,e=p(e)?g(e):e,!f(e)||u(r)?e:e.filter(function(t){return n.some(function(e){return i=~e.indexOf("+")?e.replace(/\s+/g,"").split("+").map(function(e){return o(e)(t)}).join(" "):o(e)(t),!(!c(i)&&!d(i))&&(i=String(i).toLowerCase(),a?i===r:i.contains(r))})})}}]),n.module("a8m.first",[]).filter("first",["$parse",function(a){return function(e){var t,n,r;return e=p(e)?g(e):e,f(e)?(r=Array.prototype.slice.call(arguments,1),t=d(r[0])?r[0]:1,n=d(r[0])?d(r[1])?s:r[1]:r[0],r.length?y(e,t,n&&a(n)):e[0]):e}}]),n.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=p(e)?g(e):e,f(e)?t?[].concat.apply([],e):function e(t,n){n=n||0;if(n>=t.length)return t;if(f(t[n]))return e(t.slice(0,n).concat(t[n],t.slice(n+1)),n);return e(t,n+1)}(e,0):e}}),n.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(s){return function(e,t,n,r){var a,i,o=r||!1;return e=p(e)?g(e):e,!f(e)||u(t)||u(n)?e:(i=s(t),e.filter(function(e){return a=i(e),!!c(a)&&(a=o?a:a.toLowerCase(),n=o?n:n.toLowerCase(),!1!==b(a,n))}))}}]),n.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,i,t){var o=t||!1;return e=p(e)?g(e):e,!f(e)||u(i)?e:(i=o?i:i.toLowerCase(),e.filter(function(e){return c(e)?!1!==b(e=o?e:e.toLowerCase(),i):!!p(e)&&(t=e,n=i,0<Object.keys(t).filter(function(e){return r=t[e],!!a||!!c(r)&&(r=o?r:r.toLowerCase(),a=!1!==b(r,n))}).length);var t,n,r,a}))}}),n.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(i,o){return function(e,t){return!p(e)||u(t)?e:o.isMemoized("groupBy",arguments)||o.memoize("groupBy",arguments,this,(e=e,n=i(t),a={},h(e,function(e){r=n(e),a[r]||(a[r]=[]),a[r].push(e)}),a));var n,r,a}}]),n.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return p(e)?!g(e).length:!e.length}}),n.module("a8m.join",[]).filter("join",function(){return function(e,t){return u(e)||!f(e)?e:(u(t)&&(t=" "),e.join(t))}}),n.module("a8m.last",[]).filter("last",["$parse",function(a){return function(e){var t,n,r,e=o(e),e=p(e)?g(e):e;return f(e)?(r=Array.prototype.slice.call(arguments,1),t=d(r[0])?r[0]:1,n=d(r[0])?d(r[1])?s:r[1]:r[0],r.length?y(e.reverse(),t,n&&a(n)).reverse():e[e.length-1]):e}}]),n.module("a8m.map",[]).filter("map",["$parse",function(n){return function(e,t){return e=p(e)?g(e):e,!f(e)||u(t)?e:e.map(function(e){return n(t)(e)})}}]),n.module("a8m.omit",[]).filter("omit",["$parse",function(n){return function(e,t){return e=p(e)?g(e):e,!f(e)||u(t)?e:e.filter(function(e){return!n(t)(e)})}}]),n.module("a8m.pick",[]).filter("pick",["$parse",function(n){return function(e,t){return e=p(e)?g(e):e,!f(e)||u(t)?e:e.filter(function(e){return n(t)(e)})}}]),n.module("a8m.range",[]).filter("range",function(){return function(e,t,n,r,a){n=n||0,r=r||1;for(var i=0;i<parseInt(t);i++){var o=n+i*r;e.push(l(a)?a(o):o)}return e}}),n.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return u(t)?e:(e=p(e)?g(e):e).filter(function(e){return!r(t,e)})}}),n.module("a8m.remove",[]).filter("remove",function(){return function(e){e=p(e)?g(e):e;var n=Array.prototype.slice.call(arguments,1);return f(e)?e.filter(function(t){return!n.some(function(e){return m(e,t)})}):e}}),n.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=p(e)?g(e):e,c(e)?e.split("").reverse().join(""):f(e)?e.slice().reverse():e}}]),n.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(e){e=p(e)?g(e):e;var n,r=Array.prototype.slice.call(arguments,1);return f(e)&&r.length?e.map(function(t){return n=r.map(function(e){return a(e)(t)}).join(" "),i(t,{searchField:n})}):e}}]),n.module("a8m.to-array",[]).filter("toArray",function(){return function(t,e){return p(t)?e?Object.keys(t).map(function(e){return i(t[e],{$key:e})}):g(t):t}}),n.module("a8m.unique",[]).filter({unique:["$parse",P],uniq:["$parse",P]}),n.module("a8m.where",[]).filter("where",function(){return function(e,t){return u(t)?e:(e=p(e)?g(e):e).filter(function(e){return r(t,e)})}}),n.module("a8m.xor",[]).filter("xor",["$parse",function(i){return function(t,n,r){return r=r||!1,t=p(t)?g(t):t,n=p(n)?g(n):n,f(t)&&f(n)?t.concat(n).filter(function(e){return!(a(e,t)&&a(e,n))}):t;function a(t,e){var n=i(r);return e.some(function(e){return r?m(n(e),n(t)):m(e,t)})}}}]),n.module("a8m.math.abs",[]).filter("abs",function(){return function(e){return Math.abs(e)}}),n.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var r=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,t){r.push({str:e,val:1024*r[t].val})}),function(e,t){if(d(t)&&isFinite(t)&&t%1==0&&0<=t&&d(e)&&isFinite(e)){for(var n=0;n<r.length-1&&e>=r[n].val;)n++;return $(e/=0<n?r[n-1].val:1,t)+" "+r[n].str}return"NaN"}}),n.module("a8m.math.degrees",[]).filter("degrees",function(){return function(e,t){return d(t)&&isFinite(t)&&t%1==0&&0<=t&&d(e)&&isFinite(e)?(e=180*e/Math.PI,Math.round(e*Math.pow(10,t))/Math.pow(10,t)):"NaN"}}),n.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var r=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,t){r.push({str:e,val:1024*r[t].val})}),function(e,t){if(d(t)&&isFinite(t)&&t%1==0&&0<=t&&d(e)&&isFinite(e)){for(var n=0;n<r.length-1&&e>=r[n].val;)n++;return $(e/=0<n?r[n-1].val:1,t)+" "+r[n].str}return"NaN"}}),n.module("a8m.math.max",[]).filter("max",["$parse",function(n){return function(e,t){return f(e)?u(t)?Math.max.apply(Math,e):e[function(e,t){e=e.map(function(e){return n(t)(e)});return e.indexOf(Math.max.apply(Math,e))}(e,t)]:e}}]),n.module("a8m.math.min",[]).filter("min",["$parse",function(n){return function(e,t){return f(e)?u(t)?Math.min.apply(Math,e):e[function(e,t){e=e.map(function(e){return n(t)(e)});return e.indexOf(Math.min.apply(Math,e))}(e,t)]:e}}]),n.module("a8m.math.percent",[]).filter("percent",function(){return function(e,t,n){var r=c(e)?Number(e):e;return t=t||100,n=n||!1,!d(r)||isNaN(r)?e:n?Math.round(r/t*100):r/t*100}}),n.module("a8m.math.radians",[]).filter("radians",function(){return function(e,t){return d(t)&&isFinite(t)&&t%1==0&&0<=t&&d(e)&&isFinite(e)?Math.round(3.14159265359*e/180*Math.pow(10,t))/Math.pow(10,t):"NaN"}}),n.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){return d(e)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?e.toString(t).toUpperCase():e}}),n.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(e,t){return d(t)&&isFinite(t)&&t%1==0&&0<=t&&d(e)&&isFinite(e)?e<1e3?""+e:e<1e6?$(e/1e3,t)+" K":e<1e9?$(e/1e6,t)+" M":$(e/1e9,t)+" B":"NaN"}}),n.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return f(e)?e.reduce(function(e,t){return e+t},t||0):e}}),n.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,n){var r,n=n||!1;return!c(e)||u(t)?e:(r=(e=n?e:e.toLowerCase()).length-t.length,-1!==e.indexOf(n?t:t.toLowerCase(),r))}}),n.module("a8m.latinize",[]).filter("latinize",[function(){for(var e=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],t={},n=0;n<e.length;n++)for(var r=e[n].letters.split(""),a=0;a<r.length;a++)t[r[a]]=e[n].base;return function(e){return c(e)?e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e}):e}}]),n.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){t=t||"\\s";return c(e)?e.replace(new RegExp("^"+t+"+"),""):e}}),n.module("a8m.match",[]).filter("match",function(){return function(e,t,n){t=new RegExp(t,n);return c(e)?e.match(t):null}}),n.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(e){return"("+(e+="").slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6)}}),n.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,n){var r=~~t;return c(e)&&r?function e(t,n,r){if(!n)return t;return t+r+e(t,--n,r)}(e,--t,n||""):e}}]),n.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){t=t||"\\s";return c(e)?e.replace(new RegExp(t+"+$"),""):e}}),n.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){t=u(t)?"-":t;return c(e)?e.toLowerCase().replace(/\s+/g,t):e}}]),n.module("a8m.split",[]).filter("split",function(){return function(e,t,n){var r;return u(e)||!c(e)?null:(u(t)&&(t=""),isNaN(n)&&(n=0),r=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g"),v(r=e.match(r))||n>=r.length?[e]:0===n?e.split(t):(e=(r=e.split(t)).splice(0,n+1),r.unshift(e.join(t)),r))}}),n.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,n){n=n||!1;return!c(e)||u(t)?e:!(e=n?e:e.toLowerCase()).indexOf(n?t:t.toLowerCase())}}),n.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var n=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,t){return u(n[t])?e:n[t]})}}),n.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return c(e)?e.replace(/<\S[^><]*>/g,""):e}}),n.module("a8m.test",[]).filter("test",function(){return function(e,t,n){t=new RegExp(t,n);return c(e)?t.test(e):e}}),n.module("a8m.trim",[]).filter("trim",function(){return function(e,t){t=t||"\\s";return c(e)?e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""):e}}),n.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,n,r){return t=u(t)?e.length:t,r=r||!1,n=n||"",!c(e)||e.length<=t?e:e.substring(0,r?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+n}}),n.module("a8m.ucfirst",[]).filter({ucfirst:D,titleize:D}),n.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(t){return function(e){return c(e)?t.encodeURIComponent(e):e}}]),n.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(t){return function(e){return c(e)?t.encodeURI(e):e}}]),n.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,n){return c(e)&&a(t)?[t,e,n||t].join(""):e}}),n.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(r,a){var i={},o={},s=r.setTimeout;function l(e,t){return[e,JSON.stringify(t,(n=[],function(e,t){if(p(t)&&!v(t)){if(~n.indexOf(t))return"[Circular]";n.push(t)}return r==t?"$WINDOW":r.document==t?"$DOCUMENT":w(t)?"$SCOPE":t}))].join("#").replace(/"/g,"");var n}function c(e){e=e.targetScope.$id;h(o[e],function(e){delete i[e]}),delete o[e]}return{isMemoized:function(e,t){return e=l(e,t),i[e]},memoize:function(e,t,n,r){var e=l(e,t);return i[e]=r,w(n)?(t=e,n=(e=n).$id,u(o[n])&&(e.$on("$destroy",c),o[n]=[]),o[n].push(t)):s(function(){a.$$phase||(i={})},2e3),r}}}]}),n.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}((window,window.angular)),angular.module("md5",[]).constant("md5",function(){var i=0;function e(e){return n(t(r(e)))}function t(e){return o(s(a(e),8*e.length))}function n(e){for(var t,n=i?"0123456789ABCDEF":"0123456789abcdef",r="",a=0;a<e.length;a++)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function r(e){for(var t,n,r="",a=-1;++a<e.length;)t=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function a(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function o(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function s(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,a=-1732584194,i=271733878,o=0;o<e.length;o+=16){var s=n,l=r,c=a,u=i,n=d(n,r,a,i,e[o+0],7,-680876936),i=d(i,n,r,a,e[o+1],12,-389564586),a=d(a,i,n,r,e[o+2],17,606105819),r=d(r,a,i,n,e[o+3],22,-1044525330);n=d(n,r,a,i,e[o+4],7,-176418897),i=d(i,n,r,a,e[o+5],12,1200080426),a=d(a,i,n,r,e[o+6],17,-1473231341),r=d(r,a,i,n,e[o+7],22,-45705983),n=d(n,r,a,i,e[o+8],7,1770035416),i=d(i,n,r,a,e[o+9],12,-1958414417),a=d(a,i,n,r,e[o+10],17,-42063),r=d(r,a,i,n,e[o+11],22,-1990404162),n=d(n,r,a,i,e[o+12],7,1804603682),i=d(i,n,r,a,e[o+13],12,-40341101),a=d(a,i,n,r,e[o+14],17,-1502002290),n=p(n,r=d(r,a,i,n,e[o+15],22,1236535329),a,i,e[o+1],5,-165796510),i=p(i,n,r,a,e[o+6],9,-1069501632),a=p(a,i,n,r,e[o+11],14,643717713),r=p(r,a,i,n,e[o+0],20,-373897302),n=p(n,r,a,i,e[o+5],5,-701558691),i=p(i,n,r,a,e[o+10],9,38016083),a=p(a,i,n,r,e[o+15],14,-660478335),r=p(r,a,i,n,e[o+4],20,-405537848),n=p(n,r,a,i,e[o+9],5,568446438),i=p(i,n,r,a,e[o+14],9,-1019803690),a=p(a,i,n,r,e[o+3],14,-187363961),r=p(r,a,i,n,e[o+8],20,1163531501),n=p(n,r,a,i,e[o+13],5,-1444681467),i=p(i,n,r,a,e[o+2],9,-51403784),a=p(a,i,n,r,e[o+7],14,1735328473),n=f(n,r=p(r,a,i,n,e[o+12],20,-1926607734),a,i,e[o+5],4,-378558),i=f(i,n,r,a,e[o+8],11,-2022574463),a=f(a,i,n,r,e[o+11],16,1839030562),r=f(r,a,i,n,e[o+14],23,-35309556),n=f(n,r,a,i,e[o+1],4,-1530992060),i=f(i,n,r,a,e[o+4],11,1272893353),a=f(a,i,n,r,e[o+7],16,-155497632),r=f(r,a,i,n,e[o+10],23,-1094730640),n=f(n,r,a,i,e[o+13],4,681279174),i=f(i,n,r,a,e[o+0],11,-358537222),a=f(a,i,n,r,e[o+3],16,-722521979),r=f(r,a,i,n,e[o+6],23,76029189),n=f(n,r,a,i,e[o+9],4,-640364487),i=f(i,n,r,a,e[o+12],11,-421815835),a=f(a,i,n,r,e[o+15],16,530742520),n=h(n,r=f(r,a,i,n,e[o+2],23,-995338651),a,i,e[o+0],6,-198630844),i=h(i,n,r,a,e[o+7],10,1126891415),a=h(a,i,n,r,e[o+14],15,-1416354905),r=h(r,a,i,n,e[o+5],21,-57434055),n=h(n,r,a,i,e[o+12],6,1700485571),i=h(i,n,r,a,e[o+3],10,-1894986606),a=h(a,i,n,r,e[o+10],15,-1051523),r=h(r,a,i,n,e[o+1],21,-2054922799),n=h(n,r,a,i,e[o+8],6,1873313359),i=h(i,n,r,a,e[o+15],10,-30611744),a=h(a,i,n,r,e[o+6],15,-1560198380),r=h(r,a,i,n,e[o+13],21,1309151649),n=h(n,r,a,i,e[o+4],6,-145523070),i=h(i,n,r,a,e[o+11],10,-1120210379),a=h(a,i,n,r,e[o+2],15,718787259),r=h(r,a,i,n,e[o+9],21,-343485551),n=m(n,s),r=m(r,l),a=m(a,c),i=m(i,u)}return Array(n,r,a,i)}function l(e,t,n,r,a,i){return m((t=m(m(t,e),m(r,i)))<<a|t>>>32-a,n)}function d(e,t,n,r,a,i,o){return l(t&n|~t&r,e,t,a,i,o)}function p(e,t,n,r,a,i,o){return l(t&r|n&~r,e,t,a,i,o)}function f(e,t,n,r,a,i,o){return l(t^n^r,e,t,a,i,o)}function h(e,t,n,r,a,i,o){return l(n^(t|~r),e,t,a,i,o)}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e}()),function(){var e=function(c){return["gravatarService",function(s){var l=function(e,t){var n,r,a={};for(n in t)r=t[n],0===n.indexOf(e)&&0<(n=n.substr(e.length).toLowerCase()).length&&(a[n]=r);return a};return{restrict:"A",link:function(e,t,n){var r,a,i=c?"gravatarSrcOnce":"gravatarSrc",o=n[i];delete n[i],r=l("gravatar",n),a=e.$watch(o,function(e){t.attr("src",s.url(e,r)),c&&null!=e&&a()})}}}]};angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(n){var r=this,a=/^[0-9a-f]{32}$/i,i=function(e){var t,n,r=[];for(t in e)n=e[t],r.push(t+"="+encodeURIComponent(n));return r.join("&")};return this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(e){var t=e.protocol?e.protocol+":":"",t=[e.secure?"https://secure":t+"//www",".gravatar.com/avatar/",a.test(e.src)?e.src:n(e.src)],e=i(e.params);return 0<e.length&&t.push("?"+e),t.join("")},this.$get=[function(){return{url:function(e,t){return null==e&&(e=""),null==t&&(t={}),r.urlFunc({params:angular.extend(angular.copy(r.defaults),t),protocol:r.protocol,secure:r.secure,src:e})}}}],this}]).directive("gravatarSrc",e()).directive("gravatarSrcOnce",e(!0))}.call(this),function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(e){this.includeCheatSheet=!0,this.useNgRoute=e.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">&#215;</div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(e,i,t,r,n){var a=!0;function u(e,t,n,r,a,i){this.combo=e instanceof Array?e:[e],this.description=t,this.callback=n,this.action=r,this.allowIn=a,this.persistent=i,this._formated=null}Mousetrap.prototype.stopCallback=function(e,t){return!a||!(-1<(" "+t.className+" ").indexOf(" mousetrap "))&&t.contentEditable&&"true"==t.contentEditable},u.prototype.format=function(){if(null===this._formated){for(var e=this.combo[0].split(/[\s]/),t=0;t<e.length;t++)e[t]=function(e){var t={command:"",shift:"",left:"",right:"",up:"",down:"",return:"",backspace:""};e=e.split("+");for(var n=0;n<e.length;n++)"mod"===e[n]&&(r.navigator&&0<=r.navigator.platform.indexOf("Mac")?e[n]="command":e[n]="ctrl"),e[n]=t[e[n]]||e[n];return e.join(" + ")}(e[t]);this._formated=e}return this._formated};var o,d=i.$new(),s=(d.hotkeys=[],d.helpVisible=!1,d.title=this.templateTitle,d.header=this.templateHeader,d.footer=this.templateFooter,d.toggleCheatSheet=p,{});function l(){for(var e=d.hotkeys.length;e--;){var t=d.hotkeys[e];t&&!t.persistent&&h(t)}}this.useNgRoute&&i.$on("$routeChangeSuccess",function(e,n){l(),n&&n.hotkeys&&angular.forEach(n.hotkeys,function(e){var t=e[2];("string"==typeof t||t instanceof String)&&(e[2]=[t,n]),e[5]=!1,f.apply(this,e)})}),this.includeCheatSheet&&(n=n[0],e=e[0],o=angular.element(this.template),f(this.cheatSheetHotkey,this.cheatSheetDescription,p),e!==n&&e!==n.documentElement||(e=n.body),angular.element(e).append(t(o)(d)));var c=!1;function p(){d.helpVisible=!d.helpVisible,d.helpVisible?(c=m("esc"),h("esc"),f("esc",c.description,p,null,["INPUT","SELECT","TEXTAREA"])):(h("esc"),!1!==c&&f(c))}function f(e,t,n,r,a,i){var o=["INPUT","SELECT","TEXTAREA"];if("[object Object]"===Object.prototype.toString.call(e)&&(t=e.description,n=e.callback,r=e.action,i=e.persistent,a=e.allowIn,e=e.combo),h(e),t instanceof Function?(r=n,n=t,t="$$undefined$$"):angular.isUndefined(t)&&(t="$$undefined$$"),void 0===i&&(i=!0),"function"==typeof n){var s,l=n;a instanceof Array||(a=[]);for(var c=0;c<a.length;c++)a[c]=a[c].toUpperCase(),-1!==(s=o.indexOf(a[c]))&&o.splice(s,1);n=function(e){var t=!0;if(e){var e=e.target||e.srcElement,n=e.nodeName.toUpperCase();if(-1<(" "+e.className+" ").indexOf(" mousetrap "))t=!0;else for(var r=0;r<o.length;r++)if(o[r]===n){t=!1;break}}t&&g(l.apply(this,arguments))}}"string"==typeof r?Mousetrap.bind(e,g(n),r):Mousetrap.bind(e,g(n));e=new u(e,t,n,r,a,i);return d.hotkeys.push(e),e}function h(e){var t=e instanceof u?e.combo:e;if(Mousetrap.unbind(t),angular.isArray(t)){for(var n=!0,r=t.length;r--;)n=h(t[r])&&n;return n}var a=d.hotkeys.indexOf(m(t));return-1<a&&(1<d.hotkeys[a].combo.length?d.hotkeys[a].combo.splice(d.hotkeys[a].combo.indexOf(t),1):(angular.forEach(s,function(e){var t=e.indexOf(d.hotkeys[a]);-1!==t&&e.splice(t,1)}),d.hotkeys.splice(a,1)),!0)}function m(e){if(!e)return d.hotkeys;for(var t,n=0;n<d.hotkeys.length;n++)if(-1<(t=d.hotkeys[n]).combo.indexOf(e))return t;return!1}function g(a){return function(e,t){var n,r;a instanceof Array&&(n=a[0],r=a[1],a=function(e){r.scope.$eval(n)}),i.$apply(function(){a(e,m(t))})}}return{add:f,del:h,get:m,bindTo:function(t){return t.$id in s||(s[t.$id]=[],t.$on("$destroy",function(){for(var e=s[t.$id].length;e--;)h(s[t.$id].pop())})),{add:function(e){e=1<arguments.length?f.apply(this,arguments):f(e);return s[t.$id].push(e),this}}},template:this.template,toggleCheatSheet:p,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:l,templateTitle:this.templateTitle,pause:function(){a=!1},unpause:function(){a=!0}}}]}]).directive("hotkey",["hotkeys",function(i){return{restrict:"A",link:function(e,t,n){var r,a=[];angular.forEach(e.$eval(n.hotkey),function(e,t){r="string"==typeof n.hotkeyAllowIn?n.hotkeyAllowIn.split(/[\s,]+/):[],a.push(t),i.add({combo:t,description:n.hotkeyDescription,callback:e,action:n.hotkeyAction,allowIn:r})}),t.bind("$destroy",function(){angular.forEach(a,i.del)})}}}]).run(["hotkeys",function(e){}])}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="directives.inputMatch"),function(a){"use strict";a.module("directives.inputMatch",[]).directive("match",function(){return{link:function(e,t,n,r){r&&e.$watch(function(){return r.$pristine&&a.isUndefined(r.$modelValue)||e.match===r.$modelValue},function(e){r.$setValidity("match",e)})},require:"?ngModel",restrict:"A",scope:{match:"="}}})}((window,window.angular)),function(t,n){if("function"==typeof define&&define.amd)define(["angular"],function(e){return n(t,e,t.Intercom)});else if("object"==typeof exports){var e=null;try{e=require("intercom")}catch(e){}module.exports=n({},require("angular"),e)}else angular&&n(t,t.angular,t.Intercom)}(this,function(u,d,p){"use strict";function f(e){return e?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():""}p&&u&&!u.Intercom&&(u.Intercom=p);var t,e=u.IntercomSettings||u.intercomSettings,h=!1,m=(d.isFunction(p)?(u.Intercom("reattach_activator"),e&&u.Intercom("update",e),h=!0):((t=function(){t.c(arguments)}).q=[],t.c=function(e){t.q.push(e)},u.Intercom=t),!1);var g={asyncLoading:!1,scriptUrl:"https://widget.intercom.io/widget/",appID:"",development:!1};function n(){var r=this;d.forEach(g,function(t,n){r[n]=function(e){return g[n]=e||t,r}}),r.$get=["$rootScope","$log","IntercomSettings",function(n,e,t){function r(){a={},g.appID&&(a.app_id=a.app_id||g.appID),d.extend(a,t)}var a,i,o;m&&e.warn("Please use consider using either $intercom or Intercom not both"),m=!0;function s(){return u.Intercom.apply(u.Intercom,arguments),s}function l(e,t){s[t]=e,s["$"+t]=function(){return e.apply(p,arguments),n.$$phase||n.$apply(),s}}r(),h&&(u.Intercom("reattach_activator"),u.Intercom("update",a)),g.asyncLoading&&(e=g.scriptUrl,i=g.appID,document)&&((o=document.createElement("script")).type="text/javascript",o.async=!0,o.src=e+i,document.getElementsByTagName("head")[0].appendChild(o)),d.forEach({boot:function(e){return d.extend(a,e||{}),!a.app_id&&g.appID&&(a.app_id=g.appID),e.app_id&&e.app_id!==a.app_id&&(a.app_id=e.app_id),u.Intercom("boot",a),s},update:function(e){return e?(!e.app_id&&g.appID&&(e.app_id=g.appID),e.app_id&&e.app_id!==g.app_id&&(g.app_id=e.app_id),u.Intercom("update",e)):u.Intercom("update"),s},trackEvent:function(e,t){return u.Intercom("trackEvent",e,t),s},showMessages:function(){return u.Intercom("showMessages"),s},showNewMessage:function(e){return e?u.Intercom("showNewMessage",e):u.Intercom("showNewMessage"),s},hideMessages:function(){return u.Intercom("hideMessages"),s},shutdown:function(){return u.Intercom("shutdown"),r(),s},hide:function(){return u.Intercom("hide"),s},show:function(){return u.Intercom("show"),s},getVisitorId:function(){return u.Intercom("getVisitorId")},reattachActivator:function(){return u.Intercom("reattach_activator"),s}},l);var c={show:!0,hide:!0,activatorClick:!0};return s.$on=function(e,t){if(c[e])return u.Intercom("on"+f(e),function(){n.$$phase?t():n.$apply(t)}),s},s.on=function(e,t){if(c[e])return u.Intercom("on"+f(e),t),s},s.$$defineMethod=function(t){t&&l(t,function(){var e=Array.prototype.slice.call(arguments);return u.Intercom.apply(u.Intercom,e.unshift(t)),s})},s}]}return d.module("ngIntercom",[]).value("IntercomSettings",{}).provider("$intercom",n).provider("Intercom",n),d.module("angular-intercom",["ngIntercom"]),d.module("ngIntercom")}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(f){f.interceptors.push(["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,a,n,r,i,o){var s,l=0,c=0,u=o.latencyThreshold;function d(){n.cancel(s),o.complete(),l=c=0}function p(e){var t,n=a.get("$http"),r=f.defaults,r=void 0!==(t=!e.cache&&!r.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method?t:angular.isObject(e.cache)?e.cache:angular.isObject(r.cache)?r.cache:n)&&void 0!==t.get(e.url);return void 0!==e.cached&&r!==e.cached?e.cached:e.cached=r}return{request:function(e){return e.ignoreLoadingBar||p(e)||(r.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===l&&(s=n(function(){o.start()},u)),l++,o.set(c/l)),e},response:function(e){return e&&e.config?e.config.ignoreLoadingBar||p(e.config)||(c++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),l<=c?d():o.set(c/l)):i.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e},responseError:function(e){return e&&e.config?e.config.ignoreLoadingBar||p(e.config)||(c++,r.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),l<=c?d():o.set(c/l)):i.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e)}}}])}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(n,r,a,i){var o,t,s,l=this.parentSelector,c=angular.element(this.loadingBarTemplate),u=c.find("div").eq(0),d=angular.element(this.spinnerTemplate),p=!1,f=0,h=this.autoIncrement,m=this.includeSpinner,g=this.includeBar,v=this.startSize;function b(e){p&&(u.css("width",100*e+"%"),f=e,h)&&(a.cancel(t),t=a(function(){y()},250))}function y(){var e,t;1<=f||(t=(t=0)<=(e=f)&&e<.25?(3*Math.random()+3)/100:.25<=e&&e<.65?3*Math.random()/100:.65<=e&&e<.9?2*Math.random()/100:.9<=e&&e<.99?.005:0,b(f+t))}function e(){return f}function $(){f=0,p=!1}return{start:function(){var e,t;o=o||n.get("$animate"),a.cancel(s),p||(t=(t=(e=r[0]).querySelector?e.querySelector(l):r.find(l)[0])||e.getElementsByTagName("body")[0],e=angular.element(t),t=t.lastChild&&angular.element(t.lastChild),i.$broadcast("cfpLoadingBar:started"),p=!0,g&&o.enter(c,e,t),m&&o.enter(d,e,c),b(v))},set:b,status:e,inc:y,complete:function(){o=o||n.get("$animate"),i.$broadcast("cfpLoadingBar:completed"),b(1),a.cancel(s),s=a(function(){var e=o.leave(c,$);e&&e.then&&e.then($),o.leave(d)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e.angular||window&&window.angular)}):"object"==typeof exports?module.exports=t(e.angular||window&&window.angular):t(e.angular)}(this,function(l){"use strict";return l.module("angular-locker",[]).provider("locker",function(){function i(e,t){return l.isFunction(e)?e(t):e}function o(e){return l.isDefined(e)&&null!==e}function s(e){throw new Error("[angular-locker] "+e)}var r={driver:"local",namespace:"locker",eventsEnabled:!0,separator:".",extend:{}};return{defaults:function(e){if(!o(e))return r;l.forEach(e,function(e,t){r.hasOwnProperty(t)&&(r[t]=e)})},$get:["$window","$rootScope","$parse",function(e,n,a){function t(r){this._options=r,this._registeredDrivers=l.extend({local:e.localStorage,session:e.sessionStorage},r.extend),this._resolveDriver=function(e){return this._registeredDrivers.hasOwnProperty(e)||s('The driver "'+e+'" was not found.'),this._registeredDrivers[e]},this._driver=this._resolveDriver(r.driver),this._namespace=r.namespace,this._separator=r.separator,this._watchers={},this._checkSupport=function(e){if(!o(this._supported))try{this._resolveDriver(e||r.driver).setItem("l","l"),this._resolveDriver(e||r.driver).removeItem("l"),this._supported=!0}catch(e){this._supported=!1}return this._supported},this._getPrefix=function(e){return this._namespace?this._namespace+this._separator+e:e},this._serialize=function(t){try{return l.toJson(t)}catch(e){return t}},this._unserialize=function(t){try{return l.fromJson(t)}catch(e){return t}},this._event=function(e,t){this._options.eventsEnabled&&n.$emit("locker."+e,l.extend(t,{driver:this._options.driver,namespace:this._namespace}))},this._setItem=function(t,e){this._checkSupport()||s('The browser does not support the "'+r.driver+'" driver');try{var n=this._getItem(t);this._driver.setItem(this._getPrefix(t),this._serialize(e)),this._exists(t)&&!l.equals(n,e)?this._event("item.updated",{key:t,oldValue:n,newValue:e}):this._event("item.added",{key:t,value:e})}catch(e){-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(e.name)?s("The browser storage quota has been exceeded"):s('Could not add item with key "'+t+'"')}},this._getItem=function(e){return this._checkSupport()||s('The browser does not support the "'+r.driver+'" driver'),this._unserialize(this._driver.getItem(this._getPrefix(e)))},this._exists=function(e){return this._checkSupport()||s('The browser does not support the "'+r.driver+'" driver'),this._driver.hasOwnProperty(this._getPrefix(i(e)))||!!this._getItem(e)},this._removeItem=function(e){return this._checkSupport()||s('The browser does not support the "'+r.driver+'" driver'),!!this._exists(e)&&(this._driver.removeItem(this._getPrefix(e)),this._event("item.forgotten",{key:e}),!0)}}return t.prototype={put:function(e,t,n){if(!o(e))return!1;if(e=i(e),l.isObject(e))l.forEach(e,function(e,t){this._setItem(t,o(e)?e:n)},this);else{if(!o(t))return!1;var r=this._getItem(e);this._setItem(e,i(t,o(r)?r:n))}return this},add:function(e,t,n){return!this.has(e)&&(this.put(e,t,n),!0)},get:function(e,t){var n;return l.isArray(e)?(n={},l.forEach(e,function(e){this.has(e)&&(n[e]=this._getItem(e))},this),n):this.has(e)?this._getItem(e):2===arguments.length?t:void 0},has:function(e){return this._exists(e)},forget:function(e){return e=i(e),l.isArray(e)?e.map(this._removeItem,this):this._removeItem(e),this},pull:function(e,t){t=this.get(e,t);return this.forget(e),t},all:function(){var r={};return l.forEach(this._driver,function(e,t){var n;this._namespace&&(n=this._namespace+this._separator,0===t.indexOf(n))&&(t=t.substring(n.length)),this.has(t)&&(r[t]=this.get(t))},this),r},keys:function(){return Object.keys(this.all())},clean:function(){return this.forget(this.keys())},empty:function(){return this._driver.clear(),this},count:function(){return this.keys().length},bind:function(e,t,n){o(e.$eval(t))||(a(t).assign(e,this.get(t,n)),this.add(t,n));var r=this;return this._watchers[t+e.$id]=e.$watch(t,function(e){r.put(t,e)},l.isObject(e[t])),this},unbind:function(e,t){a(t).assign(e,void 0),this.forget(t);t+=e.$id;return this._watchers[t]&&(this._watchers[t](),delete this._watchers[t]),this},driver:function(e){return this.instance(l.extend(this._options,{driver:e}))},getDriver:function(){return this._driver},namespace:function(e){return this.instance(l.extend(this._options,{namespace:e}))},getNamespace:function(){return this._namespace},supported:function(e){return this._checkSupport(e)},instance:function(e){return new t(e)}},new t(r)}]}}).name}),function(e){"use strict";var k,f,s,r;function t(p){return["$animate",function(d){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(e,r,t,a,n){var i,o,s,l,c,u;p||(o=r[0],s=t.ngMessage||t.when,l=function(e){i=e?f(e)?e:e.split(/[\s,]+/):null,a.reRender()},(t=t.ngMessageExp||t.whenExp)?(l(e.$eval(t)),e.$watchCollection(t,l)):l(s)),a.register(o,u={test:function(e){var t=i;if(t)return f(t)?0<=t.indexOf(e):t.hasOwnProperty(e)},attach:function(){c||n(function(e,t){d.enter(e,null,r);var n=(c=e).$$attachId=a.getAttachId();c.on("$destroy",function(){c&&c.$$attachId===n&&(a.deregister(o,p),u.detach()),t.$destroy()})})},detach:function(){var e;c&&(e=c,c=null,d.leave(e))}},p),e.$on("$destroy",function(){a.deregister(o,p)})}}}]}e.module("ngMessages",[],function(){k=e.forEach,f=e.isArray,s=e.isString,r=e.element}).info({angularVersion:"1.8.3"}).directive("ngMessages",["$animate",function(b){var y="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(p,f,h){var m,g,v=this,i=0,e=0,o=(this.getAttachId=function(){return e++},this.messages={});function s(e,t){for(var n=t,r=[];n&&n!==e;){var a=n.$$ngMessageNode;if(a&&a.length)return o[a];n.childNodes.length&&-1===r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}this.render=function(e){m=!1,g=e=e||{};for(var t=$(f,h.ngMessagesMultiple)||$(f,h.multiple),n=[],r={},a=0,i=v.head,o=!1,s=0;null!=i;){s++;var l=i.message,c=!1;o||k(e,function(e,t){w(e)&&!c&&(a++,l.test(t))&&!r[t]&&(c=r[t]=!0,l.attach())}),c?o=!t:n.push(l),i=i.next}k(n,function(e){e.detach()});var u=n.length!==s,d=v.default&&!u&&0<a;d?v.default.attach():v.default&&v.default.detach(),u||d?b.setClass(p,"ng-active",y):b.setClass(p,y,"ng-active")},f.$watchCollection(h.ngMessages||h.for,v.render),this.reRender=function(){m||(m=!0,f.$evalAsync(function(){m&&g&&v.render(g)}))},this.register=function(e,t,n){var r,a;n?v.default=t:(n=i.toString(),o[n]={message:t},t=p[0],r=e,a=o[a=n],v.head?(t=s(t,r))?(a.next=t.next,t.next=a):(a.next=v.head,v.head=a):v.head=a,e.$$ngMessageNode=n,i++),v.reRender()},this.deregister=function(e,t){var n,r;t?delete v.default:(t=e.$$ngMessageNode,delete e.$$ngMessageNode,n=p[0],e=e,(r=o[r=t])&&((n=s(n,e))?n.next=r.next:v.head=r.next),delete o[t]),v.reRender()}}]};function $(e,t){return s(t)&&0===t.length||w(e.$eval(t))}function w(e){return s(e)?e.length:!!e}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,n,i){return{restrict:"AE",require:"^^ngMessages",link:function(t,n,e){var r=e.ngMessagesInclude||e.src;a(r).then(function(e){t.$$destroyed||(s(e)&&!e.trim()?o(n,r):i(e)(t,function(e){n.after(e),o(n,r)}))})}};function o(e,t){t=i.$$createComment?i.$$createComment("ngMessagesInclude",t):n[0].createComment(" ngMessagesInclude: "+t+" "),t=r(t);e.after(t),e.remove()}}]).directive("ngMessage",t()).directive("ngMessageExp",t()).directive("ngMessageDefault",t(!0))}((window,window.angular)),angular.module("angularPayments",[]),angular.module("angularPayments").factory("Common",[function(){var e={parseExpiry:function(e){var t=(e=(e=(e=e||"").replace(/\s/g,"")).split("/",2))[0];return(e=e[1])&&2===e.length&&/^\d+$/.test(e)&&(e=(new Date).getFullYear().toString().slice(0,2)+e),{month:parseInt(t,10),year:e=parseInt(e,10)}}};return e}]),angular.module("angularPayments").factory("Cards",[function(){var e=/(\d{1,4})/g,t=/(?:^|\s)(\d{4})$/,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:e,inputFormat:t,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:e,inputFormat:t,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:e,inputFormat:t,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:e,inputFormat:t,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:e,inputFormat:t,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:e,inputFormat:t,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:e,inputFormat:t,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,inputFormat:/^(\d{4}|\d{4}\s\d{6})$/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:e,inputFormat:t,length:[13,14,15,16],cvcLength:[3],luhn:!0}];return{fromNumber:function(e){var t,n,r,a=e;for(a=(e+"").replace(/\D/g,""),n=0,r=i.length;n<r;n++)if((t=i[n]).pattern.test(a))return t},fromType:function(e){for(var t,n=e,r=0,a=i.length;r<a;r++)if((t=i[r]).type===n)return t},defaultFormat:function(){return e},defaultInputFormat:function(){return t}}}]),angular.module("angularPayments").factory("_Format",["Cards","Common","$filter",function(l,t,n){function r(e){return null!==e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")||!!document.selection}function c(e){var t=String.fromCharCode(e.which);return!/^\d+$/.test(t)&&!e.metaKey&&0!==e.charCode&&!e.ctrlKey}function a(e){var t,n=String.fromCharCode(e.which),r=angular.element(e.currentTarget),a=r.val(),i=l.fromNumber(a+n),o=(a.replace(/\D/g,"")+n).length,s=16;if(8!==e.which&&0!==e.which)if(i&&(s=i.length[i.length.length-1]),c(e))e.preventDefault();else if(!(null!==r.prop("selectionStart")&&r.prop("selectionStart")!==a.length||(t=l.defaultInputFormat(),i&&(t=i.inputFormat),s<=o)))return t.test(a)?(e.preventDefault(),r.val(a+" "+n)):t.test(a+n)?(e.preventDefault(),r.val(a+n+" ")):void 0}function i(e){var t=angular.element(e.currentTarget),n=String.fromCharCode(e.which);8!==e.which&&0!==e.which&&(/^\d+$/.test(n)?r(t)||(t=(t.val()+n).replace(/\D/g,""),(n=l.fromNumber(t))?t.length>n.length[n.length.length-1]&&e.preventDefault():16<t.length&&e.preventDefault()):e.preventDefault())}function o(e){var t=angular.element(e.currentTarget),n=t.val();if(!e.metaKey&&8===e.which&&(null===t.prop("selectionStart")||t.prop("selectionStart")===n.length))return/\d\s$/.test(n)&&!e.metaKey&&46<=e.keyCode?(e.preventDefault(),t.val(n.replace(/\d\s$/,""))):/\s\d?$/.test(n)?(e.preventDefault(),t.val(n.replace(/\s\d?$/,""))):void 0}function s(e){var t,n=l.fromNumber(e);return n?(t=n.length[n.length.length-1],e=(e=e.replace(/\D/g,"")).slice(0,+t+1||9e9),n.format.global?null!==(t=e.match(n.format))?t.join(" "):void 0:(null!==(t=n.format.exec(e))&&t.shift(),null!==t?t.join(" "):void 0)):e}function u(n){return setTimeout(function(){var e=angular.element(n.target),t=e.val();return t=s(t),e.val(t)})}function d(e){return null!=e?e.replace(/\s/g,""):e}function p(e){var t=angular.element(e.currentTarget),n=String.fromCharCode(e.which);8===e.which||0===e.which||!c(e)&&(r(t)||(t.val()+n).length<=4)||e.preventDefault()}function f(e){var t=angular.element(e.currentTarget),n=String.fromCharCode(e.which);c(e)?e.preventDefault():r(t)||6<(t.val()+n).replace(/\D/g,"").length&&e.preventDefault()}function h(e){var t,n=String.fromCharCode(e.which);if(!c(e))return n=(t=angular.element(e.currentTarget)).val()+n,/^\d$/.test(n)&&"0"!==n&&"1"!==n?(e.preventDefault(),t.val("0"+n+" / ")):/^\d\d$/.test(n)?(e.preventDefault(),t.val(n+" / ")):void 0;e.preventDefault()}function m(e){var t;if(String.fromCharCode(e.which),!c(e))return t=(e=angular.element(e.currentTarget)).val(),/^\d\d$/.test(t)?e.val(t+" / "):void 0}function g(e){var t=String.fromCharCode(e.which);if("/"===t)return e=(t=angular.element(e.currentTarget)).val(),/^\d$/.test(e)&&"0"!==e?t.val("0"+e+" / "):void 0}function v(e){var t,n;if(!(e.meta||e.metaKey||(n=(t=angular.element(e.currentTarget)).val(),8!==e.which)||null!==t.prop("selectionStart")&&t.prop("selectionStart")!==n.length))return/\d(\s|\/)+$/.test(n)?(e.preventDefault(),t.val(n.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(n)?(e.preventDefault(),t.val(n.replace(/\s\/\s?\d?$/,""))):void 0}function b(e){return null!==e?(e=t.parseExpiry(e),e=new Date(e.year,e.month-1),n("date")(e,"MM/yyyy")):null}function y(e){return null!==e?(e=t.parseExpiry(e),e=new Date(e.year,e.month-1),n("date")(e,"MM / yyyy")):null}var $={};$.card=function(e,t){e.bind("keypress",i),e.bind("keypress",a),e.bind("keydown",o),e.bind("paste",u),t.$parsers.push(d),t.$formatters.push(s)},$.cvc=function(e){e.bind("keypress",p)};return $.expiry=function(e,t){e.bind("keypress",f),e.bind("keypress",h),e.bind("keypress",g),e.bind("keypress",m),e.bind("keydown",v),t.$parsers.push(b),t.$formatters.push(y)},function(e,t,n){if($[e])return $[e](t,n);throw t='Unknown type for formatting: "'+e+'". ',t+='Should be one of: "'+Object.keys($).join('", "')+'"'}}]).directive("paymentsFormat",["$window","_Format",function(e,a){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){a(n.paymentsFormat,t,r)}}}]),angular.module("angularPayments").factory("_Validate",["Cards","Common","$parse",function(l,n,c){var u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i={cvc:function(e,t,n,r){var a;return!e||!!/^\d+$/.test(e)&&((a=r.paymentsTypeModel?c(r.paymentsTypeModel)(n):a)?(r=e.length,0<=u.call(null!==(n=l.fromType(a))?n.cvcLength:void 0,r)):3<=e.length&&e.length<=4)}};return i.card=function(e,t,n,r){function a(){o&&o.assign(n,null),t.$card=null}var i,o;r.paymentsTypeModel&&(o=c(r.paymentsTypeModel));if(!e)return a(),!0;if(e=(e+"").replace(/\s+|-/g,""),!/^\d+$/.test(e))return a(),!1;if(!(r=l.fromNumber(e)))return a(),!1;t.$card=angular.copy(r),o&&o.assign(n,r.type);var s=16;return"amex"===r.type&&(s=15),i=e.length,0<=u.call(r.length,i)&&e.length===s&&(!1===r.luhn||function(e){for(var t,n=!0,r=0,a=(e+"").split("").reverse(),i=0,o=a.length;i<o;i++)t=a[i],t=parseInt(t,10),(n=!n)&&(t*=2),9<t&&(t-=9),r+=t;return r%10==0}(e))},i.expiry=function(e){var t;return!e||(t=(e=n.parseExpiry(e)).month,e=e.year,!(!t||!e||!/^\d+$/.test(t)||!/^\d+$/.test(e)||12<parseInt(t,10))&&(2===e.length&&(e=(new Date).getFullYear().toString().slice(0,2)+e),e=new Date(e,t),t=new Date,e.setMonth(e.getMonth()-1),e.setMonth(e.getMonth()+1,1),t<e))},function(e,t,n,r,a){if(i[e])return i[e](t,n,r,a);throw t='Unknown type for validation: "'+e+'". ',t+='Should be one of: "'+Object.keys(i).join('", "')+'"'}}]).factory("_ValidateWatch",["_Validate",function(o){var a={cvc:function(n,r,a,i){i.paymentsTypeModel&&a.$watch(i.paymentsTypeModel,function(e,t){e!==t&&(e=o(n,r.$modelValue,r,a,i),r.$setValidity(n,e))})}};return function(e,t,n,r){if(a[e])return a[e](e,t,n,r)}}]).directive("paymentsValidate",["$window","_Validate","_ValidateWatch",function(e,o,s){return{restrict:"A",require:"ngModel",link:function(n,e,r,a){function t(e){var t=o(i,e,a,n,r);return a.$setValidity(i,t),t?e:void 0}var i=r.paymentsValidate;s(i,a,n,r);a.$formatters.push(t),a.$parsers.push(t)}}}]).directive("paymentsLength",[function(){return{require:"ngModel",link:function(r,e,a,i){i.$parsers.push(function(e){var t,n;return"card"===a.paymentsLength&&(t="",n="amex"===r.type?15:16,i.$viewValue&&(t=i.$viewValue.replace(/\s/g,"")),i.$setValidity("length",t.length>=n)),e})}}}]),angular.module("angularPayments").directive("stripeForm",["$window","$parse","Common",function(o,e,s){return{restrict:"A",link:function(r,e,a){if(!o.Stripe)throw"stripeForm requires that you have stripe.js installed. Include https://js.stripe.com/v2/ into your html.";var i=angular.element(e);i.bind("submit",function(){var e=!!r.expMonth,t=!!r.expYear,n=(e&&t||(e=s.parseExpiry(r.expiry),r.expMonth=e.month,r.expYear=e.year),i.find("button"));n.prop("disabled",!0),i.hasClass("ng-valid")?o.Stripe.createToken(function(e){var t,n=["number","expMonth","expYear","cvc","name","addressLine1","addressLine2","addressCity","addressState","addressZip","addressCountry"],r={};for(t in n)e.hasOwnProperty(n[t])&&(r[n[t].replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})]=angular.copy(e[n[t]]));return r.number=(r.number||"").replace(/ /g,""),r}(r),function(){var e=arguments;r.$apply(function(){r[a.stripeForm].apply(r,e)}),n.prop("disabled",!1)}):(r.$apply(function(){r[a.stripeForm].apply(r,[400,{error:"Invalid form submitted."}])}),n.prop("disabled",!1)),r.expMonth=null,r.expYear=null})}}}]),function(s){"use strict";var q=s.$$minErr("$resource"),l=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function H(e,t){if(null==(n=t)||""===n||"hasOwnProperty"===n||!l.test("."+n))throw q("badmember",'Dotted member path "@{0}" is invalid.',t);for(var n,r=t.split("."),a=0,i=r.length;a<i&&s.isDefined(e);a++){var o=r[a];e=null!==e?e[o]:void 0}return e}function V(e,n){for(var t in n=n||{},s.forEach(n,function(e,t){delete n[t]}),e)!e.hasOwnProperty(t)||"$"===t.charAt(0)&&"$"===t.charAt(1)||(n[t]=e[t])}s.module("ngResource",["ng"]).info({angularVersion:"1.8.3"}).provider("$resource",function(){var p=/^https?:\/\/\[[^\]]*][^/]*/,o=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(O,r,I,N){var j=s.noop,F=s.forEach,z=s.extend,L=s.copy,R=s.isArray,c=s.isDefined,U=s.isFunction,a=s.isNumber,u=s.$$encodeUriQuery,d=s.$$encodeUriSegment;function i(e,t){this.template=e,this.defaults=z({},o.defaults,t),this.urlParams={}}return i.prototype={setUrlParams:function(n,r,e){var a,i,o=this,s=e||o.template,t="",l=o.urlParams=Object.create(null);F(s.split(/\W/),function(e){if("hasOwnProperty"===e)throw q("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(s)&&(l[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(s)})}),s=(s=s.replace(/\\:/g,":")).replace(p,function(e){return t=e,""}),r=r||{},F(o.urlParams,function(e,t){a=(r.hasOwnProperty(t)?r:o.defaults)[t],s=c(a)&&null!==a?(i=e.isQueryParamValue?u(a,!0):d(a),s.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return i+t})):s.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s=(s=o.defaults.stripTrailingSlashes?s.replace(/\/+$/,"")||"/":s).replace(/\/\.(?=\w+($|\?))/,"."),n.url=t+s.replace(/\/(\\|%5C)\./,"/."),F(r,function(e,t){o.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},function(e,P,t,n){var D=new i(e,n);function M(e){return e.resource}function A(e){V(e||{},this)}return t=z({},o.defaults.actions,t),A.prototype.toJSON=function(){var e=z({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},F(t,function(S,_){var C=!0===S.hasBody||!1!==S.hasBody&&/^(POST|PUT|PATCH)$/i.test(S.method),E=S.timeout,T=(c(S.cancellable)?S:D.defaults).cancellable;E&&!a(E)&&(r.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete S.timeout,E=null),A[_]=function(e,t,n,r){var a,i,o,s={};switch(arguments.length){case 4:o=r,i=n;case 3:case 2:if(!U(t)){s=e,a=t,i=n;break}if(U(e)){i=e,o=t;break}i=t,o=n;case 1:U(e)?i=e:C?a=e:s=e;break;case 0:break;default:throw q("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var l,c,u,d,p,f,h=this instanceof A,m=h?a:S.isArray?[]:new A(a),g={},v=S.interceptor&&S.interceptor.request||void 0,b=S.interceptor&&S.interceptor.requestError||void 0,y=S.interceptor&&S.interceptor.response||M,$=S.interceptor&&S.interceptor.responseError||I.reject,w=i?function(e){i(e,u.headers,u.status,u.statusText)}:void 0,k=o||void 0,x=(F(S,function(e,t){switch(t){default:g[t]=L(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!h&&T&&(l=I.defer(),g.timeout=l.promise,E)&&(c=N(l.resolve,E)),C&&(g.data=a),D.setUrlParams(g,z({},(d=a,p=S.params||{},f={},p=z({},P,p),F(p,function(e,t){U(e)&&(e=e(d)),f[t]=e&&e.charAt&&"@"===e.charAt(0)?H(d,e.substr(1)):e}),f),s),S.url),I.resolve(g).then(v).catch(b).then(O));return(x=(x=x.then(function(e){var t,n=e.data;if(n){if(R(n)!==!!S.isArray)throw q("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",_,S.isArray?"array":"object",R(n)?"array":"object",g.method,g.url);S.isArray?(m.length=0,F(n,function(e){"object"==typeof e?m.push(new A(e)):m.push(e)})):(t=m.$promise,V(n,m),m.$promise=t)}return e.resource=m,y(u=e)},function(e){return e.resource=m,$(u=e)})).finally(function(){m.$resolved=!0,!h&&T&&(m.$cancelRequest=j,N.cancel(c),l=c=g.timeout=null)})).then(w,k),h?x:(m.$promise=x,m.$resolved=!1,T&&(m.$cancelRequest=function(e){x.catch(j),null!==l&&l.resolve(e)}),m)},A.prototype["$"+_]=function(e,t,n){U(e)&&(n=t,t=e,e={});e=A[_].call(this,e,this,t,n);return e.$promise||e}}),A}}]})}((window,window.angular)),function(y,k){"use strict";var $,w,x,S,_,C,E,T,P,D,M=k.$$minErr("$sanitize");k.module("ngSanitize",[]).provider("$sanitize",function(){var t=!1,r=!1,n=(this.$get=["$$sanitizeUri",function(n){return t=!0,r&&w(u,l),function(e){var t=[];return P(e,D(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(e){return _(e)?(r=e,this):r},this.addValidElements=function(e){return t||(S(e)&&(e={htmlElements:e}),m(l,e.svgElements),m(s,e.htmlVoidElements),m(u,e.htmlVoidElements),m(u,e.htmlElements)),this},this.addValidAttrs=function(e){return t||w(p,h(e,!0)),this},$=k.bind,w=k.extend,x=k.forEach,S=k.isArray,_=k.isDefined,C=k.$$lowercase,E=k.noop,P=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=g(e);if(!n)return"";var r=5;do{if(0===r)throw M("uinput","Failed to sanitize html because the input is unstable")}while(r--,e=n.innerHTML,n=g(e),e!==n.innerHTML);var a,i=n.firstChild;for(;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),function(e){for(var t={},n=0,r=e.length;n<r;n++){var a=e[n];t[a.name]=a.value}return t}(i.attributes));break;case 3:t.chars(i.textContent)}if(!((a=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),a=b("nextSibling",i))))for(;null==a&&(i=b("parentNode",i))!==n;)a=b("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=a}for(;i=n.firstChild;)n.removeChild(i)},D=function(e,i){var t=!1,o=$(e,e.push);return{start:function(a,e){a=C(a),(t=!t&&c[a]?a:t)||!0!==u[a]||(o("<"),o(a),x(e,function(e,t){var n=C(t),r="img"===a&&"src"===n||"background"===n;!0!==p[n]||!0===d[n]&&!i(e,r)||(o(" "),o(t),o('="'),o(v(e)),o('"'))}),o(">"))},end:function(e){e=C(e),t||!0!==u[e]||!0===s[e]||(o("</"),o(e),o(">")),e==t&&(t=!1)},chars:function(e){t||o(v(e))}}},T=y.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},/[\uD800-\uDBFF][\uDC00-\uDFFF]/g),a=/([^#-~ |!])/g,s=f("area,br,col,hr,img,wbr"),e=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),i=f("rp,rt"),o=w({},i,e),e=w({},e,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),i=w({},i,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),l=f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),c=f("script,style"),u=w({},s,e,i,o),d=f("background,cite,href,longdesc,src,xlink:href,xml:base"),e=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),i=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),p=w({},d,i,e);function f(e,t){return h(e.split(","),t)}function h(e,t){for(var n={},r=0;r<e.length;r++)n[t?C(e[r]):e[r]]=!0;return n}function m(e,t){t&&t.length&&w(e,h(t))}var g=function(n,t){if(function(){try{return a("")}catch(e){}}())return a;var e,r;if(t&&t.implementation)return e=t.implementation.createHTMLDocument("inert"),r=(e.documentElement||e.getDocumentElement()).querySelector("body"),function(e){r.innerHTML=e,t.documentMode&&function e(t){for(;t;){if(t.nodeType===y.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,a=n.length;r<a;r++){var i=n[r],o=i.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(i),r--,a--)}var s=t.firstChild;s&&e(s),t=b("nextSibling",t)}}(r);return r};throw M("noinert","Can't create an inert html document");function a(e){e="<remove></remove>"+e;try{var t=(new n.DOMParser).parseFromString(e,"text/html").body;return t.firstChild.remove(),t}catch(e){}}}(y,y.document);function v(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(a,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e,t){e=t[e];if(e&&T.call(t,e))throw M("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return e}}).info({angularVersion:"1.8.3"}),k.module("ngSanitize").filter("linky",["$sanitize",function(h){var m=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,g=/^mailto:/i,v=k.$$minErr("linky"),b=k.isDefined,y=k.isFunction,$=k.isObject,w=k.isString;return function(e,t,n){if(null==e||""===e)return e;if(!w(e))throw v("notstring","Expected string but received: {0}",e);for(var r,a,i,o=y(n)?n:$(n)?function(){return n}:function(){return{}},s=e,l=[];r=s.match(m);){a=r[0],r[2]||r[4]||(a=(r[3]?"http://":"mailto:")+a),i=r.index,f(s.substr(0,i)),p=c=d=u=void 0;var c,u=a,d=r[0].replace(g,""),p=o(u);for(c in l.push("<a "),p)l.push(c+'="'+p[c]+'" ');!b(t)||"target"in p||l.push('target="',t,'" '),l.push('href="',u.replace(/"/g,"&quot;"),'">'),f(d),l.push("</a>"),s=s.substring(i+r[0].length)}return f(s),h(l.join(""));function f(e){var t;e&&l.push((e=e,D(t=[],E).chars(e),t.join("")))}}}])}(window,window.angular),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():e()}(function(){function e(t){"use strict";function e(){var e=t.preferredLanguage();angular.isString(e)?t.use(e):r.put(n,t.use())}var n=t.storageKey(),r=t.storage();e.displayName="fallbackFromIncorrectStorageValue",r?r.get(n)?t.use(r.get(n)).catch(e):e():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function t(e,i,o,a){"use strict";function t(){if(angular.isFunction(a.getLocale))return a.getLocale();var e,t,n=i.$get().navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(e=0;e<n.languages.length;e++)if((t=n.languages[e])&&t.length)return t;for(e=0;e<r.length;e++)if((t=n[r[e]])&&t.length)return t;return null}function O(){var e=t()||"";return e=s[r]?s[r](e):e}function I(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function N(){return this.toString().replace(/^\s+|\s+$/g,"")}function c(e){return angular.isString(e)?e.toLowerCase():e}function j(e){if(e){for(var t,n,r=[],a=c(e),i=0,o=Z.length;i<o;i++)r.push(c(Z[i]));if(-1<(i=I(r,a)))return Z[i];if(u)for(n in u)if(u.hasOwnProperty(n)){var s=!1,l=Object.prototype.hasOwnProperty.call(u,n)&&c(n)===c(e);if("*"===n.slice(-1)&&(s=c(n.slice(0,-1))===c(e.slice(0,n.length-1))),(l||s)&&(t=u[n],-1<I(r,c(t))))return t}a=e.split("_");return 1<a.length&&-1<I(r,c(a[0]))?a[0]:void 0}}function F(e,t){if(!e&&!t)return J;if(e&&!t){if(angular.isString(e))return J[e]}else angular.isObject(J[e])||(J[e]={}),angular.extend(J[e],le(t));return this}function z(e){return e?(Q=e,this):n?n+Q:Q}var L,u,R,U,q,H,V,n,Y,ce,B,W,G,K,X,ue,J={},Z=[],Q=e,ee=[],te="translate-cloak",de=!1,ne=!1,re=!0,ae=".",ie=!1,pe=!1,oe=0,se=!0,r="default",s={default:function(e){return(e||"").split("-").join("_")},java:function(e){var e=(e||"").split("-").join("_"),t=e.split("_");return 1<t.length?t[0].toLowerCase()+"_"+t[1].toUpperCase():e},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return t}return n.join("-")},"iso639-1":function(e){return(e||"").split("_").join("-").split("-")[0].toLowerCase()}},le=(t.displayName="angular-translate/service: getFirstBrowserLanguage",O.displayName="angular-translate/service: getLocale",this.translations=F,this.cloakClassName=function(e){return e?(te=e,this):te},this.allowNamespaces=function(e){return void 0===e?re:(re=e,this)},this.nestedObjectDelimeter=function(e){return e?(ae=e,this):ae},function(e,t,n,r){var a,i,o;if(t=t||[],n=n||{},!re)return e;for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o=e[a],angular.isObject(o)?le(o,t.concat(a),n,a):(i=t.length?""+t.join(ae)+ae+a:a,t.length&&a===r&&(n[""+t.join(ae)]="@:"+i),n[i]=o));return n}),fe=(le.displayName="flatObject",this.addInterpolation=function(e){return ee.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return ce=e,this},this.useSanitizeValueStrategy=function(e){return o.useStrategy(e),this},this.preferredLanguage=function(e){return e?(fe(e),this):L},function(e){return L=e?e:L}),he=(this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(G=e,this):G},this.translationNotFoundIndicatorRight=function(e){return e?(K=e,this):K},this.fallbackLanguage=function(e){return he(e),this},function(e){return e?(angular.isString(e)?(U=!0,R=[e]):angular.isArray(e)&&(U=!1,R=e),angular.isString(L)&&I(R,L)<0&&R.push(L),this):U?R[0]:R});this.use=function(e){if(e){if(J[e]||B)return q=e,this;throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'")}return q},this.resolveClientLocale=O;this.storageKey=z,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return B=e,W=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return V=e,this},this.storagePrefix=function(e){return e&&(n=e,this)},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return Y=e,this},this.usePostCompiling=function(e){return de=!!e,this},this.forceAsyncReload=function(e){return ne=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},r=e.standard,this},this.determinePreferredLanguage=function(e){e=(e&&angular.isFunction(e)?e:O)();return L=Z.length&&j(e)||e,this},this.registerAvailableLanguageKeys=function(e,t){return e?(Z=e,t&&(u=t),this):Z},this.useLoaderCache=function(e){return!1===e?X=void 0:!0===e?X=!0:void 0===e?X="$translationCache":e&&(X=e),this},this.directivePriority=function(e){return void 0===e?oe:(oe=e,this)},this.statefulFilter=function(e){return void 0===e?se:(se=e,this)},this.postProcess=function(e){return ue=e||void 0,this},this.keepContent=function(e){return pe=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,s,i,g){function o(e){function t(e,t){d[t].setLocale(q)}q=e,V&&v.put(w.storageKey(),q),i.$emit("$translateChangeSuccess",{language:e}),m.setLocale(q),t.displayName="eachInterpolatorLocaleSetter",angular.forEach(d,t),i.$emit("$translateChangeEnd",{language:e})}var v,b,u,t,m=s.get(ce||"$translateDefaultInterpolation"),y=!1,d={},$={},w=function(e,r,a,i,o,s){!q&&L&&(q=L);var t=o&&o!==q?j(o)||o:q;if(o&&T(o),angular.isArray(e)){for(var n=e,l={},c=[],u=function(t){function e(e){l[t]=e,n.resolve([t,e])}var n=g.defer();return w(t,r,a,i,o,s).then(e,e),n.promise},d=0,p=n.length;d<p;d++)c.push(u(n[d]));return g.all(c).then(function(){return l})}var f=g.defer();if(!e)throw new TypeError("translationId must be a not empty string");e=N.apply(e);h=$[t]||$[L],b=0,V&&!h&&(m=v.get(Q),h=$[m],R)&&R.length&&(m=I(R,m),b=0===m?1:0,I(R,L)<0)&&R.push(L);var h,m=h;return m?((h=function(){_(e,r,a,i,t=o?t:q,s).then(f.resolve,f.reject)}).displayName="promiseResolved",m.finally(h).catch(angular.noop)):_(e,r,a,i,t,s).then(f.resolve,f.reject),f.promise},k=function(e){return G&&(e=[G,e].join(" ")),e=K?[e,K].join(" "):e},l=function(n){var r,e,t,a;if(n)return r=g.defer(),i.$emit("$translateLoadingStart",{language:n}),y=!0,"string"==typeof(e=X)&&(e=s.get(e)),e=angular.extend({},W,{key:n,$http:angular.extend({},{cache:e},W.$http)}),(t=function(e){var t={};i.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(e)?angular.forEach(e,function(e){angular.extend(t,le(e))}):angular.extend(t,le(e)),y=!1,r.resolve({key:n,table:t}),i.$emit("$translateLoadingEnd",{language:n})}).displayName="onLoaderSuccess",(a=function(e){i.$emit("$translateLoadingError",{language:e}),r.reject(e),i.$emit("$translateLoadingEnd",{language:e})}).displayName="onLoaderError",s.get(B)(e).then(t,a),r.promise;throw"No language key specified for loading."};if(V&&(!(v=s.get(V)).get||!v.put))throw new Error("Couldn't use storage '"+V+"', missing get() or put() method!");ee.length&&((t=function(e){e=s.get(e);e.setLocale(L||q),d[e.getInterpolationIdentifier()]=e}).displayName="interpolationFactoryAdder",angular.forEach(ee,t));function p(n,r,a,i,o){function e(e){var t;Object.prototype.hasOwnProperty.call(e,r)&&null!==e[r]?(i.setLocale(n),"@:"===(t=e[r]).substr(0,2)?p(n,t.substr(2),a,i,o).then(c.resolve,c.reject):(t=i.interpolate(e[r],a,"service",o,r),t=E(r,e[r],t,a,n),c.resolve(t)),i.setLocale(q)):c.reject()}var t,s,l,c=g.defer();return e.displayName="fallbackTranslationResolver",t=n,l=g.defer(),Object.prototype.hasOwnProperty.call(J,t)?l.resolve(J[t]):$[t]?((s=function(e){F(e.key,e.table),l.resolve(e.table)}).displayName="translationTableResolver",$[t].then(s,l.reject)):l.reject(),l.promise.then(e,c.reject),c.promise}function c(e,t,n,r,a){var i,o=J[e];if(o&&Object.prototype.hasOwnProperty.call(o,t)&&null!==o[t]){if(r.setLocale(e),i=r.interpolate(o[t],n,"filter",a,t),i=E(t,o[t],i,n,e,a),!angular.isString(i)&&angular.isFunction(i.$$unwrapTrustedValue)){o=i.$$unwrapTrustedValue();if("@:"===o.substr(0,2))return c(e,o.substr(2),n,r,a)}else if("@:"===i.substr(0,2))return c(e,i.substr(2),n,r,a);r.setLocale(q)}return i}function f(e,t,n,r,a,i){var o,s=g.defer();return e<R.length?(o=R[e],p(o,t,n,r,i).then(function(e){s.resolve(e)},function(){return f(e+1,t,n,r,a,i).then(s.resolve,s.reject)})):a?s.resolve(a):(o=x(t,n,a),Y&&o?s.resolve(o):s.reject(k(t))),s.promise}function h(e,t,n,r,a){var i;return e<R.length&&(i=R[e],(i=c(i,t,n,r,a))||""===i||(i=h(e+1,t,n,r))),i}var x=function(e,t,n,r){return Y?s.get(Y)(e,q,t,n,r):e},S=function(e,t,n,r){return h(0<u?u:b,e,t,n,r)},_=function(e,t,n,r,a,i){var o,s=g.defer(),l=a?J[a]:J,c=n?d[n]:m;return l&&Object.prototype.hasOwnProperty.call(l,e)&&null!==l[e]?"@:"===(l=l[e]).substr(0,2)?w(l.substr(2),t,n,r,a,i).then(s.resolve,s.reject):(n=c.interpolate(l,t,"service",i,e),n=E(e,l,n,t,a),s.resolve(n)):(Y&&!y&&(o=x(e,t,r)),a&&R&&R.length?f(0<u?u:b,e,t,c,r,i).then(function(e){s.resolve(e)},function(e){s.reject(k(e))}):Y&&!y&&o?r?s.resolve(r):s.resolve(o):r?s.resolve(r):s.reject(k(e))),s.promise},C=function(e,t,n,r,a){var i,o,s=r?J[r]:J,l=m;return d&&Object.prototype.hasOwnProperty.call(d,n)&&(l=d[n]),i=s&&Object.prototype.hasOwnProperty.call(s,e)&&null!==s[e]?"@:"===(s=s[e]).substr(0,2)?C(s.substr(2),t,n,r,a):(i=l.interpolate(s,t,"filter",a,e),E(e,s,i,t,r,a)):(Y&&!y&&(o=x(e,t,a)),r&&R&&R.length?(b=0,S(e,t,l,a)):Y&&!y&&o?o:k(e))},E=function(e,t,n,r,a,i){var o=ue;return(o=o&&("string"==typeof o?s.get(o):o))?o(e,t,n,r,a,i):n},T=function(e){J[e]||!B||$[e]||($[e]=l(e).then(function(e){return F(e.key,e.table),e}))},n=(w.preferredLanguage=function(e){return e&&fe(e),L},w.cloakClassName=function(){return te},w.allowNamespaces=function(){return re},w.nestedObjectDelimeter=function(){return ae},w.fallbackLanguage=function(e){if(null!=e){if(he(e),B&&R&&R.length)for(var t=0,n=R.length;t<n;t++)$[R[t]]||($[R[t]]=l(R[t]));w.use(w.use())}return U?R[0]:R},w.useFallbackLanguage=function(e){null!=e&&(e?-1<(e=I(R,e))&&(u=e):u=0)},w.proposedLanguage=function(){return H},w.storage=function(){return v},w.negotiateLocale=j,w.use=function(t){var n,e;return t?((n=g.defer()).promise.then(null,angular.noop),i.$emit("$translateChangeStart",{language:t}),e=j(t),0<Z.length&&!e?g.reject(t):(H=t=e?e:t,!ne&&J[t]||!B||$[t]?$[t]?$[t].then(function(e){return H===e.key&&o(e.key),n.resolve(e.key),e},function(e){return!q&&R&&0<R.length&&R[0]!==e?w.use(R[0]).then(n.resolve,n.reject):n.reject(e)}):(n.resolve(t),o(t)):($[t]=l(t).then(function(e){return F(e.key,e.table),n.resolve(e.key),H===t&&o(e.key),e},function(e){return i.$emit("$translateChangeError",{language:e}),n.reject(e),i.$emit("$translateChangeEnd",{language:e}),g.reject(e)}),$[t].finally(function(){H===t&&(H=void 0),$[t]=void 0}).catch(angular.noop)),n.promise)):q},w.resolveClientLocale=O,w.storageKey=function(){return z()},w.isPostCompilingEnabled=function(){return de},w.isForceAsyncReloadEnabled=function(){return ne},w.isKeepContent=function(){return pe},w.refresh=function(e){if(!B)throw new Error("Couldn't refresh translation table, no loader registered!");i.$emit("$translateRefreshStart",{language:e});var t,n=g.defer(),r={};function a(t){var e=l(t);return($[t]=e).then(function(e){J[t]={},F(t,e.table),r[t]=!0},angular.noop),e}return n.promise.then(function(){for(var e in J)!J.hasOwnProperty(e)||e in r||delete J[e];q&&o(q)},angular.noop).finally(function(){i.$emit("$translateRefreshEnd",{language:e})}),e?J[e]?a(e).then(n.resolve,n.reject):n.reject():(t=R&&R.slice()||[],q&&-1===t.indexOf(q)&&t.push(q),g.all(t.map(a)).then(n.resolve,n.reject)),n.promise},w.instant=function(e,t,n,r,a){var i=r&&r!==q?j(r)||r:q;if(null===e||angular.isUndefined(e))return e;if(r&&T(r),angular.isArray(e)){for(var o={},s=0,l=e.length;s<l;s++)o[e[s]]=w.instant(e[s],t,n,r,a);return o}if(angular.isString(e)&&e.length<1)return e;e=e&&N.apply(e);var c=[];L&&c.push(L),i&&c.push(i);for(var u,d,p=0,f=(c=R&&R.length?c.concat(R):c).length;p<f;p++){var h=c[p];if(void 0!==(d=J[h]&&void 0!==J[h][e]?C(e,t,n,i,a):d))break}return d||""===d||(G||K?d=k(e):(d=m.interpolate(e,t,"filter",a),Y&&!y&&(u=x(e,t,a)),Y&&!y&&u&&(d=u))),d},w.versionInfo=function(){return"2.19.0"},w.loaderCache=function(){return X},w.directivePriority=function(){return oe},w.statefulFilter=function(){return se},w.isReady=function(){return ie},g.defer()),r=(n.promise.then(function(){ie=!0}),w.onReady=function(e){var t=g.defer();return angular.isFunction(e)&&t.promise.then(e),ie?t.resolve():n.promise.then(t.resolve),t.promise},w.getAvailableLanguageKeys=function(){return 0<Z.length?Z:null},w.getTranslationTable=function(e){return(e=e||w.use())&&J[e]?angular.copy(J[e]):null},i.$on("$translateReady",function(){n.resolve(),r(),r=null})),a=i.$on("$translateChangeEnd",function(){n.resolve(),a(),a=null});if(B){if(angular.equals(J,{})&&w.use()&&w.use(w.use()),R&&R.length)for(var P=function(e){return F(e.key,e.table),i.$emit("$translateChangeEnd",{language:e.key}),e},D=0,M=R.length;D<M;D++){var A=R[D];!ne&&J[A]||($[A]=l(A).then(P))}}else i.$emit("$translateReady",{language:w.use()});return w}]}function n(o,s){"use strict";var e={};return e.setLocale=function(e){0},e.getInterpolationIdentifier=function(){return"default"},e.useSanitizeValueStrategy=function(e){return s.useStrategy(e),this},e.interpolate=function(e,t,n,r,a){var i;return t=s.sanitize(t=t||{},"params",r,n),i=angular.isNumber(e)?""+e:angular.isString(e)?(i=o(e)(t),s.sanitize(i,"text",r,n)):""},e}function r(x,S,_,C,E){"use strict";function T(e){return angular.isString(e)?e.toLowerCase():e}return{restrict:"AE",scope:!0,priority:x.directivePriority(),compile:function(e,g){var v=g.translateValues||void 0,b=g.translateInterpolation||void 0,y=g.translateSanitizeStrategy||void 0,$=e[0].outerHTML.match(/translate-value-+/i),w="^(.*)("+S.startSymbol()+".*"+S.endSymbol()+")(.*)",k="^(.*)"+S.startSymbol()+"(.*)"+S.endSymbol()+"(.*)";return function(r,o,s){r.interpolateParams={},r.preText="",r.postText="",r.translateNamespace=function e(t){if(t.translateNamespace)return t.translateNamespace;if(t.$parent)return e(t.$parent)}(r);var a={},i=function(e){var t,n;angular.isFunction(i._unwatchOld)&&(i._unwatchOld(),i._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)?(n=(t=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(o.text()).replace(/\n/g," ")).match(w),angular.isArray(n)?(r.preText=n[1],r.postText=n[3],a.translate=S(n[2])(r.$parent),n=t.match(k),angular.isArray(n)&&n[2]&&n[2].length&&(i._unwatchOld=r.$watch(n[2],function(e){a.translate=e,f()}))):a.translate=t||void 0):a.translate=e,f()},e=r.interpolateParams,t=s,n=g;if(t.translateValues&&angular.extend(e,C(t.translateValues)(r.$parent)),$)for(var l in n)Object.prototype.hasOwnProperty.call(t,l)&&"translateValue"===l.substr(0,14)&&"translateValues"!==l&&(e[T(l.substr(14,1))+l.substr(15)]=n[l]);var c,u=!0;for(c in s.$observe("translate",function(e){void 0===e?i(""):""===e&&u||(a.translate=e,f()),u=!1}),s)s.hasOwnProperty(c)&&"translateAttr"===c.substr(0,13)&&13<c.length&&!function(t){s.$observe(t,function(e){a[t]=e,f()})}(c);if(s.$observe("translateDefault",function(e){r.defaultText=e,f()}),y&&s.$observe("translateSanitizeStrategy",function(e){r.sanitizeStrategy=C(e)(r.$parent),f()}),v&&s.$observe("translateValues",function(e){e&&r.$parent.$watch(function(){angular.extend(r.interpolateParams,C(e)(r.$parent))})}),$)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&"translateValue"===d.substr(0,14)&&"translateValues"!==d&&!function(n){s.$observe(n,function(e){var t=T(n.substr(14,1))+n.substr(15);r.interpolateParams[t]=e})}(d);function p(e,t,n,r){var a,i;n||void 0!==t.defaultText&&(e=t.defaultText),"translate"===r?((n||!x.isKeepContent()&&void 0===s.translateKeepContent)&&o.empty().append(t.preText+e+t.postText),n=x.isPostCompilingEnabled(),i=(a=void 0!==g.translateCompile)&&"false"!==g.translateCompile,(n&&!a||i)&&_(o.contents())(t)):(n=(n="data-"===(n=s.$attr[r]).substr(0,5)?n.substr(5):n).substr(15),o.attr(n,e))}var f=function(){for(var e in a)a.hasOwnProperty(e)&&void 0!==a[e]&&h(e,a[e],r,r.interpolateParams,r.defaultText,r.translateNamespace)},h=function(t,e,n,r,a,i){e?(i&&"."===e.charAt(0)&&(e=i+e),x(e,r,b,a,n.translateLanguage,n.sanitizeStrategy).then(function(e){p(e,n,!0,t)},function(e){p(e,n,!1,t)})):p(e,n,!1,t)},m=((v||$||s.translateDefault)&&r.$watch("interpolateParams",f,!0),r.$on("translateLanguageChanged",f),E.$on("$translateChangeSuccess",f));o.text().length?s.translate?i(s.translate):i(""):s.translate&&i(s.translate),f(),r.$on("$destroy",m)}}}}function a(c,u){"use strict";return{restrict:"A",priority:c.directivePriority(),link:function(n,r,a){function e(){angular.forEach(i,function(e,t){e&&(l[t]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),c(e,o,a.translateInterpolation,void 0,n.translateLanguage,s).then(function(e){r.attr(t,e)},function(e){r.attr(t,e)}))}),angular.forEach(l,function(e,t){i[t]||(r.removeAttr(t),delete l[t])})}var i,o,s,l={},t=(d(n,a.translateAttr,function(e){i=e},e),d(n,a.translateValues,function(e){o=e},e),d(n,a.translateSanitizeStrategy,function(e){s=e},e),a.translateValues&&n.$watch(a.translateValues,e,!0),n.$on("translateLanguageChanged",e),u.$on("$translateChangeSuccess",e));e(),n.$on("$destroy",t)}}}function d(e,t,n,r){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),r()},!0),n(e.$eval(t)))}function i(o,s){"use strict";return{compile:function(e){function i(e){e.addClass(o.cloakClassName())}return i(e),function(e,t,n){var r=function(e){e.removeClass(o.cloakClassName())}.bind(this,t),a=i.bind(this,t);n.translateCloak&&n.translateCloak.length?(n.$observe("translateCloak",function(e){o(e).then(r,a)}),s.$on("$translateChangeSuccess",function(){o(n.translateCloak).then(r,a)})):o.onReady(r)}}}}function o(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=function e(t){if(t.translateNamespace)return t.translateNamespace;if(t.$parent)return e(t.$parent)}(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function l(i,o){"use strict";function e(e,t,n,r){var a;return angular.isObject(t)||(a=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"},t=i(t)(a)),o.instant(e,t,n,r)}return o.statefulFilter()&&(e.$stateful=!0),e}function c(e){"use strict";return e("translations")}return e.$inject=["$translate"],t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],i.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var n,r,u,d=null,p=!1,f=!1,a=((u={sanitize:function(e,t){return e="text"===t?i(e):e},escape:function(e,t){return e="text"===t?a(e):e},sanitizeParameters:function(e,t){return e="params"===t?s(e,i):e},escapeParameters:function(e,t){return e="params"===t?s(e,a):e},sce:function(e,t,n){return"text"===t?e=o(e):"params"===t&&"filter"!==n&&(e=s(e,a)),e},sceParameters:function(e,t){return e="params"===t?s(e,o):e}}).escaped=u.escapeParameters,this.addStrategy=function(e,t){return u[e]=t,this},this.removeStrategy=function(e){return delete u[e],this},this.useStrategy=function(e){return p=!0,d=e,this},this.$get=["$injector","$log",function(s,l){var t,c={};return s.has("$sanitize")&&(n=s.get("$sanitize")),s.has("$sce")&&(r=s.get("$sce")),{useStrategy:(t=this,function(e){t.useStrategy(e)}),sanitize:function(e,t,n,r){if(d||p||f||(l.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),f=!0),!(n=n||null===n?n:d))return e;r=r||"service";var a,i,o,n=angular.isArray(n)?n:[n];return a=e,i=t,o=r,angular.forEach(n,function(t){if(angular.isFunction(t))a=t(a,i,o);else if(angular.isFunction(u[t]))a=u[t](a,i,o);else{if(!angular.isString(u[t]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'");if(!c[u[t]])try{c[u[t]]=s.get(u[t])}catch(e){throw c[u[t]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'")}a=c[u[t]](a,i,o)}}),a}}}],function(e){var t=angular.element("<div></div>");return t.text(e),t.html()}),i=function(e){if(n)return n(e);throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.")},o=function(e){if(r)return r.trustAsHtml(e);throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.")},s=function(e,n,r){if(angular.isDate(e))return e;if(angular.isObject(e)){var a=angular.isArray(e)?[]:{};if(r){if(-1<r.indexOf(e))throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else r=[];return r.push(e),angular.forEach(e,function(e,t){angular.isFunction(e)||(a[t]=s(e,n,r))}),r.splice(-1,1),a}return angular.isNumber(e)||!0===e||!1===e||angular.isUndefined(e)||null===e?e:n(e)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",a),a.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",i),i.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",o),o.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",s),s.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"}),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():e()}(function(){function e(a,i){"use strict";return function(t){if(!(t&&(angular.isArray(t.files)||angular.isString(t.prefix)&&angular.isString(t.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");t.files||(t.files=[{prefix:t.prefix,suffix:t.suffix}]);for(var e=[],n=t.files.length,r=0;r<n;r++)e.push(function(e){if(e&&angular.isString(e.prefix)&&angular.isString(e.suffix))return e=[e.prefix,t.key,e.suffix].join(""),angular.isObject(t.fileMap)&&t.fileMap[e]&&(e=t.fileMap[e]),i(angular.extend({url:e,method:"GET"},t.$http)).then(function(e){return e.data},function(){return a.reject(t.key)});throw new Error("Couldn't load static file, no prefix or suffix specified!")}({prefix:t.files[r].prefix,key:t.key,suffix:t.files[r].suffix}));return a.all(e).then(function(e){for(var t=e.length,n={},r=0;r<t;r++)for(var a in e[r])n[a]=e[r][a];return n})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(R,$){"use strict";var U,q=R.isDefined,H=R.isFunction,V=R.isString,Y=R.isObject,B=R.isArray,W=R.forEach,G=R.extend,K=R.copy,h=R.toJson;function X(e,t){return G(new(G(function(){},{prototype:e})),t)}function w(n){return W(arguments,function(e){e!==n&&W(e,function(e,t){n.hasOwnProperty(t)||(n[t]=e)})}),n}function f(e){var n;return Object.keys?Object.keys(e):(n=[],W(e,function(e,t){n.push(t)}),n)}function k(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,Number(n)||0);var r=e.length>>>0,a=Number(n)||0;for((a=a<0?Math.ceil(a):Math.floor(a))<0&&(a+=r);a<r;a++)if(a in e&&e[a]===t)return a;return-1}function J(e,t,n,r){var a,i,o=function(e,t){var n,r=[];for(n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}(n,r),s={},l=[];for(i in o)if(o[i]&&o[i].params&&(a=f(o[i].params)).length)for(var c in a)0<=k(l,a[c])||(l.push(a[c]),s[a[c]]=e[a[c]]);return G({},s,t)}function Z(e,t){var n={};return W(e,function(e){n[e]=t[e]}),n}function Q(t){var n={},e=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return W(e,function(e){e in t&&(n[e]=t[e])}),n}function x(e){var t,n={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(t in e)-1==k(r,t)&&(n[t]=e[t]);return n}function m(e,n){var r=B(e),a=r?[]:{};return W(e,function(e,t){n(e,t)&&(a[r?a.length:t]=e)}),a}function b(e,n){var r=B(e)?[]:{};return W(e,function(e,t){r[t]=n(e,t)}),r}function ee(e){return e.then($,function(){})&&e}function e(g,v){var e={},l=[],b=e,y=G(g.when(e),{$$promises:e,$$values:e});this.study=function(a){var o,h,i,s;if(Y(a))return o=f(a||{}),h=[],i=[],s={},W(a,function t(e,n){if(2!==s[n]){if(i.push(n),1===s[n])throw i.splice(0,k(i,n)),new Error("Cyclic dependency: "+i.join(" -> "));var r;s[n]=1,V(e)?h.push(n,[function(){return v.get(e)}],l):(r=v.annotate(e),W(r,function(e){e!==n&&a.hasOwnProperty(e)&&t(a[e],e)}),h.push(n,e,r)),i.pop(),s[n]=2}}),a=i=s=null,function(s,e,l){if(m(s)&&l===$&&(l=e,e=s,s=null),s){if(!Y(s))throw new Error("'locals' must be an object")}else s=b;if(e){if(!m(e))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else e=y;var t=g.defer(),c=ee(t.promise),u=c.$$promises={},d=G({},s),n=1+h.length/3,r=!1;function p(){--n||(r||w(d,e.$$values),c.$$values=d,c.$$promises=c.$$promises||!0,delete c.$$inheritedValues,t.resolve(d))}function f(e){c.$$failure=e,t.reject(e)}if(ee(c),q(e.$$failure))f(e.$$failure);else{e.$$inheritedValues&&w(d,x(e.$$inheritedValues,o)),G(u,e.$$promises),e.$$values?(r=w(d,x(e.$$values,o)),c.$$inheritedValues=x(e.$$values,o),p()):(e.$$inheritedValues&&(c.$$inheritedValues=x(e.$$inheritedValues,o)),e.then(p,f));for(var a=0,i=h.length;a<i;a+=3)s.hasOwnProperty(h[a])?p():function(t,e,n){var r=g.defer(),a=0;function i(e){r.reject(e),f(e)}W(n,function(t){u.hasOwnProperty(t)&&!s.hasOwnProperty(t)&&(a++,u[t].then(function(e){d[t]=e,--a||o()},i))}),a||o();function o(){if(!q(c.$$failure))try{r.resolve(v.invoke(e,l,d)),r.promise.then(function(e){d[t]=e,p()},i)}catch(e){i(e)}}u[t]=ee(r.promise)}(h[a],h[a+1],h[a+2])}return c};throw new Error("'invocables' must be an object");function m(e){return Y(e)&&e.then&&e.$$promises}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function s(n,r,a,i){this.fromConfig=function(e,t,n){return q(e.template)?this.fromString(e.template,t):q(e.templateUrl)?this.fromUrl(e.templateUrl,t):q(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return H(e)?e(t):e},this.fromUrl=function(e,t){return null==(e=H(e)?e(t):e)?null:i?n.get(e,{cache:r,headers:{Accept:"text/html"}}).then(function(e){return e.data}):a.get("$templateRequest")(e)},this.fromProvider=function(e,t,n){return a.invoke(e,null,n||{params:t})}}function l(o,s,e){s=G({params:{}},Y(s)?s:{});var t,n,r,a=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,i=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",c=0,u=this.segments=[],d=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,f=[];function h(e,t,n,r){if(f.push(e),d[e])return d[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+o+"'");if(p[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+o+"'");return p[e]=new U.Param(e,t,n,r),p[e]}function m(e,t,n,r){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:a=["(",")"+(r?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+n+"|",")?"]}return i+a[0]+t+a[1]}function g(e,t){var n,r=e[2]||e[3],a=s.params[r],i=o.substring(c,e.index),t=t?e[4]:e[4]||("*"==e[1]?".*":null);return{id:r,regexp:t,segment:i,type:n=t?U.type(t)||X(U.type("string"),{pattern:new RegExp(t,s.caseInsensitive?"i":$)}):n,cfg:a}}for(this.source=o;(t=a.exec(o))&&!(0<=(n=g(t,!1)).segment.indexOf("?"));)r=h(n.id,n.type,n.cfg,"path"),l+=m(n.segment,r.type.pattern.source,r.squash,r.isOptional),u.push(n.segment),c=a.lastIndex;var v=(e=o.substring(c)).indexOf("?");if(0<=v){var b=this.sourceSearch=e.substring(v),e=e.substring(0,v);if(this.sourcePath=o.substring(0,c+v),0<b.length)for(c=0;t=i.exec(b);)r=h((n=g(t,!0)).id,n.type,n.cfg,"search"),c=a.lastIndex}else this.sourcePath=o,this.sourceSearch="";l+=m(e)+(!1===s.strict?"/?":"")+"$",u.push(e),this.regexp=new RegExp(l,s.caseInsensitive?"i":$),this.prefix=u[0],this.$$paramNames=f}function g(e){G(this,e)}function v(){U=this;var n=!1,r=!0,c=!1;function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}var u,d={},a=!0,i=[],t={string:{encode:e,decode:function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e},is:function(e){return null==e||!q(e)||"string"==typeof e},pattern:/[^/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return e!==$&&null!==e&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):$},decode:function(e){return this.is(e)?e:(e=this.capture.exec(e))?new Date(e[1],e[2]-1,e[3]):$},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:R.toJson,decode:R.fromJson,is:R.isObject,equals:R.equals,pattern:/[^/]*/},any:{encode:R.identity,decode:R.identity,equals:R.equals,pattern:/.*/}};function p(e){return H(e)||B(e)&&H(e[e.length-1])}function o(){for(;i.length;){var e=i.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");R.extend(d[e.name],u.invoke(e.def))}}function s(e){G(this,e||{})}v.$$getDefaultValue=function(e){if(!p(e.value))return e.value;if(u)return u.invoke(e.value);throw new Error("Injectable functions cannot be called at configuration time")},this.caseInsensitive=function(e){return n=q(e)?e:n},this.strictMode=function(e){return r=q(e)?e:r},this.defaultSquashPolicy=function(e){if(!q(e))return c;if(!0===e||!1===e||V(e))return c=e;throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string")},this.compile=function(e,t){return new l(e,G({strict:r,caseInsensitive:n},t))},this.isMatcher=function(n){var r;return!!Y(n)&&(r=!0,W(l.prototype,function(e,t){H(e)&&(r=r&&q(n[t])&&H(n[t]))}),r)},this.type=function(e,t,n){if(!q(t))return d[e];if(d.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return d[e]=new g(G({name:e},t)),n&&(i.push({name:e,def:n}),a||o()),this},W(t,function(e,t){d[t]=new g(G({name:t},e))}),d=X(d,{}),this.$get=["$injector",function(e){return u=e,a=!1,o(),W(t,function(e,t){d[t]||(d[t]=new g(e))}),this}],this.Param=function(r,e,a,t){var i=this,n=(a=function(e){var t=Y(e)?f(e):[];-1===k(t,"value")&&-1===k(t,"type")&&-1===k(t,"squash")&&-1===k(t,"array")&&(e={value:e});return e.$$fn=p(e.value)?e.value:function(){return e.value},e}(a),e=function(e,t,n){if(e.type&&t)throw new Error("Param '"+r+"' has two type configurations.");return t||(e.type?R.isString(e.type)?d[e.type]:e.type instanceof g?e.type:new g(e.type):"config"===n?d.any:d.string)}(a,e,t),n={array:"search"===t&&"auto"},l=r.match(/\[\]$/)?{array:!0}:{},G(n,l,a).array),o=("string"!==(e=n?e.$asArray(n,"search"===t):e).name||n||"path"!==t||a.value!==$||(a.value=""),a.value!==$),s=function(e,t){e=e.squash;if(!t||!1===e)return!1;if(!q(e)||null==e)return c;if(!0===e||V(e))return e;throw new Error("Invalid squash policy: '"+e+"'. Valid policies: false, true, or arbitrary string")}(a,o),l=function(e,t,n,r){var a,n=[{from:"",to:n||t?$:""},{from:null,to:n||t?$:""}];t=B(e.replace)?e.replace:[],V(r)&&t.push({from:r,to:$});return a=b(t,function(e){return e.from}),m(n,function(e){return-1===k(a,e.from)}).concat(t)}(a,n,o,s);G(this,{id:r,type:e,location:t,array:n,squash:s,replace:l,isOptional:o,value:function(e){var t,n;if(t=e,e=(r=b(m(i.replace,(n=t,function(e){return e.from===n})),function(e){return e.to})).length?r[0]:t,q(e))return i.type.$normalize(e);if(!u)throw new Error("Injectable functions cannot be called at configuration time");var r=u.invoke(a.$$fn);if(null===r||r===$||i.type.is(r))return r;throw new Error("Default value ("+r+") for parameter '"+i.id+"' is not an instance of Type ("+i.type.name+")")},dynamic:$,config:a,toString:function(){return"{Param:"+r+" "+e+" squash: '"+s+"' optional: "+o+"}"}})},s.prototype={$$new:function(){return X(this,G(new s,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=f(s.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),W(e,function(e){W(f(e),function(e){-1===k(t,e)&&-1===k(r,e)&&t.push(e)})}),t},$$values:function(t){var n={},r=this;return W(r.$$keys(),function(e){n[e]=r[e].value(t&&t[e])}),n},$$equals:function(r,a){var i=!0,o=this;return W(o.$$keys(),function(e){var t=r&&r[e],n=a&&a[e];o[e].type.equals(t,n)||(i=!1)}),i},$$validates:function(e){for(var t,n,r,a=this.$$keys(),i=0;i<a.length&&(t=this[a[i]],(n=e[a[i]])!==$&&null!==n||!t.isOptional);i++){if(r=t.type.$normalize(n),!t.type.is(r))return!1;if(r=t.type.encode(r),R.isString(r)&&!t.type.pattern.exec(r))return!1}return!0},$$parent:$},this.ParamSet=s}function t(u,s){var d,p=[],f=null,h=!1;function l(e,t,n){return!!n&&(e=e.invoke(t,t,{$match:n}),!q(e)||e)}function e(o,e,a,t,s){var i,l=t.baseHref(),n=o.url();function r(e){if(!e||!e.defaultPrevented){i&&o.url();i=$;for(var t=p.length,n=0;n<t;n++)if(r(p[n]))return;f&&r(f)}function r(e){e=e(a,o);return e&&(V(e)&&o.replace().url(e),1)}}function c(){return d=d||e.$on("$locationChangeSuccess",r)}return h||c(),{sync:function(){r()},listen:c,update:function(e){e?n=o.url():o.url()!==n&&(o.url(n),o.replace())},push:function(e,t,n){e=e.format(t||{});null!==e&&t&&t["#"]&&(e+="#"+t["#"]),o.url(e),i=n&&n.$$avoidResync?o.url():$,n&&n.replace&&o.replace()},href:function(e,t,n){var r,a,i;return e.validates(t)?(r=u.html5Mode(),r=(r=R.isObject(r)?r.enabled:r)&&s.history,e=e.format(t),n=n||{},null!==(e=r||null===e?e:"#"+u.hashPrefix()+e)&&t&&t["#"]&&(e+="#"+t["#"]),t=e,a=r,i=n.absolute,e="/"===l?t:a?l.slice(0,-1)+t:i?l.slice(1)+t:t,n.absolute&&e?(a=!r&&e?"/":"",i=80===(i=o.port())||443===i?"":":"+i,[o.protocol(),"://",o.host(),i,a,e].join("")):e):null}}}this.rule=function(e){if(H(e))return p.push(e),this;throw new Error("'rule' must be a function")},this.otherwise=function(e){if(V(e)){var t=e;e=function(){return t}}else if(!H(e))throw new Error("'rule' must be a function");return f=e,this},this.when=function(e,t){var a,i=V(t);if(V(e)&&(e=s.compile(e)),!i&&!H(t)&&!B(t))throw new Error("invalid 'handler' in when()");var n,r={matcher:function(n,r){return i&&(a=s.compile(r),r=["$match",function(e){return a.format(e)}]),G(function(e,t){return l(e,r,n.exec(t.path(),t.search()))},{prefix:V(n.prefix)?n.prefix:""})},regex:function(n,r){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return i&&(a=r,r=["$match",function(e){return n=e,a.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]});var n}]),G(function(e,t){return l(e,r,n.exec(t.path()))},{prefix:null!=(e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec((e=n).source))?e[1].replace(/\\(.)/g,"$1"):""});var e}},o={matcher:s.isMatcher(e),regex:e instanceof RegExp};for(n in o)if(o[n])return this.rule(r[n](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){h=e=e===$?!0:e},(this.$get=e).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function n(o,r){var j,F,c={},s={},z="abstract",l={parent:function(e){return q(e.parent)&&e.parent?L(e.parent):(e=/^(.+)\.[^.]+$/.exec(e.name))?L(e[1]):j},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=X(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(V(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||j).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var n=e.url&&e.url.params||new U.ParamSet;return W(e.params||{},function(e,t){n[t]||(n[t]=new U.Param(t,null,e,"config"))}),n},params:function(e){var t=Q(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?G(e.parent.params.$$new(),t):new U.ParamSet},views:function(n){var r={};return W(q(n.views)?n.views:{"":n},function(e,t){t.indexOf("@")<0&&(t+="@"+n.parent.name),e.resolveAs=e.resolveAs||n.resolveAs||"$resolve",r[t]=e}),r},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?G({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};function L(e,t){if(!e)return $;var n=V(e),r=n?e:e.name;if(0===(l=r).indexOf(".")||0===l.indexOf("^")){if(!t)throw new Error("No reference point given for path '"+r+"'");t=L(t);for(var a=r.split("."),i=0,o=a.length,s=t;i<o;i++)if(""===a[i]&&0===i)s=t;else{if("^"!==a[i])break;if(!s.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");s=s.parent}a=a.slice(i).join("."),r=s.name+(s.name&&a?".":"")+a}var l=c[r];return!l||!n&&l!==e&&l.self!==e?$:l}function u(n){var e=(n=X(n,{self:n,resolve:n.resolve||{},toString:function(){return this.name}})).name;if(!V(e)||0<=e.indexOf("@"))throw new Error("State must have a valid name");if(c.hasOwnProperty(e))throw new Error("State '"+e+"' is already defined");var t,r,a=-1!==e.indexOf(".")?e.substring(0,e.lastIndexOf(".")):V(n.parent)?n.parent:Y(n.parent)&&V(n.parent.name)?n.parent.name:"";if(a&&!c[a])return a=a,t=n.self,s[a]||(s[a]=[]),void s[a].push(t);for(r in l)H(l[r])&&(n[r]=l[r](n,l.$delegates[r]));!(c[e]=n)[z]&&n.url&&o.when(n.url,["$match","$stateParams",function(e,t){F.$current.navigable==n&&function(e,t,n){if(!n)for(var r in n=[],e)n.push(r);for(var a=0;a<n.length;a++){var i=n[a];if(e[i]!=t[i])return}return 1}(e,t)||F.transitionTo(n,e,{inherit:!0,location:!1})}]);for(var i=s[e]||[];i.length;)u(i.shift());return n}function e(S,_,C,E,T,P,D,e,t){var M=new Error("transition superseded"),A=ee(_.reject(M)),O=ee(_.reject(new Error("transition prevented"))),I=ee(_.reject(new Error("transition aborted"))),N=ee(_.reject(new Error("transition failed")));return j.locals={resolve:null,globals:{$stateParams:{}}},(F={params:{},current:j.self,$current:j,transition:null,reload:function(e){return F.transitionTo(F.current,P,{reload:e||!0,inherit:!1,notify:!0})},go:function(e,t,n){return F.transitionTo(e,t,G({inherit:!0,relative:F.$current},n))}}).transitionTo=function(r,a,i){a=a||{},i=G({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var e,t,n,o,s,l=F.$current,c=F.params,u=l.path,d=L(r,i.relative),p=a["#"];if(!q(d)){var f={to:r,toParams:a,options:i},h=(e=f,t=l.self,n=c,h=i,(s=S.$broadcast("$stateNotFound",e,t,n)).defaultPrevented?(D.update(),I):s.retry?h.$retry?(D.update(),N):((o=F.transition=_.when(s.retry)).then(function(){return o!==F.transition?(S.$broadcast("$stateChangeCancel",e.to,e.toParams,t,n),A):(e.options.$retry=!0,F.transitionTo(e.to,e.toParams,e.options))},function(){return I}),D.update(),o):null);if(h)return h;if(r=f.to,a=f.toParams,d=L(r,(i=f.options).relative),!q(d)){if(i.relative)throw new Error("Could not resolve '"+r+"' from state '"+i.relative+"'");throw new Error("No such state '"+r+"'")}}if(d[z])throw new Error("Cannot transition to abstract state '"+r+"'");if(i.inherit&&(a=J(P,a||{},F.$current,d)),!d.params.$$validates(a))return N;a=d.params.$$values(a);var m=(r=d).path,g=0,v=m[g],b=j.locals,y=[];if(i.reload){if(V(i.reload)||Y(i.reload)){if(Y(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var $=!0===i.reload?u[0]:L(i.reload);if(i.reload&&!$)throw new Error("No such reload state '"+(V(i.reload)?i.reload:i.reload.name)+"'");for(;v&&v===u[g]&&v!==$;)b=y[g]=v.locals,v=m[++g]}}else for(;v&&v===u[g]&&v.ownParams.$$equals(a,c);)b=y[g]=v.locals,v=m[++g];if(function(e,t,n,r,a,i){function o(t,e,n){var r=t.params.$$keys().filter(function(e){return"search"!=t.params[e].location}),r=Q.apply({},[t.params].concat(r));return new U.ParamSet(r).$$equals(e,n)}if(!i.reload&&e===n&&(a===n.locals||!1===e.self.reloadOnSearch&&o(n,r,t)))return 1}(r,a,l,c,b,i))return p&&(a["#"]=p),F.params=a,K(F.params,P),K(Z(r.params.$$keys(),P),r.locals.globals.$stateParams),i.location&&r.navigable&&r.navigable.url&&(D.push(r.navigable.url,a,{$$avoidResync:!0,replace:"replace"===i.location}),D.update(!0)),F.transition=null,_.when(F.current);if(a=Z(r.params.$$keys(),a||{}),p&&(a["#"]=p),i.notify&&S.$broadcast("$stateChangeStart",r.self,a,l.self,c,i).defaultPrevented)return S.$broadcast("$stateChangeCancel",r.self,a,l.self,c),null==F.transition&&D.update(),O;for(var w=_.when(b),k=g;k<m.length;v=m[++k])b=y[k]=X(b),w=function(i,e,t,n,o,s){var l=t?e:Z(i.params.$$keys(),e),t={$stateParams:l},e=(o.resolve=T.resolve(i.resolve,t,o.resolve,i),[o.resolve.then(function(e){o.globals=e})]);n&&e.push(n);return _.all(e).then(function(){var e=[];return W(i.views,function(n,r){var a=n.resolve&&n.resolve!==i.resolve?n.resolve:{};a.$template=[function(){return C.load(r,{view:n,locals:o.globals,params:l,notify:s.notify})||""}],e.push(T.resolve(a,o.globals,o.resolve,i).then(function(e){var t;H(n.controllerProvider)||B(n.controllerProvider)?(t=R.extend({},a,o.globals),e.$$controller=E.invoke(n.controllerProvider,null,t)):e.$$controller=n.controller,e.$$state=i,e.$$controllerAs=n.controllerAs,e.$$resolveAs=n.resolveAs,o[r]=e}))}),_.all(e).then(function(){return o.globals})}).then(function(e){return o})}(v,a,v===r,w,b,i);var x=F.transition=w.then(function(){var e,t,n;if(F.transition!==x)return S.$broadcast("$stateChangeCancel",r.self,a,l.self,c),A;for(e=u.length-1;g<=e;e--)(n=u[e]).self.onExit&&E.invoke(n.self.onExit,n.self,n.locals.globals),n.locals=null;for(e=g;e<m.length;e++)(t=m[e]).locals=y[e],t.self.onEnter&&E.invoke(t.self.onEnter,t.self,t.locals.globals);return F.transition!==x?(S.$broadcast("$stateChangeCancel",r.self,a,l.self,c),A):(F.$current=r,F.current=r.self,F.params=a,K(F.params,P),F.transition=null,i.location&&r.navigable&&D.push(r.navigable.url,r.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&S.$broadcast("$stateChangeSuccess",r.self,a,l.self,c),D.update(!0),F.current)}).then(null,function(e){return e===M?A:F.transition!==x?(S.$broadcast("$stateChangeCancel",r.self,a,l.self,c),A):(F.transition=null,S.$broadcast("$stateChangeError",r.self,a,l.self,c,e).defaultPrevented||D.update(),_.reject(e))});return ee(x),x},F.is=function(e,r,t){var a=L(e,(t=G({relative:F.$current},t||{})).relative);return q(a)?F.$current===a&&(!r||f(r).reduce(function(e,t){var n=a.params[t];return e&&!n||n.type.equals(P[t],r[t])},!0)):$},F.includes=function(e,r,t){if(t=G({relative:F.$current},t||{}),V(e)&&-1<e.indexOf("*")){if(!function(e){for(var t=e.split("."),n=F.$current.name.split("."),r=0,a=t.length;r<a;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(k(n,t[1]))).unshift("**"),"**"===t[t.length-1]&&(n.splice(k(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}(e))return!1;e=F.$current.name}var a=L(e,t.relative);if(!q(a))return $;if(!q(F.$current.includes[a.name]))return!1;if(!r)return!0;for(var n=f(r),i=0;i<n.length;i++){var o=n[i],s=a.params[o];if(s&&!s.type.equals(P[o],r[o]))return!1}return f(r).reduce(function(e,t){var n=a.params[t];return e&&!n||n.type.equals(P[t],r[t])},!0)},F.href=function(e,t,n){e=L(e,(n=G({lossy:!0,inherit:!0,absolute:!1,relative:F.$current},n||{})).relative);if(!q(e))return null;n.inherit&&(t=J(P,t||{},F.$current,e));var r=e&&n.lossy?e.navigable:e;return r&&r.url!==$&&null!==r.url?D.href(r.url,Z(e.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null},F.get=function(e,t){return 0===arguments.length?b(f(c),function(e){return c[e].self}):(e=L(e,t||F.$current))&&e.self?e.self:null},F}(j=u({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){return!V(e)||q(t)?(H(t)&&V(e)&&(l[e]&&!l.$delegates[e]&&(l.$delegates[e]=l[e]),l[e]=t),this):l[e]},this.state=function(e,t){Y(e)?t=e:t.name=e;return u(t),this},(this.$get=e).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function r(){function e(e,r){return{load:function(e,t){var n;return n=(t=G({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},t)).view?r.fromConfig(t.view,t.params,t.locals):n}}}(this.$get=e).$inject=["$rootScope","$templateFactory"]}function a(m,t,g,v,b){var e=t.has?function(e){return t.has(e)?t.get(e):null}:function(e){try{return t.get(e)}catch(e){return null}},y=e("$animator"),$=e("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,h){return function(a,i,r){var o,s,l,c,e,t,u,d=r.onload||"",p=r.autoscroll,f=(e=r,t=a,$?{enter:function(e,t,n){2<R.version.minor?$.enter(e,null,t).then(n):$.enter(e,null,t,n)},leave:function(e,t){2<R.version.minor?$.leave(e).then(t):$.leave(e,t)}}:y?(u=y&&y(t,e),{enter:function(e,t,n){u.enter(e,null,t),n()},leave:function(e,t){u.leave(e),t()}}):{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}});i.inheritedData("$uiView");function n(e){var t=S(a,r,i,v),n=t&&m.$current&&m.$current.locals[t];!e&&n===c||(e=a.$new(),c=m.$current.locals[t],e.$emit("$viewContentLoading",t),s=h(e,function(e){var t,n=b.defer(),r=b.defer(),r={$animEnter:n.promise,$animLeave:r.promise,$$animLeave:r};e.data("$uiViewAnim",r),f.enter(e,i,function(){n.resolve(),l&&l.$emit("$viewContentAnimationEnded"),(R.isDefined(p)&&!p||a.$eval(p))&&g(e)}),o&&(o.remove(),o=null),l&&(l.$destroy(),l=null),s&&(t=s.data("$uiViewAnim"),f.leave(s,function(){t.$$animLeave.resolve(),o=null}),o=s,s=null)}),(l=e).$emit("$viewContentLoaded",t),l.$eval(d))}a.$on("$stateChangeSuccess",function(){n(!1)}),n(!0)}}}}function i(s,l,c,u){return{restrict:"ECA",priority:-400,compile:function(e){var o=e.html();return e.empty?e.empty():e[0].innerHTML=null,function(e,t,n){var r,a,i=c.$current,n=S(e,n,t,u),i=i&&i.locals[n];(i?(t.data("$uiView",{name:n,state:i.$$state}),t.html(i.$template||o),n=R.extend({},i),e[i.$$resolveAs]=n,r=s(t.contents()),i.$$controller&&(i.$scope=e,i.$element=t,a=l(i.$$controller,i),i.$$controllerAs&&(e[i.$$controllerAs]=a,e[i.$$controllerAs][i.$$resolveAs]=n),H(a.$onInit)&&a.$onInit(),t.data("$ngControllerController",a),t.children().data("$ngControllerController",a)),r):(t.html(o),s(t.contents())))(e)}}}}function S(e,t,n,r){r=r(t.uiView||t.name||"")(e),t=n.inheritedData("$uiView");return 0<=r.indexOf("@")?r:r+"@"+(t?t.state.name:"")}function y(e,t){var n=e.match(/^\s*({[^}]*})\s*$/);if((t=(e=n?t+"("+n[1]+")":e).replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))&&4===t.length)return{state:t[1],paramExpr:t[3]||null};throw new Error("Invalid state ref '"+e+"'")}function _(e){e=e.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function C(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function E(i,o,s,l,c){return function(e){var t,n,r=e.which||e.button,a=c();1<r||e.ctrlKey||e.metaKey||e.shiftKey||i.attr("target")||(t=s(function(){o.go(a.state,a.params,a.options)}),e.preventDefault(),n=l.isAnchor&&!a.href?1:0,e.preventDefault=function(){n--<=0&&s.cancel(t)})}}function c(d,p){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,r){function a(e){e&&(s.params=R.copy(e)),s.href=d.href(o.state,s.params,s.options),u&&u(),c&&(u=c.$$addStateInfo(o.state,s.params)),null!==s.href&&n.$set(l.attr,s.href)}var i,o=y(n.uiSref,d.current.name),s={state:o.state,href:null,params:null},l=C(t),c=r[1]||r[0],u=null;s.options=G((r=d,{relative:_(t)||r.$current,inherit:!0}),n.uiSrefOpts?e.$eval(n.uiSrefOpts):{});o.paramExpr&&(e.$watch(o.paramExpr,function(e){e!==s.params&&a(e)},!0),s.params=R.copy(e.$eval(o.paramExpr))),a(),l.clickable&&(i=E(t,d,p,l,function(){return s}),t[t.on?"on":"bind"]("click",i),e.$on("$destroy",function(){t[t.off?"off":"unbind"]("click",i)}))}}}function u(u,d){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,r){var a,i=C(t),o=r[1]||r[0],r="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(e){return e||"null"}).join(", ")+"]",s={state:null,params:null,options:null,href:null},l=null;function c(e){s.state=e[0],s.params=e[1],s.options=e[2],s.href=u.href(s.state,s.params,s.options),l&&l(),o&&(l=o.$$addStateInfo(s.state,s.params)),s.href&&n.$set(i.attr,s.href)}e.$watch(r,c,!0),c(e.$eval(r)),i.clickable&&(a=E(t,u,d,i,function(){return s}),t[t.on?"on":"bind"]("click",a),e.$on("$destroy",function(){t[t.off?"off":"unbind"]("click",a)}))}}}function o(f,e,t){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(o,s,e,n){var r,l=[],c={},a=t(e.uiSrefActiveEq||"",!1)(o);try{r=o.$eval(e.uiSrefActive)}catch(e){}function i(e,t,n){var r=f.get(e,_(s)),a=function(e,t){if(!V(e))throw new Error("state should be a string");if(Y(t))return e+h(t);if(t=o.$eval(t),Y(t))return e+h(t);return e}(e,t),i={state:r||{name:e},params:t,hash:a};return l.push(i),c[a]=n,function(){var e=l.indexOf(i);-1!==e&&l.splice(e,1)}}function u(){for(var e,t,n=0;n<l.length;n++)e=l[n].state,t=l[n].params,(f.includes(e.name,t)?d:p)(s,c[l[n].hash]),e=l[n].state,t=l[n].params,(f.is(e.name,t)?d:p)(s,a)}function d(e,t){n(function(){e.addClass(t)})}function p(e,t){e.removeClass(t)}r=r||t(e.uiSrefActive||"",!1)(o),Y(r)&&W(r,function(e,t){V(e)&&i((e=y(e,f.current.name)).state,o.$eval(e.paramExpr),t)}),this.$$addStateInfo=function(e,t){if(!(Y(r)&&0<l.length))return e=i(e,t,r),u(),e},o.$on("$stateChangeSuccess",u),u()}]}}function d(n){function e(e,t){return n.is(e,t)}return e.$stateful=!0,e}function p(r){function e(e,t,n){return r.includes(e,t,n)}return e.$stateful=!0,e}R.module("ui.router.util",["ng"]),R.module("ui.router.router",["ui.router.util"]),R.module("ui.router.state",["ui.router.router","ui.router.util"]),R.module("ui.router",["ui.router.state"]),R.module("ui.router.compat",["ui.router"]),e.$inject=["$q","$injector"],R.module("ui.router.util").service("$resolve",e),R.module("ui.router.util").provider("$templateFactory",function(){var r=R.version.minor<3;this.shouldUnsafelyUseHttp=function(e){r=!!e},this.$get=["$http","$templateCache","$injector",function(e,t,n){return new s(e,t,n,r)}]}),l.prototype.concat=function(e,t){var n={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new l(this.sourcePath+e+this.sourceSearch,G(n,t),this)},l.prototype.toString=function(){return this.source},l.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var r,a,i,o,s,l=this.parameters(),c=l.length,u=this.segments.length-1,d={};if(u!=n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function p(e){function t(e){return e.split("").reverse().join("")}e=b(t(e).split(/-(?!\\)/),t);return b(e,function(e){return e.replace(/\\-/g,"-")}).reverse()}for(r=0;r<u;r++){for(i=l[r],o=this.params[i],s=n[r+1],a=0;a<o.replace.length;a++)o.replace[a].from===s&&(s=o.replace[a].to);s&&!0===o.array&&(s=p(s)),q(s)&&(s=o.type.decode(s)),d[i]=o.value(s)}for(;r<c;r++){for(d[i=l[r]]=this.params[i].value(t[i]),o=this.params[i],s=t[i],a=0;a<o.replace.length;a++)o.replace[a].from===s&&(s=o.replace[a].to);q(s)&&(s=o.type.decode(s)),d[i]=o.value(s)}return d},l.prototype.parameters=function(e){return q(e)?this.params[e]||null:this.$$paramNames},l.prototype.validates=function(e){return this.params.$$validates(e)},l.prototype.format=function(e){e=e||{};var t=this.segments,n=this.parameters(),r=this.params;if(!this.validates(e))return null;var a,i=!1,o=t.length-1,s=n.length,l=t[0];function c(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}for(a=0;a<s;a++){var u,d,p=a<o,f=n[a],h=r[f],m=h.value(e[f]),g=h.isOptional&&h.type.equals(h.value(),m),v=!!g&&h.squash,m=h.type.encode(m);p?(p=t[a+1],u=a+1===o,!1===v?(null!=m&&(B(m)?l+=b(m,c).join("-"):l+=encodeURIComponent(m)),l+=p):!0===v?(d=l.match(/\/$/)?/\/?(.*)/:/(.*)/,l+=p.match(d)[1]):V(v)&&(l+=v+p),u&&!0===h.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))):null==m||g&&!1!==v||0!==(m=B(m)?m:[m]).length&&(l+=(i?"&":"?")+f+"="+(m=b(m,encodeURIComponent).join("&"+f+"=")),i=!0)}return l},g.prototype.is=function(e,t){return!0},g.prototype.encode=function(e,t){return e},g.prototype.decode=function(e,t){return e},g.prototype.equals=function(e,t){return e==t},g.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},g.prototype.pattern=/.*/,g.prototype.toString=function(){return"{Type:"+this.name+"}"},g.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},g.prototype.$asArray=function(e,t){if(!e)return this;if("auto"!==e||t)return new function(e,a){function t(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return B(e)?e:q(e)?[e]:[]}function o(e){return!e}function n(n,r){return function(e){if(B(e)&&0===e.length)return e;e=b(e=i(e),n);if(!0===r)return 0===m(e,o).length;var t=e;switch(t.length){case 0:return $;case 1:return"auto"===a?t[0]:t;default:return t}}}var s;this.encode=n(t(e,"encode")),this.decode=n(t(e,"decode")),this.is=n(t(e,"is"),!0),this.equals=(s=t(e,"equals"),function(e,t){var n=i(e),r=i(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!s(n[a],r[a]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=n(t(e,"$normalize")),this.name=e.name,this.$arrayMode=a}(this,e);throw new Error("'auto' array mode is for query parameters only")},R.module("ui.router.util").provider("$urlMatcherFactory",v),R.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],R.module("ui.router.router").provider("$urlRouter",t),n.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],R.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",n).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),r.$inject=[],R.module("ui.router.state").provider("$view",r),R.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return n?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]}),a.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],i.$inject=["$compile","$controller","$state","$interpolate"],R.module("ui.router.state").directive("uiView",a),R.module("ui.router.state").directive("uiView",i),c.$inject=["$state","$timeout"],u.$inject=["$state","$timeout"],o.$inject=["$state","$stateParams","$interpolate"],R.module("ui.router.state").directive("uiSref",c).directive("uiSrefActive",o).directive("uiSrefActiveEq",o).directive("uiState",u),d.$inject=["$state"],p.$inject=["$state"],R.module("ui.router.state").filter("isState",d).filter("includedByState",p)}((window,window.angular)),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory","$injector","$parse",function(e,t,c){var u=t.get("uibDatepickerConfig"),d=t.get("uibDatepickerPopupConfig"),p=[["eIsOpen","is-open"],["eDateDisabled","date-disabled"],["eDatepickerPopup","uib-datepicker-popup"],["eShowButtonBar","show-button-bar"],["eCurrentText","current-text"],["eClearText","clear-text"],["eCloseText","close-text"],["eCloseOnDateSelection","close-on-date-selection"],["eDatepickerAppendToBody","datepicker-append-to-body"],["eOnOpenFocus","on-open-focus"],["eName","name"],["eDateDisabled","date-disabled"],["eAltInputFormats","alt-input-formats"],["eDatepickerTemplateUrl","datepicker-template-url"]],f=[["eFormatDay","formatDay"],["eFormatMonth","formatMonth"],["eFormatYear","formatYear"],["eFormatDayHeader","formatDayHeader"],["eFormatDayTitle","formatDayTitle"],["eFormatMonthTitle","formatMonthTitle"],["eMaxMode","maxMode"],["eMinMode","minMode"],["eDatepickerMode","datepickerMode"]];return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=this.attrs,t=this.scope,n=angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');n.attr("uib-datepicker-popup",e.eDatepickerPopupXEditable||d.datepickerPopup),n.attr("year-range",e.eYearRange||20),n.attr("ng-readonly",e.eReadonly||!1);for(var r=p.length-1;0<=r;r--){var a=e[p[r][0]];void 0!==a&&n.attr(p[r][1],a)}e.eNgChange&&(n.attr("ng-change",e.eNgChange),this.inputEl.removeAttr("ng-change")),e.eStyle&&(n.attr("style",e.eStyle),this.inputEl.removeAttr("style"));var i={maxDate:t.$eval(e.eMaxDate)||u.maxDate,minDate:t.$eval(e.eMinDate)||u.minDate,showWeeks:e.eShowWeeks?"true"===e.eShowWeeks.toLowerCase():u.showWeeks,startingDay:e.eStartingDay||0,initDate:t.$eval(e.eInitDate)||new Date};e.eDatepickerOptions&&(o=c(e.eDatepickerOptions)(t),angular.extend(i,o));for(var o,s=f.length-1;0<=s;s--){var l=e[f[s][0]];void 0!==l&&(i[f[s][1]]=l)}t.dateOptions=i,"true"===(angular.isDefined(e.eShowCalendarButton)?e.eShowCalendarButton:"true")?(o=angular.element('<button type="button" class="'+this.theme.calendarButtonClass+'"><i class="'+this.icon_set.calendar+'"></i></button>'),t=angular.element('<span class="'+this.theme.buttonGroupAppendClass+'"></span>'),o.attr("ng-click",e.eNgClick),t.append(o),this.inputEl.append(t)):n.attr("ng-click",e.eNgClick),n.attr("datepicker-options","dateOptions"),this.inputEl.prepend(n),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)}),t.inputEl.bind("keydown",function(e){9===e.keyCode&&"submit"===t.editorEl.attr("blur")&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<div uib-timepicker></div>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.inputEl.wrap("<label></label>"),this.attrs.eTitle&&this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,a){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=a(this.attrs.eNgOptions),t="",n="",r="",t=(this.attrs.eNgChange&&(t=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eChecklistComparator&&(n=' checklist-comparator="'+this.attrs.eChecklistComparator+'"'),this.attrs.eNgDisabled&&(r=' ng-disabled="'+this.attrs.eNgDisabled+'"'),'<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+e.locals.valueFn+'"'+t+n+r+'><span ng-bind="'+e.locals.displayFn+'"></span></label>');this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.removeAttr("checklist-comparator"),this.inputEl.html(t)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,a){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var n={value:new Date(this.scope.$data)},r=this,t=(angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(e){var t="e"+e.charAt(0).toUpperCase()+e.slice(1);t in r.attrs&&(n[e]="minYear"==e||"maxYear"==e||"minuteStep"==e||"secondStep"==e?parseInt(r.attrs[t],10):r.attrs[t])}),a.getInstance(this.inputEl,n));t.$widget.find("select").bind("change",function(e){r.scope.$data=t.getValue()?moment(t.getValue(),t.options.format).toDate().toISOString():null}).change()}})}]),function(){var e="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(e,function(t){var n=("editable-"+t).toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()});angular.module("xeditable").directive(n,["editableDirectiveFactory",function(e){return e({directiveName:n,inputTpl:'<input type="'+t+'">',render:function(){this.parent.render.call(this);var e,t=this.attrs;this.scope;(t.eInputgroupleft||t.eInputgroupright)&&(this.inputEl.wrap('<div class="input-group"></div>'),t.eInputgroupleft&&(e=angular.element('<span class="input-group-addon" data-ng-bind="'+t.eInputgroupleft+'"></span>'),this.inputEl.parent().prepend(e)),t.eInputgroupright)&&(e=angular.element('<span class="input-group-addon" data-ng-bind="'+t.eInputgroupright+'"></span>'),this.inputEl.parent().append(e)),t.eLabel&&(e=angular.element("<label>"+t.eLabel+"</label>"),(t.eInputgroupleft||t.eInputgroupright?this.inputEl.parent():this.inputEl).parent().prepend(e)),t.eFormclass&&(this.editorEl.addClass(t.eFormclass),this.inputEl.removeAttr("formclass"))},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){9===e.keyCode&&"submit"===t.editorEl.attr("blur")&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory","$interpolate",function(e,t){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>"+t.startSymbol()+"$data"+t.endSymbol()+"</output>")}})}])}(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(e,t){var e=e({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",useCopy:!0,render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("auto-complete",this.attrs.$autoCompleteElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),i=e.link;return e.link=function(e,t,n,r){var a=t.find("editable-tags-input-auto-complete");return n.$autoCompleteElement=a.clone(),a.remove(),i(e,t,n,r)},e}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser","$interpolate",function(e,i,o){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=i(this.attrs.eNgOptions),t="",n="",r=isNaN(e.locals.valueFn)?"'"+e.locals.valueFn+"'":e.locals.valueFn,a=this.attrs.eNgDisabled||!1,a=(this.attrs.eNgChange&&(t=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eName&&(n=' name="'+this.attrs.eName+'"'),'<label data-ng-repeat="'+e.ngRepeat+'"><input type="radio" data-ng-disabled="::'+a+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+o.startSymbol()+"::"+r+o.endSymbol()+'"'+t+n+'><span data-ng-bind="::'+e.locals.displayFn+'"></span></label>');this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.html(a)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){var e;this.parent.render.call(this),this.attrs.ePlaceholder&&(e=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>"),this.inputEl.append(e))},autosubmit:function(){var e=this;e.attrs.hasOwnProperty("eMultiple")||e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",render:function(){this.parent.render.call(this),this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},addListeners:function(){this.parent.addListeners.call(this),this.single&&"no"!==this.buttons&&this.autosubmit()},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){t.attrs.submitOnEnter?13!==e.keyCode||e.shiftKey||t.scope.$apply(function(){t.scope.$form.$submit()}):((e.ctrlKey||e.metaKey)&&13===e.keyCode||9===e.keyCode&&"submit"===t.editorEl.attr("blur"))&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUidate",["editableDirectiveFactory",function(e){return e({directiveName:"editableUidate",inputTpl:'<input class="form-control" />',render:function(){this.parent.render.call(this),this.inputEl.attr("ui-date",this.attrs.eUiDate),this.inputEl.attr("placeholder",this.attrs.ePlaceholder)}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(e,t){var e=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("ui-select-match",this.attrs.$matchElement)),this.inputEl.append(t.rename("ui-select-choices",this.attrs.$choicesElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)}),t.inputEl.bind("keydown",function(e){9===e.keyCode&&"submit"===t.editorEl.attr("blur")&&t.scope.$apply(function(){t.scope.$form.$submit()})})}}),o=e.link;return e.link=function(e,t,n,r){var a=t.find("editable-ui-select-match"),i=t.find("editable-ui-select-choices");return n.$matchElement=a.clone(),n.$choicesElement=i.clone(),a.remove(),i.remove(),o(e,t,n,r)},e}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,v){function t(t,i,n,r,e,a,o,s,l,c,u,d){var p,f,h=this,e=(h.scope=t,h.elem=n,h.attrs=i,h.inputEl=null,h.editorEl=null,h.single=!0,h.error="",h.theme=e[i.editableTheme]||e[o.theme]||e.default,h.parent={},i.editableTheme||o.theme||"default"),m=i.editableIconSet||o.icon_set,g=(h.icon_set="default"===m?a.default[e]:a.external[m],h.inputTpl="",h.directiveName="",h.useCopy=!1,h.single=null,h.buttons="right",h.popover=!1,h.init=function(e){if(h.single=e,h.name=i.eName||i[h.directiveName],!i[h.directiveName])throw"You should provide value for `"+h.directiveName+"` in editable element!";p=r(i[h.directiveName]),h.single?h.buttons=h.attrs.buttons||o.buttons:h.buttons="no",i.eName&&h.scope.$watch("$data",function(e){h.scope.$form.$data[i.eName]=e}),i.onshow&&(h.onshow=function(){return h.catchError(r(i.onshow)(t))}),i.onhide&&(h.onhide=function(){return r(i.onhide)(t)}),i.oncancel&&(h.oncancel=function(){return r(i.oncancel)(t)}),i.onbeforesave&&(h.onbeforesave=function(){return h.catchError(r(i.onbeforesave)(t))}),i.onaftersave&&(h.onaftersave=function(){return h.catchError(r(i.onaftersave)(t))}),i.popover&&(h.popover=h.attrs.popover),t.$parent.$watch(i[h.directiveName],function(e,t){h.setLocalValue(),h.handleEmpty()})},h.render=function(){var e,t,n,r,a=h.theme;for(e in h.inputEl=angular.element(h.inputTpl),h.controlsEl=angular.element(a.controlsTpl),h.controlsEl.append(h.inputEl),"no"!==h.buttons&&(h.buttonsEl=angular.element(a.buttonsTpl),h.submitEl=angular.element(a.submitTpl),h.resetEl=angular.element(a.resetTpl),h.cancelEl=angular.element(a.cancelTpl),h.submitEl.attr("title",o.submitButtonTitle),h.submitEl.attr("aria-label",o.submitButtonAriaLabel),h.cancelEl.attr("title",o.cancelButtonTitle),h.cancelEl.attr("aria-label",o.cancelButtonAriaLabel),h.resetEl.attr("title",o.clearButtonTitle),h.resetEl.attr("aria-label",o.clearButtonAriaLabel),h.icon_set&&(h.submitEl.find("span").addClass(h.icon_set.ok),h.cancelEl.find("span").addClass(h.icon_set.cancel),h.resetEl.find("span").addClass(h.icon_set.clear)),h.buttonsEl.append(h.submitEl).append(h.cancelEl),o.displayClearButton&&h.buttonsEl.append(h.resetEl),h.controlsEl.append(h.buttonsEl),h.inputEl.addClass("editable-has-buttons")),h.errorEl=angular.element(a.errorTpl),h.controlsEl.append(h.errorEl),h.editorEl=angular.element(h.single?a.formTpl:a.noformTpl),h.editorEl.append(h.controlsEl),i.$attr)e.length<=1||(n=!1,t=e.substring(1,2),"e"===e.substring(0,1)&&t===t.toUpperCase()&&"Form"!==(n=e.substring(1))&&"NgSubmit"!==n&&(t=n.substring(0,1),r="value"!==(n=(r=n.substring(1,2))===r.toUpperCase()&&t===t.toUpperCase()?t.toLowerCase()+"-"+v.camelToDash(n.substring(1)):t.toLowerCase()+v.camelToDash(n.substring(1)))&&""===i[e]?n:i[e],h.inputEl.attr(n,r)));h.inputEl.addClass("editable-input"),h.inputEl.attr("ng-model","$parent.$data"),h.editorEl.addClass(v.camelToDash(h.directiveName)),h.single&&(h.editorEl.attr("editable-form","$form"),h.editorEl.attr("blur",h.attrs.blur||o.blurElem)),angular.isFunction(a.postrender)&&a.postrender.call(h)},h.setLocalValue=function(){h.scope.$data=h.useCopy?angular.copy(p(t.$parent)):p(t.$parent)},null);h.show=function(){var e;return h.setLocalValue(),h.render(),n.after(h.editorEl),g=t.$new(),l(h.editorEl)(g),h.addListeners(),n.addClass("editable-hide"),h.popover&&((e=angular.element("<div></div>")).append(h.editorEl),h.editorEl=e,d.put("popover.html",h.editorEl[0].outerHTML)),h.onshow()},h.hide=function(){return g.$destroy(),h.controlsEl.remove(),h.editorEl.remove(),n.removeClass("editable-hide"),h.popover&&d.remove("popover.html"),h.onhide()},h.cancel=function(){h.oncancel()},h.addListeners=function(){h.inputEl.bind("keyup",function(e){h.single&&27===e.keyCode&&h.scope.$apply(function(){h.scope.$form.$cancel()})}),h.single&&"no"===h.buttons&&h.autosubmit(),h.editorEl.bind("click",function(e){e.which&&1!==e.which||h.scope.$form.$visible&&(h.scope.$form._clicked=!0)})},h.setWaiting=function(e){e?(f=!h.inputEl.attr("disabled")&&!h.inputEl.attr("ng-disabled")&&!h.inputEl.attr("ng-enabled"))&&(h.inputEl.attr("disabled","disabled"),h.buttonsEl)&&h.buttonsEl.find("button").attr("disabled","disabled"):f&&(h.inputEl.removeAttr("disabled"),h.buttonsEl)&&h.buttonsEl.find("button").removeAttr("disabled")},h.activate=function(t,n){setTimeout(function(){var e=h.inputEl[0];"focus"===o.activate&&e.focus?(void 0!==t&&""!==t&&e.setSelectionRange&&(n=n||t,e.onfocus=function(){setTimeout(function(){try{this.setSelectionRange(t,n)}catch(e){}}.bind(this))}),("editableRadiolist"==h.directiveName||"editableChecklist"==h.directiveName||"editableBsdate"==h.directiveName||"editableTagsInput"==h.directiveName?e.querySelector(".ng-pristine"):e).focus()):"select"===o.activate&&(e.select?e.select():e.focus&&e.focus())},0)},h.setError=function(e){angular.isObject(e)||(t.$error=u.trustAsHtml(e),h.error=e)},h.catchError=function(e,t){return angular.isObject(e)&&!0!==t?c.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},h.save=function(){p.assign(t.$parent,h.useCopy?angular.copy(h.scope.$data):h.scope.$data)},h.handleEmpty=function(){var e=p(t.$parent),e=null==e||""===e||angular.isArray(e)&&0===e.length;n.toggleClass("editable-empty",e)},h.autosubmit=angular.noop,h.onshow=angular.noop,h.onhide=angular.noop,h.oncancel=angular.noop,h.onbeforesave=angular.noop,h.onaftersave=angular.noop}return t.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q","$sce","$templateCache"],t}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(c,e,t,u,d,n,p,f){return function(l){return{restrict:"A",scope:!0,require:[l.directiveName,"?^form"],controller:n,link:function(t,e,n,r){var a,i=r[0],o=!1;if(r[1])a=r[1],o=void 0===n.eSingle;else if(n.eForm){r=c(n.eForm)(t);if(r)a=r,o=!0;else if(e&&"function"==typeof e.parents&&e.parents().last().find('form[name="'+n.eForm+'"]').length)o=!(a=null);else for(var s=0;s<d[0].forms.length;s++)if(d[0].forms[s].name===n.eForm){o=!(a=null);break}}angular.forEach(l,function(e,t){void 0!==i[t]&&(i.parent[t]=i[t])}),angular.extend(i,l);if(i.init(!o),t.$editable=i,e.addClass("editable"),o)if(a){if(t.$form=a,!t.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";t.$form.$addEditable(i)}else u.$$editableBuffer=u.$$editableBuffer||{},u.$$editableBuffer[n.eForm]=u.$$editableBuffer[n.eForm]||[],u.$$editableBuffer[n.eForm].push(i),t.$form=null;else t.$form=p(),t.$form.$addEditable(i),n.eForm&&(c(n.eForm).assign||angular.noop)(t.$parent,t.$form),n.eForm&&!n.eClickable||(e.addClass("editable-click"),e.bind(f.activationEvent,function(e){e.preventDefault(),e.editable=i,(angular.isDefined(n.editDisabled)?t.$eval(n.editDisabled):f.isDisabled)||t.$apply(function(){t.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils","editableOptions",function(e,a,i,n,r,o){function s(e,t){var n=!0,e=e.$editables;return angular.forEach(e,function(e){e=e.editorEl[0];u(e,t.target)&&(n=!1)}),n}function l(e){if(!e.which||1===e.which){for(var t=[],n=[],r=0;r<c.length;r++)c[r]._clicked?c[r]._clicked=!1:c[r].$waiting||("cancel"===c[r]._blur&&s(c[r],e)&&t.push(c[r]),"submit"===c[r]._blur&&s(c[r],e)&&n.push(c[r]));(t.length||n.length)&&i.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(n,function(e){e.$submit()})})}}var c=[],u=function(e,t){if(t===e||"focus"===o.activationEvent&&t===e.parentNode)return!0;for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},t=(i.$on("closeEdit",function(){for(var e=0;e<c.length;e++)c[e].$hide()}),{$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){var t;this.$visible||(this.$visible=!0,(t=n()).when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(e){t.when(e.show())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===r.indexOf(c,this)&&c.push(this)}),0))},$activate:function(e){var t,n,r;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();"true"===this.$editables[0].attrs.usemousedown?a.bind("mousedown",l):a.bind("click",l),n=this.$editables[0].elem[0].selectionStart||(this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0),r=this.$editables[0].elem[0].selectionEnd||(this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0),this.$editables[0].activate(n,r)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),r.arrayRemove(c,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(t){this.$waiting=!!t,angular.forEach(this.$editables,function(e){e.setWaiting(!!t)})},$setError:function(t,n){angular.forEach(this.$editables,function(e){t&&e.name!==t||e.setError(n)})},$submit:function(){var t;function e(e){var t=n();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}this.$waiting||(this.$setError(null,""),t=n(),angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)}))},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var t=n();t.when(this.$onaftersave()),angular.forEach(this.$editables,function(e){t.when(e.onaftersave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop});return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},t)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(i,o,s,l){return{restrict:"A",require:["form"],compile:function(){return{pre:function(e,t,n,r){var a,r=r[0],e=(n.editableForm?e[n.editableForm]&&e[n.editableForm].$show?(a=e[n.editableForm],angular.extend(r,a)):(a=s(),e[n.editableForm]=a,angular.extend(a,r)):(a=s(),angular.extend(r,a)),i.$$editableBuffer),n=r.$name;n&&e&&e[n]&&(angular.forEach(e[n],function(e){a.$addEditable(e)}),delete e[n])},post:function(t,e,n,r){var a=n.editableForm&&t[n.editableForm]&&t[n.editableForm].$show?t[n.editableForm]:r[0];n.onshow&&(a.$onshow=angular.bind(a,o(n.onshow),t)),n.onhide&&(a.$onhide=angular.bind(a,o(n.onhide),t)),n.oncancel&&(a.$oncancel=angular.bind(a,o(n.oncancel),t)),n.shown&&o(n.shown)(t)&&a.$show(),a._blur=n.blur||l.blurForm,n.ngSubmit||n.submit||(n.onbeforesave&&(a.$onbeforesave=function(){return o(n.onbeforesave)(t,{$data:a.$data})}),n.onaftersave&&(a.$onaftersave=function(){return o(n.onaftersave)(t,{$data:a.$data})}),e.bind("submit",function(e){e.preventDefault(),t.$apply(function(){a.$submit()})})),e.bind("click",function(e){e.which&&1!==e.which||a.$visible&&(a._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(s){return function(){return{promises:[],hasFalse:!1,hasString:!1,when:function(e,t){!1===e?this.hasFalse=!0:!t&&angular.isObject(e)?this.promises.push(s.when(e)):angular.isString(e)&&(this.hasString=!0)},then:function(e){var t=(e=e||{}).onTrue||angular.noop,n=e.onFalse||angular.noop,r=e.onString||angular.noop,a=e.onWait||angular.noop,i=this;function o(){(i.hasString||i.hasFalse?!i.hasString&&i.hasFalse?n:r:t)()}this.promises.length?(a(!0),s.all(this.promises).then(function(e){a(!1),angular.forEach(e,function(e){i.when(e,!0)}),o()},function(e){a(!1),r()})):o()}}}}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},arrayRemove:function(e,t){var n=this.indexOf(e,t);return 0<=n&&e.splice(n,1),t},camelToDash:function(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n}).replace(/^moz([A-Z])/,"Moz$1")},rename:function(e,t){if(t[0]&&t[0].attributes){for(var n=angular.element("<"+e+"/>"),r=(n.html(t.html()),t[0].attributes),a=0;a<r.length;++a)n.attr(r.item(a).nodeName,r.item(a).value);return n}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){var l=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return function(e){var t,n,r,a,i,o,s;if(e=e.match(l))return t=e[2]||e[1],n=e[4]||e[6],r=e[5],e[3],a=e[2]?e[1]:n,i=e[7],e=(o=e[8])?e[8]:null,void 0===r?(s=n+" in "+i,void 0!==o&&(s+=" track by "+e)):s="("+r+", "+n+") in "+i,{ngRepeat:s,locals:{valueName:n,keyName:r,valueFn:a,displayFn:t}};throw"ng-options parse error"}}]),angular.module("xeditable").factory("editableCombodate",[function(){function n(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";e=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:e,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return n.prototype={constructor:n,init:function(){var t;this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays&&(t=this).$widget.find("select").bind("change",function(e){(angular.element(e.target).hasClass("month")||angular.element(e.target).hasClass("year"))&&t.fillCombo("day")}),this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var r=this.options.template,n=this.options.customClass;return angular.forEach(this.map,function(e,t){e=e[0];var n=new RegExp(e+"+"),e=1<e.length?e.substring(1,2):e;r=r.replace(n,"{"+e+"}")}),r=r.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(e,t){e=1<(e=e[0]).length?e.substring(1,2):e;r=r.replace("{"+e+"}",'<select class="'+t+" "+n+'"></select>')}),r},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var n=this["fill"+e.charAt(0).toUpperCase()+e.slice(1)](),e=t.val();t.html("");for(var r=0;r<n.length;r++)t.append('<option value="'+n[r][0]+'">'+n[r][1]+"</option>");t.val(e)}},fillCommon:function(e){var t,n=[];return"name"===this.options.firstItem?(t=(t="function"==typeof(t=moment.relativeTime||moment.langData()._relativeTime)[e]?t[e](1,!0,e,!1):t[e]).split(" ").reverse()[0],n.push(["",t])):"empty"===this.options.firstItem&&n.push(["",""]),n},fillDay:function(){var e,t,n,r,a=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),o=31;for(this.options.smartDays&&this.$month&&this.$year&&(n=parseInt(this.$month.val(),10),r=parseInt(this.$year.val(),10),isNaN(n)||isNaN(r)||(o=moment([r,n]).daysInMonth())),t=1;t<=o;t++)e=i?this.leadZero(t):t,a.push([t,e]);return a},fillMonth:function(){for(var e,t=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),r=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM"),i=0;i<=11;i++)e=n?moment().date(1).month(i).format("MMMM"):r?moment().date(1).month(i).format("MMM"):a?this.leadZero(i+1):i+1,t.push([i,e]);return t},fillYear:function(){for(var e,t=[],n=-1!==this.options.template.indexOf("YYYY"),r=this.options.maxYear;r>=this.options.minYear;r--)e=n?r:(r+"").substring(2),t[this.options.yearDescending?"push":"unshift"]([r,e]);return t=this.fillCommon("y").concat(t)},fillHour:function(){for(var e,t=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),r=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=n?12:23,i=n?1:0;i<=a;i++)e=r?this.leadZero(i):i,t.push([i,e]);return t},fillMinute:function(){for(var e,t=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm"),r=0;r<=59;r+=this.options.minuteStep)e=n?this.leadZero(r):r,t.push([r,e]);return t},fillSecond:function(){for(var e,t=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss"),r=0;r<=59;r+=this.options.secondStep)e=n?this.leadZero(r):r,t.push([r,e]);return t},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,r={},a=this,i=!1;return angular.forEach(this.map,function(e,t){var n;if("ampm"!==t)return n="day"===t?1:0,r[t]=a["$"+t]?parseInt(a["$"+t].val(),10):n,isNaN(r[t])?!(i=!0):void 0}),i?"":(this.$ampm&&(r.hour=12===r.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?r.hour:r.hour+12),t=moment([r.year,r.month,r.day,r.hour,r.minute,r.second]),this.highlight(t),null===(e=void 0===e?this.options.format:e)?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){var n,r,a;function i(e,r){var a={};return angular.forEach(e.children("option"),function(e,t){var n,e=angular.element(e).attr("value");""!==e&&(n=Math.abs(e-r),void 0===a.distance||n<a.distance)&&(a={value:e,distance:n})}),a.value}e&&(n="string"==typeof e?moment(e,this.options.format,!0):moment(e),r=this,a={},n.isValid())&&(angular.forEach(this.map,function(e,t){"ampm"!==t&&(a[t]=n[e[1]]())}),this.$ampm&&(12<=a.hour?(a.ampm="pm",12<a.hour&&(a.hour-=12)):(a.ampm="am",0===a.hour&&(a.hour=12))),angular.forEach(a,function(e,t){r["$"+t]&&("minute"===t&&1<r.options.minuteStep&&r.options.roundTime&&(e=i(r["$"+t],e)),"second"===t&&1<r.options.secondStep&&r.options.roundTime&&(e=i(r["$"+t],e)),r["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).triggerHandler("change"))},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(e,t){return new n(e,t)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash",calendar:"icon-calendar"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash",calendar:"glyphicon glyphicon-calendar"},bs4:{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash",calendar:"fa fa-calendar"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash",calendar:"fa fa-calendar"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',calendarButtonClass:"btn",buttonGroupAppendClass:"input-append"},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",calendarButtonClass:"btn btn-default",buttonGroupAppendClass:"input-group-btn",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},bs4:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group"></div>',inputTpl:"",errorTpl:'<div class="editable-error form-text invalid-feedback" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-secondary" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",calendarButtonClass:"btn btn-secondary",buttonGroupAppendClass:"input-group-append",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.inputEl.attr("ng-class","{'is-invalid': $error}"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("form-control-sm"===this.theme.inputClass||"form-control-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("form-check")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}}}),function(){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function(e){e.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="html" ng-bind-html="toaster.body"></div><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="toaster.directiveData"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function(d,e){var t,p={newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}};for(t in this.pop=function(e,t,n,r,a,i,o,s,l,c){var u;return angular.isObject(e)?(this.toast={type:(u=e).type,title:u.title,body:u.body,timeout:u.timeout,bodyOutputType:u.bodyOutputType,clickHandler:u.clickHandler,showCloseButton:u.showCloseButton,closeHtml:u.closeHtml,toastId:u.toastId,onShowCallback:u.onShowCallback,onHideCallback:u.onHideCallback,directiveData:u.directiveData,tapToDismiss:u.tapToDismiss},o=u.toasterId):this.toast={type:e,title:t,body:n,timeout:r,bodyOutputType:a,clickHandler:i,showCloseButton:s,toastId:l,onHideCallback:c},this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=p.newGuid()),d.$emit("toaster-newToast",o,this.toast.toastId),{toasterId:o,toastId:this.toast.toastId}},this.clear=function(e,t){angular.isObject(e)?d.$emit("toaster-clearToasts",e.toasterId,e.toastId):d.$emit("toaster-clearToasts",e,t)},e["icon-classes"])this[t]=function(c){return function(e,t,n,r,a,i,o,s,l){return angular.isString(e)?this.pop(c,e,t,n,r,a,i,o,s,l):this.pop(angular.extend(e,{type:c}))}}(t)}]).factory("toasterEventRegistry",["$rootScope",function(e){var t=null,n=null,i=[],o=[],r={setup:function(){t=t||e.$on("toaster-newToast",function(e,t,n){for(var r=0,a=i.length;r<a;r++)i[r](e,t,n)}),n=n||e.$on("toaster-clearToasts",function(e,t,n){for(var r=0,a=o.length;r<a;r++)o[r](e,t,n)})},subscribeToNewToastEvent:function(e){i.push(e)},subscribeToClearToastsEvent:function(e){o.push(e)},unsubscribeToNewToastEvent:function(e){e=i.indexOf(e);0<=e&&i.splice(e,1),0===i.length&&(t(),t=null)},unsubscribeToClearToastsEvent:function(e){e=o.indexOf(e);0<=e&&o.splice(e,1),0===o.length&&(n(),n=null)}};return{setup:r.setup,subscribeToNewToastEvent:r.subscribeToNewToastEvent,subscribeToClearToastsEvent:r.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:r.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:r.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(i,o){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"=directiveData"},replace:!0,link:function(n,r,a){n.$watch("directiveName",function(t){if(angular.isUndefined(t)||t.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");try{e=o.get(a.$normalize(t)+"Directive")}catch(e){throw new Error(t+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var e=e[0];if(!0!==e.scope&&e.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+t+".");if(e.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+t+".");n.directiveData&&(n.directiveData=angular.fromJson(n.directiveData));e=i("<div "+t+"></div>")(n);r.append(e)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(f,e,a,h,n,m,r){return{replace:!0,restrict:"EA",scope:!0,link:function(c,e,t){var u;function d(e){var t=c.toasters[e];t.timeoutPromise&&a.cancel(t.timeoutPromise),c.toasters.splice(e,1),angular.isFunction(t.onHideCallback)&&t.onHideCallback(t)}function p(e){return angular.isUndefined(e)||null===e}u=angular.extend({},n,c.$eval(t.toasterOptions)),c.config={toasterId:u["toaster-id"],position:u["position-class"],title:u["title-class"],message:u["message-class"],tap:u["tap-to-dismiss"],closeButton:u["close-button"],closeHtml:u["close-html"],animation:u["animation-class"],mouseoverTimer:u["mouseover-timer-stop"]},c.$on("$destroy",function(){r.unsubscribeToNewToastEvent(c._onNewToast),r.unsubscribeToClearToastsEvent(c._onClearToasts)}),c.configureTimer=function(e){var t,n=angular.isNumber(e.timeout)?e.timeout:u["time-out"];0<(n="object"==typeof n?n[e.type]:n)&&(n=n,(t=e).timeoutPromise=a(function(){c.removeToast(t.toastId)},n,1))},c.removeToast=function(e){for(var t=0,n=c.toasters.length;t<n;t++)if(c.toasters[t].toastId===e){d(t);break}},c.toasters=[],c._onNewToast=function(e,t,n){if(p(c.config.toasterId)&&p(t)||!p(c.config.toasterId)&&!p(t)&&c.config.toasterId==t){var r=m.toast,a=n;if(r.type=u["icon-classes"][r.type],r.type||(r.type=u["icon-class"]),!0===u["prevent-duplicates"]&&c.toasters.length){if(c.toasters[c.toasters.length-1].body===r.body)return;for(var i=!1,o=0,s=c.toasters.length;o<s;o++)if(c.toasters[o].toastId===a){i=!0;break}if(i)return}t=u["close-button"];switch("boolean"!=typeof r.showCloseButton&&("boolean"==typeof t?r.showCloseButton=t:"object"==typeof t?null!=(t=t[r.type])&&(r.showCloseButton=t):r.showCloseButton=!1),r.showCloseButton&&(r.closeHtml=h.trustAsHtml(r.closeHtml||c.config.closeHtml)),r.bodyOutputType=r.bodyOutputType||u["body-output-type"],r.bodyOutputType){case"trustedHtml":r.html=h.trustAsHtml(r.body);break;case"template":r.bodyTemplate=r.body||u["body-template"];break;case"templateWithData":var l=f(r.body||u["body-template"])(c);r.bodyTemplate=l.template,r.data=l.data;break;case"directive":r.html=r.body}c.configureTimer(r),!0===u["newest-on-top"]?(c.toasters.unshift(r),0<u.limit&&c.toasters.length>u.limit&&d(c.toasters.length-1)):(c.toasters.push(r),0<u.limit&&c.toasters.length>u.limit&&d(0)),angular.isFunction(r.onShowCallback)&&r.onShowCallback(r)}},c._onClearToasts=function(e,t,n){if("*"==t||p(c.config.toasterId)&&p(t)||!p(c.config.toasterId)&&!p(t)&&c.config.toasterId==t)for(var r=n,a=c.toasters.length-1;0<=a;a--)(p(r)||c.toasters[a].toastId==r)&&d(a)},r.setup(),r.subscribeToNewToastEvent(c._onNewToast),r.subscribeToClearToastsEvent(c._onClearToasts)},controller:["$scope","$element","$attrs",function(r,e,t){r.stopTimer=function(e){!0===r.config.mouseoverTimer&&e.timeoutPromise&&(a.cancel(e.timeoutPromise),e.timeoutPromise=null)},r.restartTimer=function(e){!0===r.config.mouseoverTimer?e.timeoutPromise||r.configureTimer(e):null===e.timeoutPromise&&r.removeToast(e.toastId)},r.click=function(e,t,n){e.stopPropagation(),(!0===("boolean"==typeof t.tapToDismiss?t.tapToDismiss:r.config.tap)||!0===t.showCloseButton&&!0===n)&&(e=!0,t.clickHandler&&(angular.isFunction(t.clickHandler)?e=t.clickHandler(t,n):angular.isFunction(r.$parent.$eval(t.clickHandler))?e=r.$parent.$eval(t.clickHandler)(t,n):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),e)&&r.removeToast(t.toastId)}}],templateUrl:"angularjs-toaster/toast.html"}}])}((window,document)),function(h){"use strict";var m=window.angulartics||(window.angulartics={});function s(e){return 0<=["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(e.tagName.toLowerCase()+":"+(e.type||""))}function l(e){e=e.slice(9);return null!=e&&0<e.length?e.substring(0,1).toLowerCase()+e.substring(1):e}m.waitForVendorCount=0,m.waitForVendorApi=function(e,t,n,r,a){a||m.waitForVendorCount++,r||(r=n,n=void 0),!Object.prototype.hasOwnProperty.call(window,e)||void 0!==n&&void 0===window[e][n]?setTimeout(function(){m.waitForVendorApi(e,t,n,r,!0)},t):(m.waitForVendorCount--,r(window[e]))},h.module("angulartics",[]).provider("$analytics",function(){var a=this,n={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,trackRoutes:!0,trackStates:!0,autoBasePath:!1,basePath:"",excludedRoutes:[],queryKeysWhitelisted:[],queryKeysBlacklisted:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,optOut:!1,developerMode:!1},e=["pageTrack","eventTrack","exceptionTrack","transactionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings","clearCookies"],i={},o={},s={};function l(e,t,n){return o[e]||(o[e]=[]),o[e].push(t),s[t]=n,function(){var a;if(!this.settings.optOut)return a=Array.prototype.slice.apply(arguments),this.$inject(["$q",h.bind(this,function(r){return r.all(o[e].map(function(e){var t,n;return(s[e]||{}).async?(t=r.defer(),(n=h.copy(a)).unshift(t.resolve),e.apply(this,n),t.promise):r.when(e.apply(this,a))},this))})])}}var c={settings:n};c.setOptOut=function(e){this.settings.optOut=e,f()},c.getOptOut=function(){return this.settings.optOut};var r={$get:["$injector",function(e){return t(e)}],api:c,settings:n,virtualPageviews:function(e){this.settings.pageTracking.autoTrackVirtualPages=e},trackStates:function(e){this.settings.pageTracking.trackStates=e},trackRoutes:function(e){this.settings.pageTracking.trackRoutes=e},excludeRoutes:function(e){this.settings.pageTracking.excludedRoutes=e},queryKeysWhitelist:function(e){this.settings.pageTracking.queryKeysWhitelisted=e},queryKeysBlacklist:function(e){this.settings.pageTracking.queryKeysBlacklisted=e},firstPageview:function(e){this.settings.pageTracking.autoTrackFirstPage=e},withBase:function(e){this.settings.pageTracking.basePath=e?h.element(document).find("base").attr("href"):""},withAutoBase:function(e){this.settings.pageTracking.autoBasePath=e},trackExceptions:function(e){this.settings.trackExceptions=e},developerMode:function(e){this.settings.developerMode=e}};function u(e,r,t){var a;n.developerMode||(c[e]=l(e,r,t),t=(t=n[e])?t.bufferFlushDelay:null,a=null!==t?t:n.bufferFlushDelay,h.forEach(i[e],function(e,t){var n;n=function(){r.apply(this,e)},(t=t*a)?setTimeout(n,t):n()}))}var t=function(e){return h.extend(c,{$inject:e.invoke})};function d(n){var e,t="register"+n.replace(/^./,function(e){return e.toUpperCase()});r[t]=function(e,t){u(n,e,t)},c[n]=l(n,(e=n,function(){m.waitForVendorCount&&(i[e]||(i[e]=[]),i[e].push(arguments))}))}function p(e,t,n){for(var r in h.forEach(t,n),e)a[r]=e[r]}var f=function(){p(r,e,d)};p(r,e,d)}).run(["$rootScope","$window","$analytics","$injector",function(a,i,o,s){function n(e,t,n){if(/\?/.test(e)&&0<t.length){for(var r=e.split("?"),a=r[0],i=r[1].split("&"),o=[],s=0;s<t.length;s++)for(var l=t[s],c=0;c<i.length;c++)(l instanceof RegExp&&l.test(i[c])||-1<i[c].indexOf(l))&&o.push(i[c]);r="white"==n?o:function(e,t){for(var n=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&n.push(e[r]);return n}(i,o);return 0<r.length?a+"?"+r.join("&"):a}return e}function l(e,t){!function(e){for(var t=0;t<o.settings.pageTracking.excludedRoutes.length;t++){var n=o.settings.pageTracking.excludedRoutes[t];if(n instanceof RegExp&&n.test(e)||-1<e.indexOf(n))return 1}}(e)&&(e=n(e,o.settings.pageTracking.queryKeysWhitelisted,"white"),e=n(e,o.settings.pageTracking.queryKeysBlacklisted,"black"),o.pageTrack(e,t))}o.settings.pageTracking.autoTrackFirstPage&&s.invoke(["$location",function(e){var t,n=!0;if(s.has("$route")){var r=s.get("$route");if(r)for(var a in r.routes){n=!1;break}else null===r&&(n=!1)}else if(s.has("$state"))for(t in s.get("$state").get()){n=!1;break}n&&(o.settings.pageTracking.autoBasePath&&(o.settings.pageTracking.basePath=i.location.pathname),o.settings.pageTracking.trackRelativePath?l(o.settings.pageTracking.basePath+e.url(),e):l(e.absUrl(),e))}]);o.settings.pageTracking.autoTrackVirtualPages&&s.invoke(["$location",function(n){o.settings.pageTracking.autoBasePath&&(o.settings.pageTracking.basePath=i.location.pathname+"#");var e=!0;if(o.settings.pageTracking.trackRoutes&&s.has("$route")){var t=s.get("$route");if(t)for(var r in t.routes){e=!1;break}else null===t&&(e=!1);a.$on("$routeChangeSuccess",function(e,t){t&&(t.$$route||t).redirectTo||l(o.settings.pageTracking.basePath+n.url(),n)})}o.settings.pageTracking.trackStates&&(s.has("$state")&&!s.has("$transitions")&&(e=!1,a.$on("$stateChangeSuccess",function(e,t){l(o.settings.pageTracking.basePath+n.url(),n)})),s.has("$state"))&&s.has("$transitions")&&(e=!1,s.invoke(["$transitions",function(e){e.onSuccess({},function(e){e.options().notify&&l(o.settings.pageTracking.basePath+n.url(),n)})}])),e&&a.$on("$locationChangeSuccess",function(e,t){t&&(t.$$route||t).redirectTo||(o.settings.pageTracking.trackRelativePath?l(o.settings.pageTracking.basePath+n.url(),n):l(n.absUrl(),n))})}]);o.settings.developerMode&&h.forEach(o,function(e,t){"function"==typeof e&&(o[t]=function(){})})}]).directive("analyticsOn",["$analytics",function(o){return{restrict:"A",link:function(n,r,a){var e=a.analyticsOn||"click",i={};h.forEach(a.$attr,function(e,t){var n;"analytics"===(n=t).substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(n.substr(9))&&(i[l(t)]=a[t],a.$observe(t,function(e){i[l(t)]=e}))}),h.element(r[0]).bind(e,function(e){var t=a.analyticsEvent||(s(t=r[0])?t.innerText||t.value:t.id||t.name||t.tagName);i.eventType=e.type,a.analyticsIf&&!n.$eval(a.analyticsIf)||(a.analyticsProperties&&h.extend(i,n.$eval(a.analyticsProperties)),o.eventTrack(t,i))})}}}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(a,i){return function(e,t){var n=a(e,t),r=i.get("$analytics");return r.settings.trackExceptions&&r.exceptionTrack(e,t),n}}])}])}(angular),function(){"use strict";angular.module("angulartics.google.tagmanager",["angulartics"]).config(["$analyticsProvider",function(e){e.registerPageTrack(function(e){(window.dataLayer=window.dataLayer||[]).push({event:"content-view","content-name":e})}),e.registerEventTrack(function(e,t){(window.dataLayer=window.dataLayer||[]).push({event:(t=t||{}).event||"interaction",target:t.category,action:e,"target-properties":t.label,value:t.value,"interaction-type":t.noninteraction})}),e.registerSetUsername(function(e,t){(window.dataLayer=window.dataLayer||[]).push({username:e,user:t=t||{}})})}])}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="checklist-model"),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(g,v){function b(e,t,n){if(angular.isArray(e))for(var r=e.length;r--;)if(n(e[r],t))return!0;return!1}function y(e,t,n){return b(e=angular.isArray(e)?e:[],t,n)||e.push(t),e}function $(e,t,n){if(angular.isArray(e))for(var r=e.length;r--;)if(n(e[r],t)){e.splice(r,1);break}return e}function n(r,e,a){var n,t=a.checklistModel,i=(a.$set("checklistModel",null),v(e)(r),a.$set("checklistModel",t),g(t)),o=g(a.checklistChange),s=g(a.checklistBeforeChange),l=g(a.ngModel),c=function(e,t){return isNaN(e)||isNaN(t)?angular.equals(e,t):String(e)===String(t)},u=(a.hasOwnProperty("checklistComparator")&&(c="."==a.checklistComparator[0]?(n=a.checklistComparator.substring(1),function(e,t){return e[n]===t[n]}):g(a.checklistComparator)(r.$parent)),r.$watch(a.ngModel,function(e,t){e!==t&&(s&&!1===s(r)?l.assign(r,b(i(r.$parent),f(),c)):(h(f(),e),o&&o(r)))})),d=r.$watch(f,function(e,t){var n;e!=t&&angular.isDefined(t)&&!0===r[a.ngModel]&&(n=i(r.$parent),i.assign(r.$parent,$(n,t,c)),i.assign(r.$parent,y(n,e,c)))},!0),p=r.$on("$destroy",function(){u(),d(),p()});function f(){return a.checklistValue?g(a.checklistValue)(r.$parent):a.value}function h(e,t){var n=i(r.$parent);angular.isFunction(i.assign)&&(!0===t?i.assign(r.$parent,y(n,e,c)):i.assign(r.$parent,$(n,e,c)))}function m(e,t){s&&!1===s(r)?h(f(),l(r)):l.assign(r,b(e,f(),c))}angular.isFunction(r.$parent.$watchCollection)?r.$parent.$watchCollection(t,m):r.$parent.$watch(t,m,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,t){if(t.checklistValue||t.value)return t.ngModel||t.$set("ngModel","checked"),n;throw"You should provide `value` or `checklist-value`."}}}]),function(e,r){if(e){for(var a,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},n={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},t=1;t<20;++t)i[111+t]="f"+t;for(t=0;t<=9;++t)i[t+96]=t.toString();k.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},k.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},k.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},k.prototype.reset=function(){return this._callbacks={},this._directMap={},this},k.prototype.stopCallback=function(e,t){var n;return!(-1<(" "+t.className+" ").indexOf(" mousetrap ")||function e(t,n){return null!==t&&t!==r&&(t===n||e(t.parentNode,n))}(t,this.target))&&("INPUT"==(t="composedPath"in e&&"function"==typeof e.composedPath&&(n=e.composedPath()[0])!==e.target?n:t).tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},k.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},k.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);a=null},(k.init=function(){var e,t=k(r);for(e in t)"_"!==e.charAt(0)&&(k[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))})(),e.Mousetrap=k,"undefined"!=typeof module&&module.exports&&(module.exports=k),"function"==typeof define&&define.amd&&define(function(){return k})}function b(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function y(e){var t;return"keypress"==e.type?(t=String.fromCharCode(e.which),e.shiftKey?t:t.toLowerCase()):i[e.which]||n[e.which]||String.fromCharCode(e.which).toLowerCase()}function $(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function l(e,t,n){return n="keypress"==(n=n||(function(){if(!a)for(var e in a={},i)95<e&&e<112||i.hasOwnProperty(e)&&(a[i[e]]=e);return a}()[e]?"keydown":"keypress"))&&t.length?"keydown":n}function w(e,t){for(var n,r=[],a="+"===(e=e)?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+"),i=0;i<a.length;++i)n=a[i],s[n]&&(n=s[n]),t&&"keypress"!=t&&o[n]&&(n=o[n],r.push("shift")),$(n)&&r.push(n);return{key:n,modifiers:r,action:t=l(n,r,t)}}function k(e){var p=this;if(e=e||r,!(p instanceof k))return new k(e);p.target=e,p._callbacks={},p._directMap={};var l,f={},c=!1,u=!1,d=!1;function h(e){e=e||{};var t,n=!1;for(t in f)e[t]?n=!0:f[t]=0;n||(d=!1)}function m(e,t,n,r,a,i){var o,s=[],l=n.type;if(!p._callbacks[e])return[];for("keyup"==l&&$(e)&&(t=[e]),o=0;o<p._callbacks[e].length;++o){var c,u,d=p._callbacks[e][o];!r&&d.seq&&f[d.seq]!=d.level||l!=d.action||("keypress"!=l||n.metaKey||n.ctrlKey)&&(c=t,u=d.modifiers,c.sort().join(",")!==u.sort().join(","))||(c=!r&&d.combo==a,u=r&&d.seq==r&&d.level==i,(c||u)&&p._callbacks[e].splice(o,1),s.push(d))}return s}function g(e,t,n,r){p.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&((r=t).preventDefault?r.preventDefault():r.returnValue=!1,(e=t).stopPropagation?e.stopPropagation():e.cancelBubble=!0)}function t(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,n=y(e);n&&("keyup"==e.type&&c===n?c=!1:p.handleKey(n,(n=[],(t=e).shiftKey&&n.push("shift"),t.altKey&&n.push("alt"),t.ctrlKey&&n.push("ctrl"),t.metaKey&&n.push("meta"),n),e))}function o(t,e,n,r){function a(e){return function(){d=e,++f[t],clearTimeout(l),l=setTimeout(h,1e3)}}function i(e){g(n,e,t),"keyup"!==r&&(c=y(e)),setTimeout(h,10)}for(var o=f[t]=0;o<e.length;++o){var s=o+1===e.length?i:a(r||w(e[o+1]).action);v(e[o],s,r,t,o)}}function v(e,t,n,r,a){p._directMap[e+":"+n]=t;var i=(e=e.replace(/\s+/g," ")).split(" ");1<i.length?o(e,i,t,n):(i=w(e,n),p._callbacks[i.key]=p._callbacks[i.key]||[],m(i.key,i.modifiers,{type:i.action},r,e,a),p._callbacks[i.key][r?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:r,level:a,combo:e}))}p._handleKey=function(e,t,n){for(var r=m(e,t,n),a={},i=0,o=!1,s=0;s<r.length;++s)r[s].seq&&(i=Math.max(i,r[s].level));for(s=0;s<r.length;++s)r[s].seq?r[s].level==i&&(o=!0,a[r[s].seq]=1,g(r[s].callback,n,r[s].combo,r[s].seq)):o||g(r[s].callback,n,r[s].combo);t="keypress"==n.type&&u;n.type!=d||$(e)||t||h(a),u=o&&"keydown"==n.type},p._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},b(e,"keypress",t),b(e,"keydown",t),b(e,"keyup",t)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),angular.module("debounce",[]).service("debounce",["$timeout",function(l){return function(t,n,r){function e(){o=this,i=arguments;var e=r&&!a;return a&&l.cancel(a),a=l(function(){a=null,r||(s=t.apply(o,i))},n),s=e?t.apply(o,i):s}var a,i,o,s;return e.cancel=function(){l.cancel(a),a=null},e}}]).directive("debounce",["debounce","$parse",function(c,u){return{require:"ngModel",priority:999,link:function(e,t,n,r){var a,i,o=u(n.debounce)(e),n=!!u(n.immediate)(e),s=r.$render.bind(r),l=c(function(e){i=!0,r.$setViewValue(e),i=!1},parseInt(o,10),n);r.$render=function(){s(),l.cancel(),a=this.$viewValue},r.$parsers.unshift(function(e){return i?a=e:(l(r.$viewValue),a)})}}}]),function(){"use strict";angular.module("angular-filters",[])}(),function(){"use strict";angular.module("angular-filters").filter("bytes",[function(){return function(e,t){var n,r,a;return 0===(e="number"!=typeof e?parseFloat(e):e)?"0 B":isNaN(e)||!isFinite(e)?"-":((n=e<0)&&(e=-e),"number"!=typeof t&&(t=parseFloat(t)),!isNaN(t)&&isFinite(t)||(t=1),r=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),r.length-1),(n?"-":"")+(e/Math.pow(1024,Math.floor(a))).toFixed(t)+" "+r[a])}}])}(),function(){"use strict";angular.module("angular-filters").filter("join",[function(){return function(e,t){var n;return Array.isArray(e)?(n=[],e.forEach(function(e){e&&n.push(e)}),n.join(t||",")):e}}])}(),function(){"use strict";angular.module("angular-filters").filter("percentage",["$filter",function(r){return function(e,t){var n;return e=parseFloat(e),isFinite(e)?(e=Math.floor(e)+(n=e-Math.floor(e),n=(n=parseFloat(n.toFixed(5))).toString().split("e"),+((n=(n=Math.ceil(+(n[0]+"e"+(n[1]?+n[1]+1:1)))).toString().split("e"))[0]+"e"+(n[1]?+n[1]-1:-1))),t=parseFloat(t),isFinite(t)&&t<e?t+"%":parseFloat(r("number")(e,e%1==0?0:1))+"%"):"0%"}}])}(),function(){"use strict";angular.module("angular-filters").filter("replace",[function(){function r(e){return"string"==typeof e||e instanceof String}return function(e,t,n){return r(e)&&r(t)&&r(n)?e.split(t).join(n):e}}])}(),function(){"use strict";angular.module("angular-filters").filter("reverse",[function(){return function(e){if(Array.isArray(e))return e.slice().reverse();if("string"==typeof e||e instanceof String){for(var t=e,n="",r=0;r<t.length;r++)n=t.charAt(r)+n;return n}return e}}])}(),function(){"use strict";angular.module("angular-filters").filter("toSpacedWords",[function(){return function(e){var t;return e&&("string"==typeof e||e instanceof String?t=!(t=e).match(/\d+|__/g)&&1<(t=t.replace(/([a-z])([A-Z])/g,"$1 $2")).length?t.charAt(0).toUpperCase()+t.slice(1):t:e)}}])}(),function(e,t){"function"==typeof define&&define.amd?define(["lodash","angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("lodash"),require("angular")):t(e._,e.angular)}(this,function(U,q){var e=q.module("restangular",[]);return e.provider("Restangular",function(){var R={},e=(R.init=function(o,f){o.configuration=f;function e(){}var t=["get","head","options","trace","getlist"],n=(f.isSafe=function(e){return U.includes(t,e.toLowerCase())},/^https?:\/\//i);f.isAbsoluteUrl=function(e){return U.isUndefined(f.absoluteUrl)||U.isNull(f.absoluteUrl)?e&&n.test(e):f.absoluteUrl},f.absoluteUrl=!!U.isUndefined(f.absoluteUrl)||f.absoluteUrl,o.setSelfLinkAbsoluteUrl=function(e){f.absoluteUrl=e},f.baseUrl=U.isUndefined(f.baseUrl)?"":f.baseUrl,o.setBaseUrl=function(e){return f.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},f.extraFields=f.extraFields||[],o.setExtraFields=function(e){return f.extraFields=e,this},f.defaultHttpFields=f.defaultHttpFields||{},o.setDefaultHttpFields=function(e){return f.defaultHttpFields=e,this},f.plainByDefault=f.plainByDefault||!1,o.setPlainByDefault=function(e){return f.plainByDefault=!0===e,this},f.withHttpValues=function(e,t){return U.defaults(t,e,f.defaultHttpFields)},f.encodeIds=!!U.isUndefined(f.encodeIds)||f.encodeIds,o.setEncodeIds=function(e){f.encodeIds=e},f.defaultRequestParams=f.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},o.setDefaultRequestParams=function(e,t){var n=[],r=t||e;return U.isUndefined(t)?n.push("common"):U.isArray(e)?n=e:n.push(e),U.each(n,function(e){f.defaultRequestParams[e]=r}),this},o.requestParams=f.defaultRequestParams,f.defaultHeaders=f.defaultHeaders||{},o.setDefaultHeaders=function(e){return f.defaultHeaders=e,o.defaultHeaders=f.defaultHeaders,this},o.defaultHeaders=f.defaultHeaders,f.methodOverriders=f.methodOverriders||[],o.setMethodOverriders=function(e){e=U.extend([],e);return f.isOverridenMethod("delete",e)&&e.push("remove"),f.methodOverriders=e,this},f.jsonp=!U.isUndefined(f.jsonp)&&f.jsonp,o.setJsonp=function(e){f.jsonp=e},f.isOverridenMethod=function(t,e){e=e||f.methodOverriders;return!U.isUndefined(U.find(e,function(e){return e.toLowerCase()===t.toLowerCase()}))},f.urlCreator=f.urlCreator||"path",o.setUrlCreator=function(e){if(U.has(f.urlCreatorFactory,e))return f.urlCreator=e,this;throw new Error("URL Path selected isn't valid")},f.restangularFields=f.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPATCH:"customPATCH",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPATCH:"doPATCH",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},o.setRestangularFields=function(e){return f.restangularFields=U.extend(f.restangularFields,e),this},f.isRestangularized=function(e){return!!e[f.restangularFields.restangularized]},f.setFieldToElem=function(e,t,n){var e=e.split("."),r=t;return U.each(U.initial(e),function(e){r[e]={},r=r[e]}),r[U.last(e)]=n,this},f.getFieldFromElem=function(e,t){var e=e.split("."),n=t;return U.each(e,function(e){n=n&&n[e]}),q.copy(n)},f.setIdToElem=function(e,t){return f.setFieldToElem(f.restangularFields.id,e,t),this},f.getIdFromElem=function(e){return f.getFieldFromElem(f.restangularFields.id,e)},f.isValidId=function(e){return""!==e&&!U.isUndefined(e)&&!U.isNull(e)},f.setUrlToElem=function(e,t){return f.setFieldToElem(f.restangularFields.selfLink,e,t),this},f.getUrlFromElem=function(e){return f.getFieldFromElem(f.restangularFields.selfLink,e)},f.useCannonicalId=!U.isUndefined(f.useCannonicalId)&&f.useCannonicalId,o.setUseCannonicalId=function(e){return f.useCannonicalId=e,this},f.getCannonicalIdFromElem=function(e){var t=e[f.restangularFields.cannonicalId];return f.isValidId(t)?t:f.getIdFromElem(e)},f.responseInterceptors=f.responseInterceptors||[],f.defaultResponseInterceptor=function(e){return e},f.responseExtractor=function(e,t,n,r,a,i){var o=q.copy(f.responseInterceptors),s=(o.push(f.defaultResponseInterceptor),e);return U.each(o,function(e){s=e(s,t,n,r,a,i)}),s},o.addResponseInterceptor=function(e){return f.responseInterceptors.push(e),this},f.errorInterceptors=f.errorInterceptors||[],o.addErrorInterceptor=function(e){return f.errorInterceptors.push(e),this},o.setResponseInterceptor=o.addResponseInterceptor,o.setResponseExtractor=o.addResponseInterceptor,o.setErrorInterceptor=o.addErrorInterceptor,f.requestInterceptors=f.requestInterceptors||[],f.defaultInterceptor=function(e,t,n,r,a,i,o){return{element:e,headers:a,params:i,httpConfig:o}},f.fullRequestInterceptor=function(e,n,r,a,t,i,o){var s=q.copy(f.requestInterceptors),e=f.defaultInterceptor(e,n,r,a,t,i,o);return U.reduce(s,function(e,t){return U.extend(e,t(e.element,n,r,a,e.headers,e.params,e.httpConfig))},e)},o.addRequestInterceptor=function(s){return f.requestInterceptors.push(function(e,t,n,r,a,i,o){return{headers:a,params:i,element:s(e,t,n,r),httpConfig:o}}),this},o.setRequestInterceptor=o.addRequestInterceptor,o.addFullRequestInterceptor=function(e){return f.requestInterceptors.push(e),this},o.setFullRequestInterceptor=o.addFullRequestInterceptor,f.onBeforeElemRestangularized=f.onBeforeElemRestangularized||function(e){return e},o.setOnBeforeElemRestangularized=function(e){return f.onBeforeElemRestangularized=e,this},o.setRestangularizePromiseInterceptor=function(e){return f.restangularizePromiseInterceptor=e,this},f.onElemRestangularized=f.onElemRestangularized||function(e){return e},o.setOnElemRestangularized=function(e){return f.onElemRestangularized=e,this},f.shouldSaveParent=f.shouldSaveParent||function(){return!0},o.setParentless=function(t){return U.isArray(t)?f.shouldSaveParent=function(e){return!U.includes(t,e)}:U.isBoolean(t)&&(f.shouldSaveParent=function(){return!t}),this},f.suffix=U.isUndefined(f.suffix)?null:f.suffix,o.setRequestSuffix=function(e){return f.suffix=e,this},f.transformers=f.transformers||{},f.matchTransformers=f.matchTransformers||[],o.addElementTransformer=function(e,t,n){function r(e,t){return U.isNull(a)||e===a?i(t):t}var a=null,i=null;2===arguments.length?i=t:(i=n,a=t);return U.isRegExp(e)?f.matchTransformers.push({regexp:e,transformer:r}):(f.transformers[e]||(f.transformers[e]=[]),f.transformers[e].push(r)),o},o.extendCollection=function(e,t){return o.addElementTransformer(e,!0,t)},o.extendModel=function(e,t){return o.addElementTransformer(e,!1,t)},f.transformElem=function(e,t,n,r,a){var i;return a||f.transformLocalElements||e[f.restangularFields.fromServer]?(i=e,(a=f.matchTransformers)&&U.each(a,function(e){e.regexp.test(n)&&(i=e.transformer(t,i))}),(a=f.transformers[n])&&U.each(a,function(e){i=e(t,i)}),f.onElemRestangularized(i,t,n,r)):e},f.transformLocalElements=!U.isUndefined(f.transformLocalElements)&&f.transformLocalElements,o.setTransformOnlyServerElements=function(e){f.transformLocalElements=!e},f.fullResponse=!U.isUndefined(f.fullResponse)&&f.fullResponse,o.setFullResponse=function(e){return f.fullResponse=e,this},f.urlCreatorFactory={};e.prototype.setConfig=function(e){return this.config=e,this},e.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},e.prototype.resource=function(e,t,n,r,a,i,o,s){var l,c,u,d,p,a=U.defaults(a||{},this.config.defaultRequestParams.common),r=U.defaults(r||{},this.config.defaultHeaders),s=(o&&(f.isSafe(s)?r["If-None-Match"]=o:r["If-Match"]=o),this.base(e));return!i&&0!==i||(o="",/\/$/.test(s)||(o+="/"),s+=o+=i),this.config.suffix&&-1===s.indexOf(this.config.suffix,s.length-this.config.suffix.length)&&!this.config.getUrlFromElem(e)&&(s+=this.config.suffix),e[this.config.restangularFields.httpConfig]=void 0,l=this.config,c=t,u=s,d={getList:this.config.withHttpValues(n,{method:"GET",params:a,headers:r}),get:this.config.withHttpValues(n,{method:"GET",params:a,headers:r}),jsonp:this.config.withHttpValues(n,{method:"jsonp",params:a,headers:r}),put:this.config.withHttpValues(n,{method:"PUT",params:a,headers:r}),post:this.config.withHttpValues(n,{method:"POST",params:a,headers:r}),remove:this.config.withHttpValues(n,{method:"DELETE",params:a,headers:r}),head:this.config.withHttpValues(n,{method:"HEAD",params:a,headers:r}),trace:this.config.withHttpValues(n,{method:"TRACE",params:a,headers:r}),options:this.config.withHttpValues(n,{method:"OPTIONS",params:a,headers:r}),patch:this.config.withHttpValues(n,{method:"PATCH",params:a,headers:r})},p={},U.each(U.keys(d),function(e){var t=d[e];t.params=U.extend({},t.params,l.defaultRequestParams[t.method.toLowerCase()]),U.isEmpty(t.params)&&delete t.params,l.isSafe(t.method)?p[e]=function(){return c(U.extend(t,{url:u}))}:p[e]=function(e){return c(U.extend(t,{url:u,data:e}))}}),p};function r(){}(r.prototype=new e).normalizeUrl=function(e){e=/((?:http[s]?:)?\/\/)?(.*)?/.exec(e);return e[2]=e[2].replace(/[\\\/]+/g,"/"),void 0!==e[1]?e[1]+e[2]:e[2]},r.prototype.base=function(e){var a=this;return U.reduce(this.parentsArray(e),function(e,t){var n=a.config.getUrlFromElem(t);if(n){if(a.config.isAbsoluteUrl(n))return n;r=n}else{var r=t[a.config.restangularFields.route];t[a.config.restangularFields.restangularCollection]?(n=t[a.config.restangularFields.ids])&&(r+="/"+n.join(",")):(n=a.config.useCannonicalId?a.config.getCannonicalIdFromElem(t):a.config.getIdFromElem(t),f.isValidId(n)&&!t.singleOne&&(r+="/"+(a.config.encodeIds?encodeURIComponent(n):n)))}return e=e.replace(/\/$/,"")+"/"+r,a.normalizeUrl(e)},this.config.baseUrl)},r.prototype.fetchUrl=function(e,t){e=this.base(e);return t&&(e+="/"+t),e},r.prototype.fetchRequestedUrl=function(e,t){t=this.fetchUrl(e,t),e=e[f.restangularFields.reqParams];function n(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}if(!e)return t+(this.config.suffix||"");for(var r=[],a=e,i=function(e,t){null!=e&&(q.isArray(e)||(e=[e]),q.forEach(e,function(e){q.isObject(e)&&(e=q.toJson(e)),r.push(n(t)+"="+n(e))}))},o=void 0,s=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n.sort()}(a),l=0;l<s.length;l++)i.call(o,a[s[l]],s[l]);return t+(this.config.suffix||"")+(-1===t.indexOf("?")?"?":"&")+r.join("&")},f.urlCreatorFactory.path=r},{});R.init(this,e),this.$get=["$http","$q",function(z,L){return function n(h){var m={},g=new h.urlCreatorFactory[h.urlCreator];function o(e,t,n,r,a){var i;return t[h.restangularFields.route]=n,t[h.restangularFields.getRestangularUrl]=U.bind(g.fetchUrl,g,t),t[h.restangularFields.getRequestedUrl]=U.bind(g.fetchRequestedUrl,g,t),t[h.restangularFields.addRestangularMethod]=U.bind(F,t),t[h.restangularFields.clone]=U.bind(f,t,t),t[h.restangularFields.reqParams]=U.isEmpty(r)?null:r,t[h.restangularFields.withHttpConfig]=U.bind(_,t),t[h.restangularFields.plain]=U.bind(y,t,t),t[h.restangularFields.restangularized]=!0,t[h.restangularFields.one]=U.bind(s,t,t),t[h.restangularFields.all]=U.bind(l,t,t),t[h.restangularFields.several]=U.bind(c,t,t),t[h.restangularFields.oneUrl]=U.bind(u,t,t),t[h.restangularFields.allUrl]=U.bind(d,t,t),t[h.restangularFields.fromServer]=!!a,e&&h.shouldSaveParent(n)?(r=h.getIdFromElem(e),a=h.getUrlFromElem(e),i=U.union(U.values(U.pick(h.restangularFields,["route","singleOne","parentResource"])),h.extraFields),e=U.pick(e,i),h.isValidId(r)&&h.setIdToElem(e,r,n),h.isValidId(a)&&h.setUrlToElem(e,a,n),t[h.restangularFields.parentResource]=e):t[h.restangularFields.parentResource]=null,t}function s(e,t,n,r){if(U.isNumber(t)||U.isNumber(e))throw a="You're creating a Restangular entity with the number ",a+="instead of the route or the parent. For example, you can't call .one(12).",new Error(a);if(U.isUndefined(t))throw a="You're creating a Restangular entity either without the path. ",a+="For example you can't call .one(). Please check if your arguments are valid.",new Error(a);var a={};return h.setIdToElem(a,n,t),h.setFieldToElem(h.restangularFields.singleOne,a,r),$(e,a,t,!1)}function l(e,t){return w(e,[],t,!1)}function c(e,t){var n=[];return n[h.restangularFields.ids]=Array.prototype.splice.call(arguments,2),w(e,n,t,!1)}function u(e,t,n){var r;if(t)return h.setUrlToElem(r={},n,t),$(e,r,t,!1);throw new Error("Route is mandatory when creating new Restangular objects.")}function d(e,t,n){var r;if(t)return h.setUrlToElem(r={},n,t),w(e,r,t,!1);throw new Error("Route is mandatory when creating new Restangular objects.")}function v(e,t,n){return e.call=U.bind(r,e),e.get=U.bind(a,e),(e[h.restangularFields.restangularCollection]=t)&&(e.push=U.bind(r,e,"push")),e.$object=n,h.restangularizePromiseInterceptor&&h.restangularizePromiseInterceptor(e),e}function r(n){var r=L.defer(),a=arguments,i={};return this.then(function(e){var t=Array.prototype.slice.call(a,1);e[n].apply(e,t),i=e,r.resolve(e)}),v(r.promise,this[h.restangularFields.restangularCollection],i)}function a(t){var n=L.defer(),r={};return this.then(function(e){r=e[t],n.resolve(r)}),v(n.promise,this[h.restangularFields.restangularCollection],r)}function b(e,t,n,r){if(U.extend(r,n),h.fullResponse)return e.resolve(U.extend(t,{data:n}));e.resolve(n)}function y(e){var t;return U.isArray(e)?(t=[],U.each(e,function(e){t.push(h.isRestangularized(e)?y(e):e)}),t):U.omit(e,U.values(U.omit(h.restangularFields,"id")))}function p(a){a[h.restangularFields.customOperation]=U.bind(j,a);var t={get:j,delete:j};U.each(["put","patch","post"],function(e){t[e]=function(e,t,n,r,a){return U.bind(j,this)(e,n,r,a,t)}}),U.each(t,function(t,n){var r="delete"===n?"remove":n;U.each(["do","custom"],function(e){a[e+n.toUpperCase()]=U.bind(t,a,r)})}),a[h.restangularFields.customGETLIST]=U.bind(S,a),a[h.restangularFields.doGETLIST]=a[h.restangularFields.customGETLIST]}function f(e){var t=q.copy(e);return U.isArray(e)?w(e[h.restangularFields.parentResource],t,e[h.restangularFields.route],e[h.restangularFields.fromServer],e[h.restangularFields.reqParams]):$(e[h.restangularFields.parentResource],t,e[h.restangularFields.route],e[h.restangularFields.fromServer],e[h.restangularFields.restangularCollection],e[h.restangularFields.reqParams])}function $(e,t,n,r,a,i){return e=o(e,h.onBeforeElemRestangularized(t,!1,n),n,i,r),h.useCannonicalId&&(e[h.restangularFields.cannonicalId]=h.getIdFromElem(e)),a&&(e[h.restangularFields.getParentList]=function(){return a}),e[h.restangularFields.restangularCollection]=!1,e[h.restangularFields.get]=U.bind(T,e),e[h.restangularFields.getList]=U.bind(S,e),e[h.restangularFields.put]=U.bind(D,e),e[h.restangularFields.post]=U.bind(M,e),e[h.restangularFields.remove]=U.bind(P,e),e[h.restangularFields.head]=U.bind(A,e),e[h.restangularFields.trace]=U.bind(O,e),e[h.restangularFields.options]=U.bind(I,e),e[h.restangularFields.patch]=U.bind(N,e),e[h.restangularFields.save]=U.bind(C,e),p(e),h.transformElem(e,!1,n,m,!0)}function w(e,t,n,r,a){return(e=o(e,h.onBeforeElemRestangularized(t,!0,n),n,a,r))[h.restangularFields.restangularCollection]=!0,e[h.restangularFields.post]=U.bind(M,e,null),e[h.restangularFields.remove]=U.bind(P,e),e[h.restangularFields.head]=U.bind(A,e),e[h.restangularFields.trace]=U.bind(O,e),e[h.restangularFields.putElement]=U.bind(k,e),e[h.restangularFields.options]=U.bind(I,e),e[h.restangularFields.patch]=U.bind(N,e),e[h.restangularFields.get]=U.bind(i,e),e[h.restangularFields.getList]=U.bind(S,e,null),p(e),h.transformElem(e,!0,n,m,!0)}function i(e,t,n){return this.customGET(e.toString(),t,n)}function k(n,e,t){var r=this,a=this[n],i=L.defer(),o=[],o=h.transformElem(o,!0,a[h.restangularFields.route],m);return a.put(e,t).then(function(e){var t=f(r);t[n]=e,o=t,i.resolve(t)},function(e){i.reject(e)}),v(i.promise,!0,o)}function x(e,t,n,r,a,i){return e=h.responseExtractor(e,t,n,r,a,i),t=a.headers("ETag"),e&&t&&(e[h.restangularFields.etag]=t),e}function S(a,e,t){function n(e){var t=e.data,n=e.config.params,r=x(t,s,c,l,e,o);if(!U.isUndefined(r)&&""!==r||(r=[]),!U.isArray(r))throw new Error("Response for getList SHOULD be an array and not an object or something else");if(!0===h.plainByDefault)return b(o,e,r,u);t=U.map(r,function(e){return i[h.restangularFields.restangularCollection]?$(i[h.restangularFields.parentResource],e,i[h.restangularFields.route],!0,r):$(i,e,a,!0,r)}),t=U.extend(r,t),i[h.restangularFields.restangularCollection]?b(o,e,w(i[h.restangularFields.parentResource],t,i[h.restangularFields.route],!0,n),u):b(o,e,w(i,t,a,!0,n),u)}var i=this,o=L.defer(),s="getList",l=g.fetchUrl(this,a),c=a||i[h.restangularFields.route],t=h.fullRequestInterceptor(null,s,c,l,t||{},e||{},this[h.restangularFields.httpConfig]||{}),u=[],u=h.transformElem(u,!0,c,m),e="getList";return h.jsonp&&(e="jsonp"),g.resource(this,z,t.httpConfig,t.headers,t.params,a,this[h.restangularFields.etag],s)[e]().then(n,function(t){304===t.status&&i[h.restangularFields.restangularCollection]?b(o,t,i,u):U.every(h.errorInterceptors,function(e){return!1!==e(t,o,n)})&&o.reject(t)}),v(o.promise,!0,u)}function _(e){return this[h.restangularFields.httpConfig]=e,this}function C(e,t){return this[h.restangularFields.fromServer]?this[h.restangularFields.put](e,t):U.bind(E,this)("post",void 0,e,void 0,t)}function E(a,e,t,n,r){function i(t){304===t.status&&h.isSafe(a)?b(s,t,o,d):U.every(h.errorInterceptors,function(e){return!1!==e(t,s,p)})&&s.reject(t)}var o=this,s=L.defer(),t=t||{},l=e||this[h.restangularFields.route],c=g.fetchUrl(this,e),u=(n=n||this)[h.restangularFields.etag]||("post"!==a?this[h.restangularFields.etag]:null),n=(U.isObject(n)&&h.isRestangularized(n)&&(n=y(n)),h.fullRequestInterceptor(n,a,l,c,r||{},t||{},this[h.restangularFields.httpConfig]||{})),d={},d=h.transformElem(d,!1,l,m),p=function(e){var t,n=e.data,r=e.config.params;if(null!=(n=x(n,a,l,c,e,s))&&""!==n){if(!0===h.plainByDefault)return b(s,e,n,d);"post"!==a||o[h.restangularFields.restangularCollection]?(t=$(o[h.restangularFields.parentResource],n,o[h.restangularFields.route],!0,null,r))[h.restangularFields.singleOne]=o[h.restangularFields.singleOne]:t=$(o[h.restangularFields.parentResource],n,l,!0,null,r),b(s,e,t,d)}else b(s,e,void 0,d)},r=a,t=U.extend({},n.headers),f=h.isOverridenMethod(a);return f?(r="post",t=U.extend(t,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a.toUpperCase()})):h.jsonp&&"get"===r&&(r="jsonp"),(h.isSafe(a)?f?g.resource(this,z,n.httpConfig,t,n.params,e,u,r)[r]({}):g.resource(this,z,n.httpConfig,t,n.params,e,u,r)[r]():g.resource(this,z,n.httpConfig,t,n.params,e,u,r)[r](n.element)).then(p,i),v(s.promise,!1,d)}function T(e,t){return U.bind(E,this)("get",void 0,e,void 0,t)}function P(e,t){return U.bind(E,this)("remove",void 0,e,void 0,t)}function D(e,t){return U.bind(E,this)("put",void 0,e,void 0,t)}function M(e,t,n,r){return U.bind(E,this)("post",e,n,t,r)}function A(e,t){return U.bind(E,this)("head",void 0,e,void 0,t)}function O(e,t){return U.bind(E,this)("trace",void 0,e,void 0,t)}function I(e,t){return U.bind(E,this)("options",void 0,e,void 0,t)}function N(e,t,n){return U.bind(E,this)("patch",void 0,t,e,n)}function j(e,t,n,r,a){return U.bind(E,this)(e,t,n,a,r)}function F(e,t,n,r,a,i){function o(e,t,n){return e=U.defaults({params:e,headers:t,elem:n},{params:r,headers:a,elem:i}),s(e.params,e.headers,e.elem)}var s="getList"===t?U.bind(S,this,n):U.bind(j,this,t,n);h.isSafe(t)?this[e]=o:this[e]=function(e,t,n){return o(t,n,e)}}return g.setConfig(h),R.init(m,h),m.copy=U.bind(f,m),m.service=U.bind(function(e,t){var n,r=U.values(h.restangularFields),a={},i=(t||m).all(e);for(n in a.one=U.bind(s,t||m,t,e),a.post=U.bind(i.post,i),a.getList=U.bind(i.getList,i),a.withHttpConfig=U.bind(i.withHttpConfig,i),a.get=U.bind(i.get,i),i)i.hasOwnProperty(n)&&U.isFunction(i[n])&&!U.includes(r,n)&&(a[n]=U.bind(i[n],i));return a},m),m.withConfig=U.bind(function(e){var t=q.copy(U.omit(h,"configuration"));return R.init(t,t),e(t),n(t)},m),m.one=U.bind(s,m,null),m.all=U.bind(l,m,null),m.several=U.bind(c,m,null),m.oneUrl=U.bind(u,m,null),m.allUrl=U.bind(d,m,null),m.stripRestangular=U.bind(y,m),m.restangularizeElement=U.bind($,m),m.restangularizeCollection=U.bind(function(t,e,n,r){return e=w(t,e,n,r),U.each(e,function(e){e&&$(t,e,n,r)}),e},m),m}(e)}]}),e.name}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.satellizer=t()}(this,function(){"use strict";Object.defineProperty(t,"getConstant",{get:function(){return new t},enumerable:!0,configurable:!0});var e=t;function t(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}Object.defineProperty(r.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(e){this.SatellizerConfig.baseUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(e){this.SatellizerConfig.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(e){this.SatellizerConfig.signupUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(e){this.SatellizerConfig.unlinkUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(e){this.SatellizerConfig.tokenRoot=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(e){this.SatellizerConfig.tokenName=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(e){this.SatellizerConfig.tokenPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(e){this.SatellizerConfig.tokenHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(e){this.SatellizerConfig.tokenType=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(e){this.SatellizerConfig.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(e){this.SatellizerConfig.storageType=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(e){this.SatellizerConfig.httpInterceptor="function"==typeof e?e:function(){return e}},enumerable:!0,configurable:!0}),r.prototype.facebook=function(e){angular.extend(this.SatellizerConfig.providers.facebook,e)},r.prototype.google=function(e){angular.extend(this.SatellizerConfig.providers.google,e)},r.prototype.github=function(e){angular.extend(this.SatellizerConfig.providers.github,e)},r.prototype.instagram=function(e){angular.extend(this.SatellizerConfig.providers.instagram,e)},r.prototype.linkedin=function(e){angular.extend(this.SatellizerConfig.providers.linkedin,e)},r.prototype.twitter=function(e){angular.extend(this.SatellizerConfig.providers.twitter,e)},r.prototype.twitch=function(e){angular.extend(this.SatellizerConfig.providers.twitch,e)},r.prototype.live=function(e){angular.extend(this.SatellizerConfig.providers.live,e)},r.prototype.yahoo=function(e){angular.extend(this.SatellizerConfig.providers.yahoo,e)},r.prototype.bitbucket=function(e){angular.extend(this.SatellizerConfig.providers.bitbucket,e)},r.prototype.spotify=function(e){angular.extend(this.SatellizerConfig.providers.spotify,e)},r.prototype.oauth1=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"1.0"})},r.prototype.oauth2=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"2.0"})},r.prototype.$get=function(t,n,r){return{login:function(e,t){return n.login(e,t)},signup:function(e,t){return n.signup(e,t)},logout:function(){return t.logout()},authenticate:function(e,t){return r.authenticate(e,t)},link:function(e,t){return console.log(this),r.authenticate(e,t)},unlink:function(e,t){return r.unlink(e,t)},isAuthenticated:function(){return t.isAuthenticated()},getPayload:function(){return t.getPayload()},getToken:function(){return t.getToken()},setToken:function(e){return t.setToken({access_token:e})},removeToken:function(){return t.removeToken()},setStorageType:function(e){return t.setStorageType(e)}}},r.$inject=["SatellizerConfig"];var n=r;function r(e){this.SatellizerConfig=e}function i(e,t){return/^(?:[a-z]+:)?\/\//i.test(t)?t:[e,t].join("/").replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}function l(e){var t="https:"===e.protocol;return e.protocol+"//"+e.hostname+":"+(e.port||(t?"443":"80"))+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname)}function c(e){var t,n,r={};return angular.forEach((e||"").split("&"),function(e){e&&(n=e.split("="),t=decodeURIComponent(n[0]),r[t]=!angular.isDefined(n[1])||decodeURIComponent(n[1]))}),r}function a(e){var t;if("undefined"!=typeof module&&module.exports)try{t=require("buffer").Buffer}catch(e){}function n(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return r(55296+(t>>>10))+r(56320+(1023&t));case 3:return r((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return r((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}}var r=String.fromCharCode,a=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g");return(t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return atob(e).replace(a,n)})(String(e).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}n.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];s.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},s.prototype.getPayload=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e&&3===e.split(".").length)try{var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(a(t))}catch(e){}},s.prototype.setToken=function(e){var t,n=this.SatellizerConfig.tokenRoot,r=this.SatellizerConfig.tokenName,a=e&&e.access_token;a&&(angular.isObject(a)&&angular.isObject(a.data)?e=a:angular.isString(a)&&(t=a)),(t=!t&&e?(a=n&&n.split(".").reduce(function(e,t){return e[t]},e.data))?a[r]:e.data&&e.data[r]:t)&&this.SatellizerStorage.set(this.prefixedTokenName,t)},s.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},s.prototype.isAuthenticated=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e){if(3===e.split(".").length)try{var t=e.split(".")[1].replace("-","+").replace("_","/"),n=JSON.parse(this.$window.atob(t)).exp;if("number"==typeof n)return Math.round((new Date).getTime()/1e3)<n}catch(e){}return!0}return!1},s.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},s.prototype.setStorageType=function(e){this.SatellizerConfig.storageType=e},s.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"];var o=s;function s(e,t,n,r){this.$q=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerStorage=r;e=this.SatellizerConfig,t=e.tokenName,n=e.tokenPrefix;this.prefixedTokenName=n?[n,t].join("_"):t}d.prototype.login=function(e,t){var n=this;return(t=void 0===t?{}:t).url=t.url||i(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t).then(function(e){return n.SatellizerShared.setToken(e),e})},d.prototype.signup=function(e,t){return(t=void 0===t?{}:t).url=t.url||i(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),t.data=e||t.data,t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},d.$inject=["$http","SatellizerConfig","SatellizerShared"];var u=d;function d(e,t,n){this.$http=e,this.SatellizerConfig=t,this.SatellizerShared=n}f.prototype.stringifyOptions=function(e){var n=[];return angular.forEach(e,function(e,t){n.push(t+"="+e)}),n.join(",")},f.prototype.open=function(e,t,n,r,a){var i=n.width||500,n=n.height||500,n=this.stringifyOptions({width:i,height:n,top:this.$window.screenY+(this.$window.outerHeight-n)/2.5,left:this.$window.screenX+(this.$window.outerWidth-i)/2}),i=this.$window.cordova||-1<this.$window.navigator.userAgent.indexOf("CriOS")?"_blank":t;if(this.popup=this.$window.open(e,i,n),this.popup&&this.popup.focus&&this.popup.focus(),!a)return this.$window.cordova?this.eventListener(r):("about:blank"===e&&(this.popup.location=e),this.polling(r))},f.prototype.polling=function(t){var s=this;return this.$q(function(r,a){var e=document.createElement("a"),i=(e.href=t,l(e)),o=s.$interval(function(){s.popup&&!s.popup.closed&&void 0!==s.popup.closed||(s.$interval.cancel(o),a(new Error("The popup window was closed")));try{var e,t,n;l(s.popup.location)===i&&(s.popup.location.search||s.popup.location.hash?(e=c(s.popup.location.search.substring(1).replace(/\/$/,"")),t=c(s.popup.location.hash.substring(1).replace(/[\/$]/,"")),(n=angular.extend({},e,t)).error?a(new Error(n.error)):r(n)):a(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removedtypically by a routing librarybefore Satellizer could read it.")),s.$interval.cancel(o),s.popup.close())}catch(e){}},500)})},f.prototype.eventListener=function(a){var i=this;return this.$q(function(n,r){i.popup.addEventListener("loadstart",function(e){var t;0===e.url.indexOf(a)&&((t=document.createElement("a")).href=e.url,t.search||t.hash)&&(e=c(t.search.substring(1).replace(/\/$/,"")),t=c(t.hash.substring(1).replace(/[\/$]/,"")),(e=angular.extend({},e,t)).error?r(new Error(e.error)):n(e),i.popup.close())}),i.popup.addEventListener("loaderror",function(){r(new Error("Authorization failed"))}),i.popup.addEventListener("exit",function(){r(new Error("The popup window was closed"))})})},f.$inject=["$interval","$window","$q"];var p=f;function f(e,t,n){this.$interval=e,this.$window=t,this.$q=n,this.popup=null,this.defaults={redirectUri:null}}m.prototype.init=function(t,n){var r=this,e=(angular.extend(this.defaults,t),t.name),a=t.popupOptions,i=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",e,a,i,!0),this.getRequestToken().then(function(e){return r.openPopup(t,e).then(function(e){return r.exchangeForToken(e,n)})})},m.prototype.openPopup=function(e,t){var t=[e.authorizationEndpoint,this.buildQueryString(t.data)].join("?"),n=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(t,e.name,e.popupOptions,n):(this.SatellizerPopup.popup.location=t,this.SatellizerPopup.polling(n))},m.prototype.getRequestToken=function(){var e=this.SatellizerConfig.baseUrl?i(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,this.defaults)},m.prototype.exchangeForToken=function(e,t){t=angular.extend({},t,e),e=this.SatellizerConfig.baseUrl?i(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(e,t,{withCredentials:this.SatellizerConfig.withCredentials})},m.prototype.buildQueryString=function(e){var n=[];return angular.forEach(e,function(e,t){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.join("&")},m.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"];var h=m;function m(e,t,n,r){this.$http=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerPopup=r,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}v.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n})},v.prototype.init=function(u,d){var p=this;return this.$q(function(t,n){angular.extend(p.defaults,u);var r=p.defaults.name+"_state",e=p.defaults,a=e.name,i=e.state,o=e.popupOptions,s=e.redirectUri,l=e.responseType,c=("function"==typeof i?p.SatellizerStorage.set(r,i()):"string"==typeof i&&p.SatellizerStorage.set(r,i),[p.defaults.authorizationEndpoint,p.buildQueryString()].join("?"));p.SatellizerPopup.open(c,a,o,s).then(function(e){return"token"!==l&&c?e.state&&e.state!==p.SatellizerStorage.get(r)?n(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void t(p.exchangeForToken(e,d)):t(e)}).catch(function(e){return n(e)})})},v.prototype.exchangeForToken=function(n,e){var r=this,a=angular.extend({},e);return angular.forEach(this.defaults.responseParams,function(e,t){switch(t){case"code":a[e]=n.code;break;case"clientId":a[e]=r.defaults.clientId;break;case"redirectUri":a[e]=r.defaults.redirectUri;break;default:a[e]=n[t]}}),n.state&&(a.state=n.state),this.defaults.url?(e=this.SatellizerConfig.baseUrl?i(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url,this.$http.post(e,a,{withCredentials:this.SatellizerConfig.withCredentials})):a},v.prototype.buildQueryString=function(){var r=this,a=[];return angular.forEach(["defaultUrlParams","requiredUrlParams","optionalUrlParams"],function(e){angular.forEach(r.defaults[e],function(e){var t,n=v.camelCase(e),n=angular.isFunction(r.defaults[e])?r.defaults[e]():r.defaults[n];"redirect_uri"===e&&!n||("state"===e&&(t=r.defaults.name+"_state",n=encodeURIComponent(r.SatellizerStorage.get(t))),"scope"===e&&Array.isArray(n)&&(n=n.join(r.defaults.scopeDelimiter),r.defaults.scopePrefix)&&(n=[r.defaults.scopePrefix,n].join(r.defaults.scopeDelimiter)),a.push([e,n]))})}),a.map(function(e){return e.join("=")}).join("&")},v.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"];var g=v;function v(e,t,n,r,a,i,o){this.$http=e,this.$window=t,this.$timeout=n,this.$q=r,this.SatellizerConfig=a,this.SatellizerPopup=i,this.SatellizerStorage=o,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}y.prototype.authenticate=function(a,i){var o=this;return this.$q(function(t,n){var r=o.SatellizerConfig.providers[a],e=null;switch(r.oauthType){case"1.0":e=new h(o.$http,o.$window,o.SatellizerConfig,o.SatellizerPopup);break;case"2.0":e=new g(o.$http,o.$window,o.$timeout,o.$q,o.SatellizerConfig,o.SatellizerPopup,o.SatellizerStorage);break;default:return n(new Error("Invalid OAuth Type"))}return e.init(r,i).then(function(e){r.url&&o.SatellizerShared.setToken(e),t(e)}).catch(function(e){n(e)})})},y.prototype.unlink=function(e,t){return(t=void 0===t?{}:t).url=t.url||i(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),t.data={provider:e},t.method=t.method||"POST",t.withCredentials=t.withCredentials||this.SatellizerConfig.withCredentials,this.$http(t)},y.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"];var b=y;function y(e,t,n,r,a,i,o,s,l,c){this.$http=e,this.$window=t,this.$timeout=n,this.$q=r,this.SatellizerConfig=a,this.SatellizerPopup=i,this.SatellizerStorage=o,this.SatellizerShared=s,this.SatellizerOAuth1=l,this.SatellizerOAuth2=c}w.prototype.get=function(t){try{return this.$window[this.SatellizerConfig.storageType].getItem(t)}catch(e){return this.memoryStore[t]}},w.prototype.set=function(t,n){try{this.$window[this.SatellizerConfig.storageType].setItem(t,n)}catch(e){this.memoryStore[t]=n}},w.prototype.remove=function(t){try{this.$window[this.SatellizerConfig.storageType].removeItem(t)}catch(e){delete this.memoryStore[t]}},w.$inject=["$window","SatellizerConfig"];var $=w;function w(e,t){this.$window=e,this.SatellizerConfig=t,this.memoryStore={}}x.Factory=function(e,t,n){return new x(e,t,n)},x.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var k=x;function x(e,t,n){var r=this;this.SatellizerConfig=e,this.SatellizerShared=t,this.SatellizerStorage=n,this.request=function(e){var t;return e.skipAuthorization||r.SatellizerShared.isAuthenticated()&&r.SatellizerConfig.httpInterceptor()&&(t=r.SatellizerConfig.tokenPrefix?[r.SatellizerConfig.tokenPrefix,r.SatellizerConfig.tokenName].join("_"):r.SatellizerConfig.tokenName,t=r.SatellizerStorage.get(t),r.SatellizerConfig.tokenHeader&&r.SatellizerConfig.tokenType&&(t=r.SatellizerConfig.tokenType+" "+t),e.headers[r.SatellizerConfig.tokenHeader]=t),e}}k.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];_.$inject=["$httpProvider"];var S=_;function _(e){(this.$httpProvider=e).interceptors.push(k.Factory)}angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(e){return new n(e)}]).constant("SatellizerConfig",e.getConstant).service("SatellizerShared",o).service("SatellizerLocal",u).service("SatellizerPopup",p).service("SatellizerOAuth",b).service("SatellizerOAuth2",g).service("SatellizerOAuth1",h).service("SatellizerStorage",$).service("SatellizerInterceptor",k).config(["$httpProvider",function(e){return new S(e)}]);return"satellizer"}),function(){var O={version:"3.5.17"},P=[].slice,p=function(e){return P.call(e)},I=this.document;function z(e){return e&&(e.ownerDocument||e.document||e).documentElement}function L(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(I)try{p(I.documentElement.childNodes)[0].nodeType}catch(e){p=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),I)try{I.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var t=this.Element.prototype,R=t.setAttribute,U=t.setAttributeNS,n=this.CSSStyleDeclaration.prototype,q=n.setProperty;t.setAttribute=function(e,t){R.call(this,e,t+"")},t.setAttributeNS=function(e,t,n){U.call(this,e,t,n+"")},n.setProperty=function(e,t,n){q.call(this,e,t+"",n)}}function H(e,t){return e<t?-1:t<e?1:t<=e?0:NaN}function V(e){return null===e?NaN:+e}function Y(e){return!isNaN(e)}function e(i){return{left:function(e,t,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);n<r;){var a=n+r>>>1;i(e[a],t)<0?n=1+a:r=a}return n},right:function(e,t,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);n<r;){var a=n+r>>>1;0<i(e[a],t)?r=a:n=1+a}return n}}}O.ascending=H,O.descending=function(e,t){return t<e?-1:e<t?1:e<=t?0:NaN},O.min=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r<=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&r<n&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r<=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&r<n&&(n=r)}return n},O.max=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r<=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&n<r&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r<=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&n<r&&(n=r)}return n},O.extent=function(e,t){var n,r,a,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r<=r){n=a=r;break}for(;++i<o;)null!=(r=e[i])&&(r<n&&(n=r),a<r)&&(a=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r<=r){n=a=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&(r<n&&(n=r),a<r)&&(a=r)}return[n,a]},O.sum=function(e,t){var n,r=0,a=e.length,i=-1;if(1===arguments.length)for(;++i<a;)Y(n=+e[i])&&(r+=n);else for(;++i<a;)Y(n=+t.call(e,e[i],i))&&(r+=n);return r},O.mean=function(e,t){var n,r=0,a=e.length,i=-1,o=a;if(1===arguments.length)for(;++i<a;)Y(n=V(e[i]))?r+=n:--o;else for(;++i<a;)Y(n=V(t.call(e,e[i],i)))?r+=n:--o;if(o)return r/o},O.quantile=function(e,t){var t=(e.length-1)*t+1,n=Math.floor(t),r=+e[n-1],t=t-n;return t?r+t*(e[n]-r):r},O.median=function(e,t){var n,r=[],a=e.length,i=-1;if(1===arguments.length)for(;++i<a;)Y(n=V(e[i]))&&r.push(n);else for(;++i<a;)Y(n=V(t.call(e,e[i],i)))&&r.push(n);if(r.length)return O.quantile(r.sort(H),.5)},O.variance=function(e,t){var n,r,a=e.length,i=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<a;)Y(n=V(e[s]))&&(o+=(r=n-i)*(n-(i+=r/++l)));else for(;++s<a;)Y(n=V(t.call(e,e[s],s)))&&(o+=(r=n-i)*(n-(i+=r/++l)));if(1<l)return o/(l-1)},O.deviation=function(){var e=O.variance.apply(this,arguments);return e&&Math.sqrt(e)};t=e(H);function B(e){return e.length}O.bisectLeft=t.left,O.bisect=O.bisectRight=t.right,O.bisector=function(n){return e(1===n.length?function(e,t){return H(n(e),t)}:n)},O.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,i<2)&&(t=0);for(var r,a,i=n-t;i;)a=Math.random()*i--|0,r=e[i+t],e[i+t]=e[a+t],e[a+t]=r;return e},O.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},O.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],a=new Array(n<0?0:n);t<n;)a[t]=[r,r=e[++t]];return a},O.transpose=function(e){if(!(a=e.length))return[];for(var t=-1,n=O.min(e,B),r=new Array(n);++t<n;)for(var a,i=-1,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r},O.zip=function(){return O.transpose(arguments)},O.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},O.values=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},O.entries=function(e){var t,n=[];for(t in e)n.push({key:t,value:e[t]});return n},O.merge=function(e){for(var t,n,r,a=e.length,i=-1,o=0;++i<a;)o+=e[i].length;for(n=new Array(o);0<=--a;)for(t=(r=e[a]).length;0<=--t;)n[--o]=r[t];return n};var M=Math.abs;function W(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function G(){this._=Object.create(null)}O.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2)&&(t=e,e=0),(t-e)/n==1/0)throw new Error("infinite range");var r,a=[],i=function(e){var t=1;for(;e*t%1;)t*=10;return t}(M(n)),o=-1;if(e*=i,t*=i,(n*=i)<0)for(;(r=e+n*++o)>t;)a.push(r/i);else for(;(r=e+n*++o)<t;)a.push(r/i);return a},O.map=function(e,t){var n=new G;if(e instanceof G)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,a=-1,i=e.length;if(1===arguments.length)for(;++a<i;)n.set(a,e[a]);else for(;++a<i;)n.set(t.call(e,r=e[a],a),r)}else for(var o in e)n.set(o,e[o]);return n};var K="__proto__",X="\0";function J(e){return(e+="")===K||e[0]===X?X+e:e}function Z(e){return(e+="")[0]===X?e.slice(1):e}function Q(e){return J(e)in this._}function ee(e){return(e=J(e))in this._&&delete this._[e]}function te(){var e,t=[];for(e in this._)t.push(Z(e));return t}function ne(){var e,t=0;for(e in this._)++t;return t}function re(){for(var e in this._)return!1;return!0}function ae(){this._=Object.create(null)}function D(e){return e}function ie(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=oe.length;n<r;++n){var a=oe[n]+t;if(a in e)return a}}W(G,{has:Q,get:function(e){return this._[J(e)]},set:function(e,t){return this._[J(e)]=t},remove:ee,keys:te,values:function(){var e,t=[];for(e in this._)t.push(this._[e]);return t},entries:function(){var e,t=[];for(e in this._)t.push({key:Z(e),value:this._[e]});return t},size:ne,empty:re,forEach:function(e){for(var t in this._)e.call(this,Z(t),this._[t])}}),O.nest=function(){var d,p,f={},h=[],t=[];function m(n,e,r){if(r>=h.length)return p?p.call(f,e):d?e.sort(d):e;for(var t,a,i,o,s=-1,l=e.length,c=h[r++],u=new G;++s<l;)(o=u.get(t=c(a=e[s])))?o.push(a):u.set(t,[a]);return i=n?(a=n(),function(e,t){a.set(e,m(n,t,r))}):(a={},function(e,t){a[e]=m(n,t,r)}),u.forEach(i),a}return f.map=function(e,t){return m(t,e,0)},f.entries=function(e){return function n(e,r){var a,i;return r>=h.length?e:(a=[],i=t[r++],e.forEach(function(e,t){a.push({key:e,values:n(t,r)})}),i?a.sort(function(e,t){return i(e.key,t.key)}):a)}(m(O.map,e,0),0)},f.key=function(e){return h.push(e),f},f.sortKeys=function(e){return t[h.length-1]=e,f},f.sortValues=function(e){return d=e,f},f.rollup=function(e){return p=e,f},f},O.set=function(e){var t=new ae;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},W(ae,{has:Q,add:function(e){return this._[J(e+="")]=!0,e},remove:ee,values:te,size:ne,empty:re,forEach:function(e){for(var t in this._)e.call(this,Z(t))}}),O.behavior={},O.rebind=function(e,t){for(var n,r=1,a=arguments.length;++r<a;)e[n=arguments[r]]=function(t,n,r){return function(){var e=r.apply(n,arguments);return e===n?t:e}}(e,t,t[n]);return e};var oe=["webkit","ms","moz","Moz","o","O"];function l(){}function se(){}function le(a){var i=[],r=new G;function e(){for(var e,t=i,n=-1,r=t.length;++n<r;)(e=t[n].on)&&e.apply(this,arguments);return a}return e.on=function(e,t){var n=r.get(e);return arguments.length<2?n&&n.on:(n&&(n.on=null,i=i.slice(0,n=i.indexOf(n)).concat(i.slice(n+1)),r.remove(e)),t&&i.push(r.set(e,{on:t})),a)},e}function ce(){O.event.preventDefault()}function ue(){for(var e,t=O.event;e=t.sourceEvent;)t=e;return t}function de(a){for(var i=new se,e=0,t=arguments.length;++e<t;)i[arguments[e]]=le(i);return i.of=function(n,r){return function(e){try{var t=e.sourceEvent=O.event;e.target=a,O.event=e,i[e.type].apply(n,r)}finally{O.event=t}}},i}O.dispatch=function(){for(var e=new se,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=le(e);return e},se.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(0<=n&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},O.event=null,O.requote=function(e){return e.replace(pe,"\\$&")};var pe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,fe={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function he(e){return fe(e,r),e}var me=function(e,t){return t.querySelector(e)},ge=function(e,t){return t.querySelectorAll(e)},ve=function(e,t){var n=e.matches||e[ie(e,"matchesSelector")];return(ve=function(e,t){return n.call(e,t)})(e,t)},r=("function"==typeof Sizzle&&(me=function(e,t){return Sizzle(e,t)[0]||null},ve=(ge=Sizzle).matchesSelector),O.selection=function(){return O.select(I.documentElement)},O.selection.prototype=[]);function be(e){return"function"==typeof e?e:function(){return me(e,this)}}function ye(e){return"function"==typeof e?e:function(){return ge(e,this)}}r.select=function(e){var t,n,r,a,i=[];e=be(e);for(var o=-1,s=this.length;++o<s;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(a=r[l])?(t.push(n=e.call(a,a.__data__,l,o)),n&&"__data__"in a&&(n.__data__=a.__data__)):t.push(null)}return he(i)},r.selectAll=function(e){var t,n,r=[];e=ye(e);for(var a=-1,i=this.length;++a<i;)for(var o=this[a],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(t=p(e.call(n,n.__data__,s,a))),t.parentNode=n);return he(r)};var $e="http://www.w3.org/1999/xhtml",we={svg:"http://www.w3.org/2000/svg",xhtml:$e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ke(t,n){return t=O.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function xe(e){return e.trim().replace(/\s+/g," ")}function Se(e){return new RegExp("(?:^|\\s+)"+O.requote(e)+"(?:\\s+|$)","g")}function _e(e){return(e+"").trim().split(/^|\s+/)}function Ce(n,r){var a=(n=_e(n).map(Ee)).length;return"function"==typeof r?function(){for(var e=-1,t=r.apply(this,arguments);++e<a;)n[e](this,t)}:function(){for(var e=-1;++e<a;)n[e](this,r)}}function Ee(r){var a=Se(r);return function(e,t){if(n=e.classList)return t?n.add(r):n.remove(r);var n=e.getAttribute("class")||"";t?(a.lastIndex=0,a.test(n)||e.setAttribute("class",xe(n+" "+r))):e.setAttribute("class",xe(n.replace(a," ")))}}function Te(t,n,r){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}:function(){this.style.setProperty(t,n,r)}}function Pe(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function De(n){return"function"==typeof n?n:(n=O.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var e=this.ownerDocument,t=this.namespaceURI;return t===$e&&e.documentElement.namespaceURI===$e?e.createElement(n):e.createElementNS(t,n)}}function Me(){var e=this.parentNode;e&&e.removeChild(this)}function Ae(e){return{__data__:e}}function Oe(e){return function(){return ve(this,e)}}function Ie(e,t){for(var n=0,r=e.length;n<r;n++)for(var a,i=e[n],o=0,s=i.length;o<s;o++)(a=i[o])&&t(a,o,n);return e}function Ne(e){return fe(e,je),e}O.ns={prefix:we,qualify:function(e){var t=e.indexOf(":"),n=e;return 0<=t&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),we.hasOwnProperty(n)?{space:we[n],local:e}:e}},r.attr=function(e,t){if(arguments.length<2){var n;if("string"==typeof e)return n=this.node(),(e=O.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e);for(t in e)this.each(ke(t,e[t]));return this}return this.each(ke(e,t))},r.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=_e(e)).length,a=-1;if(t=n.classList){for(;++a<r;)if(!t.contains(e[a]))return!1}else for(t=n.getAttribute("class");++a<r;)if(!Se(e[a]).test(t))return!1;return!0}for(t in e)this.each(Ce(t,e[t]));return this}return this.each(Ce(e,t))},r.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(Te(n,e[n],t));return this}if(r<2)return L(r=this.node()).getComputedStyle(r,null).getPropertyValue(e);n=""}return this.each(Te(e,t,n))},r.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(Pe(t,e[t]));return this}return this.each(Pe(e,t))},r.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},r.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},r.append=function(e){return e=De(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},r.insert=function(e,t){return e=De(e),t=be(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},r.remove=function(){return this.each(Me)},r.data=function(e,h){var t,n,r=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(t=this[0]).length);++r<a;)(n=t[r])&&(e[r]=n.__data__);return e}function i(e,t){var n,r,a=e.length,i=t.length,o=Math.min(a,i),s=new Array(i),l=new Array(i),c=new Array(a);if(h){for(var u,d=new G,p=new Array(a),f=-1;++f<a;)(n=e[f])&&(d.has(u=h.call(n,n.__data__,f))?c[f]=n:d.set(u,n),p[f]=u);for(f=-1;++f<i;)(n=d.get(u=h.call(t,r=t[f],f)))?!0!==n&&((s[f]=n).__data__=r):l[f]=Ae(r),d.set(u,!0);for(f=-1;++f<a;)f in p&&!0!==d.get(p[f])&&(c[f]=e[f])}else{for(f=-1;++f<o;)n=e[f],r=t[f],n?(n.__data__=r,s[f]=n):l[f]=Ae(r);for(;f<i;++f)l[f]=Ae(t[f]);for(;f<a;++f)c[f]=e[f]}l.update=s,l.parentNode=s.parentNode=c.parentNode=e.parentNode,m.push(l),g.push(s),v.push(c)}var m=Ne([]),g=he([]),v=he([]);if("function"==typeof e)for(;++r<a;)i(t=this[r],e.call(t,t.parentNode.__data__,r));else for(;++r<a;)i(t=this[r],e);return g.enter=function(){return m},g.exit=function(){return v},g},r.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},r.filter=function(e){var t,n,r,a=[];"function"!=typeof e&&(e=Oe(e));for(var i=0,o=this.length;i<o;i++){a.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return he(a)},r.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],a=r.length-1,i=r[a];0<=--a;)(n=r[a])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},r.sort=function(e){e=function(n){arguments.length||(n=H);return function(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},r.each=function(r){return Ie(this,function(e,t,n){r.call(e,e.__data__,t,n)})},r.call=function(e){var t=p(arguments);return e.apply(t[0]=this,t),this},r.empty=function(){return!this.node()},r.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,a=n.length;r<a;r++){var i=n[r];if(i)return i}return null},r.size=function(){var e=0;return Ie(this,function(){++e}),e};var je=[];function Fe(a,t,n){var r="__on"+a,e=a.indexOf("."),i=Le,o=(0<e&&(a=a.slice(0,e)),ze.get(a));function s(){var e=this[r];e&&(this.removeEventListener(a,e,e.$),delete this[r])}return o&&(a=o,i=Re),e?t?function(){var e=i(t,p(arguments));s.call(this),this.addEventListener(a,this[r]=e,e.$=n),e._=t}:s:t?l:function(){var e,t,n,r=new RegExp("^__on([^.]+)"+O.requote(a)+"$");for(t in this)(e=t.match(r))&&(n=this[t],this.removeEventListener(e[1],n,n.$),delete this[t])}}O.selection.enter=Ne,(O.selection.enter.prototype=je).append=r.append,je.empty=r.empty,je.node=r.node,je.call=r.call,je.size=r.size,je.select=function(e){for(var t,n,r,a,i,o=[],s=-1,l=this.length;++s<l;){r=(a=this[s]).update,o.push(t=[]),t.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;)(i=a[c])?(t.push(r[c]=n=e.call(a.parentNode,i.__data__,c,s)),n.__data__=i.__data__):t.push(null)}return he(o)},je.insert=function(e,t){var o,s,l;return arguments.length<2&&(o=this,t=function(e,t,n){var r,a=o[n].update,i=a.length;for(n!=l&&(l=n,s=0),s<=t&&(s=t+1);!(r=a[s])&&++s<i;);return r}),r.insert.call(this,e,t)},O.select=function(e){var t;return"string"==typeof e?(t=[me(e,I)]).parentNode=I.documentElement:(t=[e]).parentNode=z(e),he([t])},O.selectAll=function(e){var t;return"string"==typeof e?(t=p(ge(e,I))).parentNode=I.documentElement:(t=p(e)).parentNode=null,he([t])},r.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(Fe(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(Fe(e,t,n))};var ze=O.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Le(n,r){return function(e){var t=O.event;O.event=e,r[0]=this.__data__;try{n.apply(this,r)}finally{O.event=t}}}function Re(e,t){var n=Le(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}I&&ze.forEach(function(e){"on"+e in I&&ze.remove(e)});var Ue,qe=0;function He(e){var n,r,a=".dragsuppress-"+ ++qe,i="click"+a,o=O.select(L(e)).on("touchmove"+a,ce).on("dragstart"+a,ce).on("selectstart"+a,ce);return(Ue=null==Ue?!("onselectstart"in e)&&ie(e.style,"userSelect"):Ue)&&(n=z(e).style,r=n[Ue],n[Ue]="none"),function(e){var t;o.on(a,null),Ue&&(n[Ue]=r),e&&(t=function(){o.on(i,null)},o.on(i,function(){ce(),t()},!0),setTimeout(t,0))}}O.mouse=function(e){return Ye(e,ue())};var Ve=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ye(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n,r,a=e.ownerSVGElement||e;return a.createSVGPoint?(n=a.createSVGPoint(),Ve<0&&((r=L(e)).scrollX||r.scrollY)&&(r=(a=O.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM(),Ve=!(r.f||r.e),a.remove()),Ve?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]):(r=e.getBoundingClientRect(),[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop])}function Be(){return O.event.changedTouches[0].identifier}O.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=ue().changedTouches),t)for(var r,a=0,i=t.length;a<i;++a)if((r=t[a]).identifier===n)return Ye(e,r)},O.behavior.drag=function(){var m=de(n,"drag","dragstart","dragend"),g=null,e=r(l,O.mouse,L,"mousemove","mouseup"),t=r(Be,O.touch,D,"touchmove","touchend");function n(){this.on("mousedown.drag",e).on("touchstart.drag",t)}function r(u,d,p,f,h){return function(){var r,e=O.event.target.correspondingElement||O.event.target,a=this.parentNode,i=m.of(this,arguments),o=0,s=u(),t=".drag"+(null==s?"":"-"+s),n=O.select(p(e)).on(f+t,function(){var e,t,n=d(a,s);n&&(e=n[0]-c[0],t=n[1]-c[1],o|=e|t,i({type:"drag",x:(c=n)[0]+r[0],y:n[1]+r[1],dx:e,dy:t}))}).on(h+t,function(){d(a,s)&&(n.on(f+t,null).on(h+t,null),l(o),i({type:"dragend"}))}),l=He(e),c=d(a,s);r=g?[(r=g.apply(this,arguments)).x-c[0],r.y-c[1]]:[0,0],i({type:"dragstart"})}}return n.origin=function(e){return arguments.length?(g=e,n):g},O.rebind(n,m,"on")},O.touches=function(n,e){return(e=arguments.length<2?ue().touches:e)?p(e).map(function(e){var t=Ye(n,e);return t.identifier=e.identifier,t}):[]};var A=1e-6,We=A*A,N=Math.PI,_=2*N,Ge=_-A,j=N/2,S=N/180,C=180/N;function Ke(e){return 0<e?1:e<0?-1:0}function Xe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Je(e){return 1<e?0:e<-1?N:Math.acos(e)}function Ze(e){return 1<e?j:e<-1?-j:Math.asin(e)}function Qe(e){return((e=Math.exp(e))+1/e)/2}function et(e){return(e=Math.sin(e/2))*e}var tt,nt,rt=Math.SQRT2,at=(O.interpolateZoom=function(e,t){var r,a,i,o=e[0],s=e[1],l=e[2],e=t[0],n=t[1],t=t[2],c=e-o,u=n-s,e=c*c+u*u;return(t=e<We?(i=Math.log(t/l)/rt,function(e){return[o+e*c,s+e*u,l*Math.exp(rt*e*i)]}):(r=Math.sqrt(e),n=(t*t-l*l+4*e)/(2*l*2*r),e=(t*t-l*l-4*e)/(2*t*2*r),a=Math.log(Math.sqrt(n*n+1)-n),i=(Math.log(Math.sqrt(e*e+1)-e)-a)/rt,function(e){var e=e*i,t=Qe(a),n=l/(2*r)*(t*(n=rt*e+a,((n=Math.exp(2*n))-1)/(n+1))-(n=a,((n=Math.exp(a))-1/n)/2));return[o+n*c,s+n*u,l*t/Qe(rt*e+a)]})).duration=1e3*i,t},O.behavior.zoom=function(){var t,s,n,r,b,a,i,o,l,y={x:0,y:0,k:1},c=[960,500],u=at,d=250,p=0,$="mousedown.zoom",f="mousemove.zoom",h="mouseup.zoom",w="touchstart.zoom",k=de(m,"zoomstart","zoom","zoomend");function m(e){e.on($,D).on(nt+".zoom",v).on("dblclick.zoom",A).on(w,M)}function x(e){return[(e[0]-y.x)/y.k,(e[1]-y.y)/y.k]}function S(e){y.k=Math.max(u[0],Math.min(u[1],e))}function _(e,t){var n;t=[(n=t)[0]*y.k+y.x,n[1]*y.k+y.y],y.x+=e[0]-t[0],y.y+=e[1]-t[1]}function C(e,t,n,r){e.__chart__={x:y.x,y:y.y,k:y.k},S(Math.pow(2,r)),_(s=t,n),e=O.select(e),(e=0<d?e.transition().duration(d):e).call(m.event)}function g(){i&&i.domain(a.range().map(function(e){return(e-y.x)/y.k}).map(a.invert)),l&&l.domain(o.range().map(function(e){return(e-y.y)/y.k}).map(o.invert))}function E(e){p++||e({type:"zoomstart"})}function T(e){g(),e({type:"zoom",scale:y.k,translate:[y.x,y.y]})}function P(e){--p||(e({type:"zoomend"}),s=null)}function D(){var e=this,t=k.of(e,arguments),n=0,r=O.select(L(e)).on(f,function(){n=1,_(O.mouse(e),a),T(t)}).on(h,function(){r.on(f,null).on(h,null),i(n),P(t)}),a=x(O.mouse(e)),i=He(e);_s.call(e),E(t)}function M(){var l,c=this,u=k.of(c,arguments),d={},p=0,a=".zoom-"+O.event.changedTouches[0].identifier,o="touchmove"+a,s="touchend"+a,f=[],i=O.select(c),h=He(c);function m(){var e=O.touches(c);return l=y.k,e.forEach(function(e){e.identifier in d&&(d[e.identifier]=x(e))}),e}function e(){for(var e=O.event.target,t=(O.select(e).on(o,g).on(s,v),f.push(e),O.event.changedTouches),n=0,r=t.length;n<r;++n)d[t[n].identifier]=null;var a,e=m(),i=Date.now();1===e.length?(i-b<500&&(a=e[0],C(c,a,d[a.identifier],Math.floor(Math.log(y.k)/Math.LN2)+1),ce()),b=i):1<e.length&&(a=e[0],i=e[1],e=a[0]-i[0],a=a[1]-i[1],p=e*e+a*a)}function g(){var e,t,n=O.touches(c);_s.call(c);for(var r,a,i,o=0,s=n.length;o<s;++o,t=null)if(e=n[o],t=d[e.identifier]){if(i)break;a=e,i=t}t&&(r=(r=e[0]-a[0])*r+(r=e[1]-a[1])*r,r=p&&Math.sqrt(r/p),a=[(a[0]+e[0])/2,(a[1]+e[1])/2],i=[(i[0]+t[0])/2,(i[1]+t[1])/2],S(r*l)),b=null,_(a,i),T(u)}function v(){if(O.event.touches.length){for(var e,t=O.event.changedTouches,n=0,r=t.length;n<r;++n)delete d[t[n].identifier];for(e in d)return void m()}O.selectAll(f).on(a,null),i.on($,D).on(w,M),h(),P(u)}e(),E(u),i.on($,null).on(w,e)}function v(){var e=k.of(this,arguments);r?clearTimeout(r):(_s.call(this),t=x(s=n||O.mouse(this)),E(e)),r=setTimeout(function(){r=null,P(e)},50),ce(),S(Math.pow(2,.002*tt())*y.k),_(s,t),T(e)}function A(){var e=O.mouse(this),t=Math.log(y.k)/Math.LN2;C(this,e,x(e),O.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return nt=nt||("onwheel"in I?(tt=function(){return-O.event.deltaY*(O.event.deltaMode?120:1)},"wheel"):"onmousewheel"in I?(tt=function(){return O.event.wheelDelta},"mousewheel"):(tt=function(){return-O.event.detail},"MozMousePixelScroll")),m.event=function(e){e.each(function(){var o=k.of(this,arguments),t=y;Ts?O.select(this).transition().each("start.zoom",function(){y=this.__chart__||{x:0,y:0,k:1},E(o)}).tween("zoom:zoom",function(){var n=c[0],e=c[1],r=s?s[0]:n/2,a=s?s[1]:e/2,i=O.interpolateZoom([(r-y.x)/y.k,(a-y.y)/y.k,n/y.k],[(r-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(e){var e=i(e),t=n/e[2];this.__chart__=y={x:r-e[0]*t,y:a-e[1]*t,k:t},T(o)}}).each("interrupt.zoom",function(){P(o)}).each("end.zoom",function(){P(o)}):(this.__chart__=y,E(o),T(o),P(o))})},m.translate=function(e){return arguments.length?(y={x:+e[0],y:+e[1],k:y.k},g(),m):[y.x,y.y]},m.scale=function(e){return arguments.length?(y={x:y.x,y:y.y,k:null},S(+e),g(),m):y.k},m.scaleExtent=function(e){return arguments.length?(u=null==e?at:[+e[0],+e[1]],m):u},m.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],m):n},m.size=function(e){return arguments.length?(c=e&&[+e[0],+e[1]],m):c},m.duration=function(e){return arguments.length?(d=+e,m):d},m.x=function(e){return arguments.length?(a=(i=e).copy(),y={x:0,y:0,k:1},m):i},m.y=function(e){return arguments.length?(o=(l=e).copy(),y={x:0,y:0,k:1},m):l},O.rebind(m,k,"on")},[0,1/0]);function it(){}function ot(e,t,n){return this instanceof ot?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ot?new ot(e.h,e.s,e.l):wt(""+e,kt,ot):new ot(e,t,n)}(O.color=it).prototype.toString=function(){return this.rgb()+""};n=(O.hsl=ot).prototype=new it;function st(e,t,n){var r,a;function i(e){return Math.round(255*(360<(e=e)?e-=360:e<0&&(e+=360),e<60?r+(a-r)*e/60:e<180?a:e<240?r+(a-r)*(240-e)/60:r))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:1<t?1:t,r=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+t):n+t-n*t),new o(i(e+120),i(e),i(e-120))}function a(e,t,n){return this instanceof a?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof a?new a(e.h,e.c,e.l):ht((e instanceof i?e:e=xt((e=O.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new a(e,t,n)}n.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ot(this.h,this.s,this.l/e)},n.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ot(this.h,this.s,e*this.l)},n.rgb=function(){return st(this.h,this.s,this.l)};t=(O.hcl=a).prototype=new it;function lt(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new i(n,Math.cos(e*=S)*t,Math.sin(e)*t)}function i(e,t,n){return this instanceof i?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof i?new i(e.l,e.a,e.b):e instanceof a?lt(e.h,e.c,e.l):xt((e=o(e)).r,e.g,e.b):new i(e,t,n)}t.brighter=function(e){return new a(this.h,this.c,Math.min(100,this.l+ct*(arguments.length?e:1)))},t.darker=function(e){return new a(this.h,this.c,Math.max(0,this.l-ct*(arguments.length?e:1)))},t.rgb=function(){return lt(this.h,this.c,this.l).rgb()},O.lab=i;var ct=18,ut=.95047,dt=1,pt=1.08883,n=i.prototype=new it;function ft(e,t,n){e=(e+16)/116,n=e-n/200;return new o(vt(3.2404542*(t=mt(e+t/500)*ut)-1.5371385*(e=mt(e)*dt)-.4985314*(n=mt(n)*pt)),vt(-.969266*t+1.8760108*e+.041556*n),vt(.0556434*t-.2040259*e+1.0572252*n))}function ht(e,t,n){return 0<e?new a(Math.atan2(n,t)*C,Math.sqrt(t*t+n*n),e):new a(NaN,NaN,e)}function mt(e){return.206893034<e?e*e*e:(e-4/29)/7.787037}function gt(e){return.008856<e?Math.pow(e,1/3):7.787037*e+4/29}function vt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function o(e,t,n){return this instanceof o?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof o?new o(e.r,e.g,e.b):wt(""+e,o,st):new o(e,t,n)}function bt(e){return new o(e>>16,e>>8&255,255&e)}function yt(e){return bt(e)+""}n.brighter=function(e){return new i(Math.min(100,this.l+ct*(arguments.length?e:1)),this.a,this.b)},n.darker=function(e){return new i(Math.max(0,this.l-ct*(arguments.length?e:1)),this.a,this.b)},n.rgb=function(){return ft(this.l,this.a,this.b)};t=(O.rgb=o).prototype=new it;function $t(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function wt(e,t,n){var r,a=0,i=0,o=0,s=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase());if(s)switch(r=s[2].split(","),s[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(_t(r[0]),_t(r[1]),_t(r[2]))}return(s=Ct.get(e))?t(s.r,s.g,s.b):(null==e||"#"!==e.charAt(0)||isNaN(s=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&s)>>4,a|=a>>4,i=240&s,i|=i>>4,o=15&s,o|=o<<4):7===e.length&&(a=(16711680&s)>>16,i=(65280&s)>>8,o=255&s)),t(a,i,o))}function kt(e,t,n){var r,a,i=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-i,l=(o+i)/2;return s?(a=l<.5?s/(o+i):s/(2-o-i),r=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,a=0<l&&l<1?0:r),new ot(r,a,l)}function xt(e,t,n){var r=gt((.4124564*(e=St(e))+.3575761*(t=St(t))+.1804375*(n=St(n)))/ut),a=gt((.2126729*e+.7151522*t+.072175*n)/dt);return i(116*a-16,500*(r-a),200*(a-gt((.0193339*e+.119192*t+.9503041*n)/pt)))}function St(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _t(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}t.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b;return t||n||r?(t&&t<30&&(t=30),n&&n<30&&(n=30),r&&r<30&&(r=30),new o(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new o(30,30,30)},t.darker=function(e){return new o((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},t.hsl=function(){return kt(this.r,this.g,this.b)},t.toString=function(){return"#"+$t(this.r)+$t(this.g)+$t(this.b)};var Ct=O.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function F(e){return"function"==typeof e?e:function(){return e}}function Et(r){return function(e,t,n){return 2===arguments.length&&"function"==typeof t&&(n=t,t=null),Tt(e,t,r,n)}}function Tt(a,i,o,e){var n,s={},l=O.dispatch("beforesend","progress","load","error"),c={},u=new XMLHttpRequest,d=null;function t(){var e,t,n,r=u.status;if(!r&&((n=(t=u).responseType)&&"text"!==n?t.response:t.responseText)||200<=r&&r<300||304===r){try{e=o.call(s,u)}catch(e){return void l.error.call(s,e)}l.load.call(s,e)}else l.error.call(s,u)}return"onload"in(u=!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(a)?u:new XDomainRequest)?u.onload=u.onerror=t:u.onreadystatechange=function(){3<u.readyState&&t()},u.onprogress=function(e){var t=O.event;O.event=e;try{l.progress.call(s,u)}finally{O.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?c[e]:(null==t?delete c[e]:c[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(i=null==e?null:e+"",s):i},s.responseType=function(e){return arguments.length?(d=e,s):d},s.response=function(e){return o=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(p(arguments)))}}),s.send=function(e,t,n){if(2===arguments.length&&"function"==typeof t&&(n=t,t=null),u.open(e,a,!0),null==i||"accept"in c||(c.accept=i+",*/*"),u.setRequestHeader)for(var r in c)u.setRequestHeader(r,c[r]);return null!=i&&u.overrideMimeType&&u.overrideMimeType(i),null!=d&&(u.responseType=d),null!=n&&s.on("error",n).on("load",function(e){n(null,e)}),l.beforesend.call(s,u),u.send(null==t?null:t),s},s.abort=function(){return u.abort(),s},O.rebind(s,l,"on"),null==e?s:s.get(1===(n=e).length?function(e,t){n(null==e?t:null)}:n)}Ct.forEach(function(e,t){Ct.set(e,bt(t))}),O.functor=F,O.xhr=Et(D),O.dsv=function(a,i){var t=new RegExp('["'+a+"\n]"),p=a.charCodeAt(0);function o(e,t,n){arguments.length<3&&(n=t,t=null);var r=Tt(e,i,null==t?s:l(t),n);return r.row=function(e){return arguments.length?r.response(null==(t=e)?s:l(e)):t},r}function s(e){return o.parse(e.responseText)}function l(t){return function(e){return o.parse(e.responseText,t)}}function n(e){return e.map(c).join(a)}function c(e){return t.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return o.parse=function(e,r){var a;return o.parseRows(e,function(e,t){if(a)return a(e,t-1);var n=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");a=r?function(e,t){return r(n(e),t)}:n})},o.parseRows=function(a,e){var t,i,o={},s={},n=[],l=a.length,c=0,r=0;function u(){if(l<=c)return s;if(i)return i=!1,o;var e=c;if(34===a.charCodeAt(e)){for(var t=e;t++<l;)if(34===a.charCodeAt(t)){if(34!==a.charCodeAt(t+1))break;++t}return c=t+2,13===(n=a.charCodeAt(t+1))?(i=!0,10===a.charCodeAt(t+2)&&++c):10===n&&(i=!0),a.slice(e+1,t).replace(/""/g,'"')}for(;c<l;){var n,r=1;if(10===(n=a.charCodeAt(c++)))i=!0;else if(13===n)i=!0,10===a.charCodeAt(c)&&(++c,++r);else if(n!==p)continue;return a.slice(e,c-r)}return a.slice(e)}for(;(t=u())!==s;){for(var d=[];t!==o&&t!==s;)d.push(t),t=u();e&&null==(d=e(d,r++))||n.push(d)}return n},o.format=function(e){var n,r;return Array.isArray(e[0])?o.formatRows(e):(n=new ae,r=[],e.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(c).join(a)].concat(e.map(function(t){return r.map(function(e){return c(t[e])}).join(a)})).join("\n"))},o.formatRows=function(e){return e.map(n).join("\n")},o},O.csv=O.dsv(",","text/csv"),O.tsv=O.dsv("\t","text/tab-separated-values");var Pt,Dt,Mt,At,Ot=this[ie(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function It(e,t,n){var r=arguments.length;r<2&&(t=0);r={c:e,t:(n=r<3?Date.now():n)+t,n:null};return Dt?Dt.n=r:Pt=r,Dt=r,Mt||(At=clearTimeout(At),Mt=1,Ot(Nt)),r}function Nt(){var e=jt(),e=Ft()-e;24<e?(isFinite(e)&&(clearTimeout(At),At=setTimeout(Nt,e)),Mt=0):(Mt=1,Ot(Nt))}function jt(){for(var e=Date.now(),t=Pt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Ft(){for(var e,t=Pt,n=1/0;t;)t=t.c?(t.t<n&&(n=t.t),(e=t).n):e?e.n=t.n:Pt=t.n;return Dt=e,n}function zt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}O.timer=function(){It.apply(this,arguments)},O.timer.flush=function(){jt(),Ft()},O.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Lt=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*M(8-t));return{scale:8<t?function(e){return e/n}:function(e){return e*n},symbol:e}});O.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=O.round(e,zt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Lt[8+n/3]};var Rt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ut=O.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=O.round(e,zt(e,t))).toFixed(Math.max(0,Math.min(20,zt(e*(1+1e-15),t))))}});function qt(e){return e+""}var k=O.time={},x=Date;function Ht(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Vt.setUTCDate.apply(this._,arguments)},setDay:function(){Vt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Vt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Vt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Vt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Vt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Vt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Vt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Vt.setTime.apply(this._,arguments)}};var Vt=Date.prototype;function Yt(r,i,o){function e(e){var t=r(e),n=a(t,1);return e-t<n-e?t:n}function s(e){return i(e=r(new x(e-1)),1),e}function a(e,t){return i(e=new x(+e),t),e}function l(e,t,n){var r=s(e),a=[];if(1<n)for(;r<t;)o(r)%n||a.push(new Date(+r)),i(r,1);else for(;r<t;)a.push(new Date(+r)),i(r,1);return a}(r.floor=r).round=e,r.ceil=s,r.offset=a,r.range=l;var t=r.utc=Bt(r);return(t.floor=t).round=Bt(e),t.ceil=Bt(s),t.offset=Bt(a),t.range=function(e,t,n){try{var r=new(x=Ht);return r._=e,l(r,t,n)}finally{x=Date}},r}function Bt(r){return function(e,t){try{var n=new(x=Ht);return n._=e,r(n,t)._}finally{x=Date}}}function Wt(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths;function c(s){var l=s.length;function e(e){for(var t,n,r,a=[],i=-1,o=0;++i<l;)37===s.charCodeAt(i)&&(a.push(s.slice(o,i)),null!=(n=Gt[t=s.charAt(++i)])&&(t=s.charAt(++i)),(r=$[t])&&(t=r(e,null==n?"e"===t?" ":"0":n)),a.push(t),o=i+1);return a.push(s.slice(o,i)),a.join("")}return e.parse=function(e){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(u(t,s,e,0)!=e.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);var e=null!=t.Z&&x!==Ht,n=new(e?Ht:x);return"j"in t?n.setFullYear(t.y,0,t.j):"W"in t||"U"in t?("w"in t||(t.w="W"in t?1:0),n.setFullYear(t.y,0,1),n.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(n.getDay()+5)%7:t.w+7*t.U-(n.getDay()+6)%7)):n.setFullYear(t.y,t.m,t.d),n.setHours(t.H+(t.Z/100|0),t.M+t.Z%100,t.S,t.L),e?n._:n},e.toString=function(){return s},e}function u(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(l<=r)return-1;if(37===(a=t.charCodeAt(o++))){if(i=t.charAt(o++),!(i=w[i in Gt?t.charAt(o++):i])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}c.multi=(c.utc=function(e){var n=c(e);function t(e){try{var t=new(x=Ht);return t._=e,n(t)}finally{x=Date}}return t.parse=function(e){try{x=Ht;var t=n.parse(e);return t&&t._}finally{x=Date}},t.toString=n.toString,t}).multi=hn;var d=O.map(),p=Xt(i),f=Jt(i),h=Xt(o),m=Jt(o),g=Xt(s),v=Jt(s),b=Xt(l),y=Jt(l),$=(a.forEach(function(e,t){d.set(e.toLowerCase(),t)}),{a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:c(t),d:function(e,t){return E(e.getDate(),t,2)},e:function(e,t){return E(e.getDate(),t,2)},H:function(e,t){return E(e.getHours(),t,2)},I:function(e,t){return E(e.getHours()%12||12,t,2)},j:function(e,t){return E(1+k.dayOfYear(e),t,3)},L:function(e,t){return E(e.getMilliseconds(),t,3)},m:function(e,t){return E(e.getMonth()+1,t,2)},M:function(e,t){return E(e.getMinutes(),t,2)},p:function(e){return a[+(12<=e.getHours())]},S:function(e,t){return E(e.getSeconds(),t,2)},U:function(e,t){return E(k.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return E(k.mondayOfYear(e),t,2)},x:c(n),X:c(r),y:function(e,t){return E(e.getFullYear()%100,t,2)},Y:function(e,t){return E(e.getFullYear()%1e4,t,4)},Z:pn,"%":function(){return"%"}}),w={a:function(e,t,n){h.lastIndex=0;t=h.exec(t.slice(n));return t?(e.w=m.get(t[0].toLowerCase()),n+t[0].length):-1},A:function(e,t,n){p.lastIndex=0;t=p.exec(t.slice(n));return t?(e.w=f.get(t[0].toLowerCase()),n+t[0].length):-1},b:function(e,t,n){b.lastIndex=0;t=b.exec(t.slice(n));return t?(e.m=y.get(t[0].toLowerCase()),n+t[0].length):-1},B:function(e,t,n){g.lastIndex=0;t=g.exec(t.slice(n));return t?(e.m=v.get(t[0].toLowerCase()),n+t[0].length):-1},c:function(e,t,n){return u(e,$.c.toString(),t,n)},d:on,e:on,H:ln,I:ln,j:sn,L:dn,m:an,M:cn,p:function(e,t,n){t=d.get(t.slice(n,n+=2).toLowerCase());return null==t?-1:(e.p=t,n)},S:un,U:Qt,w:Zt,W:en,x:function(e,t,n){return u(e,$.x.toString(),t,n)},X:function(e,t,n){return u(e,$.X.toString(),t,n)},y:nn,Y:tn,Z:rn,"%":fn};return c}k.year=Yt(function(e){return(e=k.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),k.years=k.year.range,k.years.utc=k.year.utc.range,k.day=Yt(function(e){var t=new x(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),k.days=k.day.range,k.days.utc=k.day.utc.range,k.dayOfYear=function(e){var t=k.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,n){n=7-n;var t=k[e]=Yt(function(e){return(e=k.day(e)).setDate(e.getDate()-(e.getDay()+n)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var t=k.year(e).getDay();return Math.floor((k.dayOfYear(e)+(t+n)%7)/7)-(t!==n)});k[e+"s"]=t.range,k[e+"s"].utc=t.utc.range,k[e+"OfYear"]=function(e){var t=k.year(e).getDay();return Math.floor((k.dayOfYear(e)+(t+n)%7)/7)}}),k.week=k.sunday,k.weeks=k.sunday.range,k.weeks.utc=k.sunday.utc.range,k.weekOfYear=k.sundayOfYear;var Gt={"-":"",_:" ",0:"0"},s=/^\s*\d+/,Kt=/^%/;function E(e,t,n){var r=e<0?"-":"",e=(r?-e:e)+"",a=e.length;return r+(a<n?new Array(n-a+1).join(t)+e:e)}function Xt(e){return new RegExp("^(?:"+e.map(O.requote).join("|")+")","i")}function Jt(e){for(var t=new G,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Zt(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+1));return t?(e.w=+t[0],n+t[0].length):-1}function Qt(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n));return t?(e.U=+t[0],n+t[0].length):-1}function en(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n));return t?(e.W=+t[0],n+t[0].length):-1}function tn(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+4));return t?(e.y=+t[0],n+t[0].length):-1}function nn(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+2));return t?(e.y=(e=+t[0])+(68<e?1900:2e3),n+t[0].length):-1}function rn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function an(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+2));return t?(e.m=t[0]-1,n+t[0].length):-1}function on(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+2));return t?(e.d=+t[0],n+t[0].length):-1}function sn(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+3));return t?(e.j=+t[0],n+t[0].length):-1}function ln(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+2));return t?(e.H=+t[0],n+t[0].length):-1}function cn(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+2));return t?(e.M=+t[0],n+t[0].length):-1}function un(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+2));return t?(e.S=+t[0],n+t[0].length):-1}function dn(e,t,n){s.lastIndex=0;t=s.exec(t.slice(n,n+3));return t?(e.L=+t[0],n+t[0].length):-1}function pn(e){var e=e.getTimezoneOffset(),t=0<e?"-":"+",n=M(e)/60|0,e=M(e)%60;return t+E(n,"0",2)+E(e,"0",2)}function fn(e,t,n){Kt.lastIndex=0;t=Kt.exec(t.slice(n,n+1));return t?n+t[0].length:-1}function hn(r){for(var e=r.length,t=-1;++t<e;)r[t][0]=this(r[t][0]);return function(e){for(var t=0,n=r[t];!n[1](e);)n=r[++t];return n[0](e)}}O.locale=function(e){return{numberFormat:(w=e.decimal,s=e.thousands,l=e.grouping,n=e.currency,k=l&&s?function(e,t){for(var n=e.length,r=[],a=0,i=l[0],o=0;0<n&&0<i&&(t<o+i+1&&(i=Math.max(1,t-o)),r.push(e.substring(n-=i,n+i)),!((o+=i+1)>t));)i=l[a=(a+1)%l.length];return r.reverse().join(s)}:D,function(e){var e=Rt.exec(e),s=e[1]||" ",l=e[2]||">",c=e[3]||"-",t=e[4]||"",u=e[5],d=+e[6],p=e[7],f=e[8],h=e[9],m=1,g="",v="",b=!1,y=!0,f=f&&+f.substring(1);switch((u||"0"===s&&"="===l)&&(u=s="0",l="="),h){case"n":p=!0,h="g";break;case"%":m=100,v="%",h="f";break;case"p":m=100,v="%",h="r";break;case"b":case"o":case"x":case"X":"#"===t&&(g="0"+h.toLowerCase());case"c":y=!1;case"d":b=!0,f=0;break;case"s":m=-1,h="r"}"$"===t&&(g=n[0],v=n[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):"e"!=h&&"f"!=h||(f=Math.max(0,Math.min(20,f))));var h=Ut.get(h)||qt,$=u&&p;return function(e){var t,n,r,a,i,o=v;return b&&e%1?"":(t=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===c?"":c,m<0?(e=(a=O.formatPrefix(e,f)).scale(e),o=a.symbol+v):e*=m,r=(a=(e=h(e,f)).lastIndexOf("."))<0?(r=y?e.lastIndexOf("e"):-1)<0?(n=e,""):(n=e.substring(0,r),e.substring(r)):(n=e.substring(0,a),w+e.substring(a+1)),!u&&p&&(n=k(n,1/0)),i=(a=g.length+n.length+r.length+($?0:t.length))<d?new Array(a=d-a+1).join(s):"",$&&(n=k(i+n,i.length?d-r.length:1/0)),t+=g,e=n+r,("<"===l?t+e+i:">"===l?i+t+e:"^"===l?i.substring(0,a>>=1)+t+e+i.substring(a):t+($?e:i+e))+o)}}),timeFormat:Wt(e)};var w,s,l,n,k};n=O.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mn(){}O.format=n.numberFormat,O.geo={},mn.prototype={s:0,t:0,add:function(e){vn(e,this.t,gn),vn(gn.s,this.s,this),this.s?this.t+=gn.t:this.s=gn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gn=new mn;function vn(e,t,n){var r=n.s=e+t,a=r-e;n.t=e-(r-a)+(t-a)}function bn(e,t){e&&$n.hasOwnProperty(e.type)&&$n[e.type](e,t)}O.geo.stream=function(e,t){e&&yn.hasOwnProperty(e.type)?yn[e.type](e,t):bn(e,t)};var yn={Feature:function(e,t){bn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)bn(n[r].geometry,t)}},$n={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){wn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)wn(n[r],t,0)},Polygon:function(e,t){kn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)kn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)bn(n[r],t)}};function wn(e,t,n){var r,a=-1,i=e.length-n;for(t.lineStart();++a<i;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function kn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)wn(e[n],t,1);t.polygonEnd()}O.geo.area=function(e){return xn=0,O.geo.stream(e,g),xn};var xn,c,u,d,f,Sn,_n,Cn,En,Tn,Pn,Dn,h,Mn,An,On,In,Nn,jn,Fn,m,zn,Ln,Rn,Un=new mn,g={sphere:function(){xn+=4*N},point:l,lineStart:l,lineEnd:l,polygonStart:function(){Un.reset(),g.lineStart=qn},polygonEnd:function(){var e=2*Un;xn+=e<0?4*N+e:e,g.lineStart=g.lineEnd=g.point=l}};function qn(){var n,r,s,l,c;function a(e,t){t=t*S/2+N/4;var n=(e*=S)-s,r=0<=n?1:-1,n=r*n,a=Math.cos(t),t=Math.sin(t),i=c*t,o=l*a+i*Math.cos(n),i=i*r*Math.sin(n);Un.add(Math.atan2(i,o)),s=e,l=a,c=t}g.point=function(e,t){g.point=a,s=(n=e)*S,l=Math.cos(t=(r=t)*S/2+N/4),c=Math.sin(t)},g.lineEnd=function(){a(n,r)}}function Hn(e){var t=e[0],e=e[1],n=Math.cos(e);return[n*Math.cos(t),n*Math.sin(t),Math.sin(e)]}function Vn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Yn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Bn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Wn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Gn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Kn(e){return[Math.atan2(e[1],e[0]),Ze(e[2])]}function Xn(e,t){return M(e[0]-t[0])<A&&M(e[1]-t[1])<A}function Jn(e,t){Pn.push(Dn=[c=e,d=e]),t<u&&(u=t),f<t&&(f=t)}function Zn(e,t){var n,r,a,i,o,s=Hn([e*S,t*S]);En?(n=Yn(En,s),Gn(n=Yn([n[1],-n[0],0],n)),n=Kn(n),i=e-Sn,a=n[0]*C*(r=0<i?1:-1),(i=180<M(i))^(r*Sn<a&&a<r*e)?(o=n[1]*C,f<o&&(f=o)):i^(r*Sn<(a=(360+a)%360-180)&&a<r*e)?(o=-n[1]*C)<u&&(u=o):(t<u&&(u=t),f<t&&(f=t)),i?e<Sn?v(c,e)>v(c,d)&&(d=e):v(e,d)>v(c,d)&&(c=e):c<=d?(e<c&&(c=e),d<e&&(d=e)):Sn<e?v(c,e)>v(c,d)&&(d=e):v(e,d)>v(c,d)&&(c=e)):Jn(e,t),En=s,Sn=e}function Qn(){h.point=Zn}function er(){Dn[0]=c,Dn[1]=d,h.point=Jn,En=null}function tr(e,t){var n;En?Tn+=180<M(n=e-Sn)?n+(0<n?360:-360):n:(_n=e,Cn=t),g.point(e,t),Zn(e,t)}function nr(){g.lineStart()}function rr(){tr(_n,Cn),g.lineEnd(),M(Tn)>A&&(c=-(d=180)),Dn[0]=c,Dn[1]=d,En=null}function v(e,t){return(t-=e)<0?t+360:t}function ar(e,t){return e[0]-t[0]}function ir(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}O.geo.bounds=(h={point:Jn,lineStart:Qn,lineEnd:er,polygonStart:function(){h.point=tr,h.lineStart=nr,h.lineEnd=rr,Tn=0,g.polygonStart()},polygonEnd:function(){g.polygonEnd(),h.point=Jn,h.lineStart=Qn,h.lineEnd=er,Un<0?(c=-(d=180),u=-(f=90)):A<Tn?f=90:Tn<-A&&(u=-90),Dn[0]=c,Dn[1]=d}},function(e){if(f=d=-(c=u=1/0),Pn=[],O.geo.stream(e,h),a=Pn.length){Pn.sort(ar);for(var t=1,n=[s=Pn[0]];t<a;++t)ir((i=Pn[t])[0],s)||ir(i[1],s)?(v(s[0],i[1])>v(s[0],s[1])&&(s[1]=i[1]),v(i[0],s[1])>v(s[0],s[1])&&(s[0]=i[0])):n.push(s=i);for(var r,a,i,o=-1/0,t=0,s=n[a=n.length-1];t<=a;s=i,++t)(r=v(s[1],(i=n[t])[0]))>o&&(o=r,c=i[0],d=s[1])}return Pn=Dn=null,c===1/0||u===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,u],[d,f]]}),O.geo.centroid=function(e){Mn=An=On=In=Nn=jn=Fn=m=zn=Ln=Rn=0,O.geo.stream(e,b);var e=zn,t=Ln,n=Rn,r=e*e+t*t+n*n;return r<We&&(e=jn,t=Fn,n=m,An<A&&(e=On,t=In,n=Nn),(r=e*e+t*t+n*n)<We)?[NaN,NaN]:[Math.atan2(t,e)*C,Ze(n/Math.sqrt(r))*C]};var b={sphere:l,point:or,lineStart:lr,lineEnd:cr,polygonStart:function(){b.lineStart=ur},polygonEnd:function(){b.lineStart=lr}};function or(e,t){e*=S;var n=Math.cos(t*=S);sr(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function sr(e,t,n){On+=(e-On)/++Mn,In+=(t-In)/Mn,Nn+=(n-Nn)/Mn}function lr(){var a,i,o;function r(e,t){e*=S;var n=Math.cos(t*=S),r=n*Math.cos(e),n=n*Math.sin(e),e=Math.sin(t),t=Math.atan2(Math.sqrt((t=i*e-o*n)*t+(t=o*r-a*e)*t+(t=a*n-i*r)*t),a*r+i*n+o*e);An+=t,jn+=t*(a+(a=r)),Fn+=t*(i+(i=n)),m+=t*(o+(o=e)),sr(a,i,o)}b.point=function(e,t){e*=S;var n=Math.cos(t*=S);a=n*Math.cos(e),i=n*Math.sin(e),o=Math.sin(t),b.point=r,sr(a,i,o)}}function cr(){b.point=or}function ur(){var r,a,c,u,d;function i(e,t){e*=S;var n=Math.cos(t*=S),r=n*Math.cos(e),n=n*Math.sin(e),e=Math.sin(t),t=u*e-d*n,a=d*r-c*e,i=c*n-u*r,o=Math.sqrt(t*t+a*a+i*i),s=c*r+u*n+d*e,l=o&&-Je(s)/o,o=Math.atan2(o,s);zn+=l*t,Ln+=l*a,Rn+=l*i,An+=o,jn+=o*(c+(c=r)),Fn+=o*(u+(u=n)),m+=o*(d+(d=e)),sr(c,u,d)}b.point=function(e,t){r=e,a=t,b.point=i,e*=S;var n=Math.cos(t*=S);c=n*Math.cos(e),u=n*Math.sin(e),d=Math.sin(t),sr(c,u,d)},b.lineEnd=function(){i(r,a),b.lineEnd=cr,b.point=or}}function dr(n,r){function e(e,t){return e=n(e,t),r(e[0],e[1])}return n.invert&&r.invert&&(e.invert=function(e,t){return(e=r.invert(e,t))&&n.invert(e[0],e[1])}),e}function pr(){return!0}function fr(e,t,n,r,s){var l=[],c=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Xn(n,r)){s.lineStart();for(var a=0;a<t;++a)s.point((n=e[a])[0],n[1]);s.lineEnd()}else{var i=new mr(n,e,null,!0),o=new mr(n,null,i,!1);i.o=o,l.push(i),c.push(o),i=new mr(r,e,null,!1),o=new mr(r,null,i,!0),i.o=o,l.push(i),c.push(o)}}}),c.sort(t),hr(l),hr(c),l.length){for(var a=0,i=n,o=c.length;a<o;++a)c[a].e=i=!i;for(var u,d=l[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;h=p.z,s.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(a=0,o=h.length;a<o;++a)s.point((u=h[a])[0],u[1]);else r(p.x,p.n.x,1,s);p=p.n}else{if(f)for(var h,a=(h=p.p.z).length-1;0<=a;--a)s.point((u=h[a])[0],u[1]);else r(p.x,p.p.x,-1,s);p=p.p}}while(h=(p=p.o).z,f=!f,!p.v);s.lineEnd()}}}function hr(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}function mr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function gr(b,y,$,w){return function(r,o){var s,n=y(o),t=r.invert(w[0],w[1]),a={point:i,lineStart:l,lineEnd:c,polygonStart:function(){a.point=m,a.lineStart=g,a.lineEnd=v,s=[],u=[]},polygonEnd:function(){a.point=i,a.lineStart=l,a.lineEnd=c,s=O.merge(s);var e=function(e,t){var n=e[0],r=e[1],a=[Math.sin(n),-Math.cos(n),0],i=0,o=0;Un.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],p=d[0],f=d[1]/2+N/4,h=Math.sin(f),m=Math.cos(f),g=1;;){var v=(e=c[g=g===u?0:g])[0],b=e[1]/2+N/4,y=Math.sin(b),b=Math.cos(b),$=v-p,w=0<=$?1:-1,k=w*$,x=N<k,S=h*y;if(Un.add(Math.atan2(S*w*Math.sin(k),m*b+S*Math.cos(k))),i+=x?$+w*_:$,x^n<=p^n<=v&&(Gn(S=Yn(Hn(d),Hn(e))),Gn(k=Yn(a,S)),(w=(x^0<=$?-1:1)*Ze(k[2]))<r||r===w&&(S[0]||S[1]))&&(o+=x^0<=$?1:-1),!g++)break;p=v,h=y,m=b,d=e}}return(i<-A||i<A&&Un<-A)^1&o}(t,u);s.length?(h||(o.polygonStart(),h=!0),fr(s,yr,e,$,o)):e&&(h||(o.polygonStart(),h=!0),o.lineStart(),$(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),s=u=null},sphere:function(){o.polygonStart(),o.lineStart(),$(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function i(e,t){var n=r(e,t);b(e=n[0],t=n[1])&&o.point(e,t)}function e(e,t){e=r(e,t);n.point(e[0],e[1])}function l(){a.point=e,n.lineStart()}function c(){a.point=i,n.lineEnd()}var u,d,p=br(),f=y(p),h=!1;function m(e,t){d.push([e,t]);e=r(e,t);f.point(e[0],e[1])}function g(){f.lineStart(),d=[]}function v(){m(d[0][0],d[0][1]),f.lineEnd();var e=f.clean(),t=p.buffer(),n=t.length;if(d.pop(),u.push(d),d=null,n)if(1&e){var r,a,i=-1;if(0<(n=(r=t[0]).length-1)){for(h||(o.polygonStart(),h=!0),o.lineStart();++i<n;)o.point((a=r[i])[0],a[1]);o.lineEnd()}}else 1<n&&2&e&&t.push(t.pop().concat(t.shift())),s.push(t.filter(vr))}return a}}function vr(e){return 1<e.length}function br(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(e,t){n.push([e,t])},lineEnd:l,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))}}}function yr(e,t){return((e=e.x)[0]<0?e[1]-j-A:j-e[1])-((t=t.x)[0]<0?t[1]-j-A:j-t[1])}var $r=gr(pr,function(c){var u,d=NaN,p=NaN,f=NaN;return{lineStart:function(){c.lineStart(),u=1},point:function(e,t){var n,r,a,i,o,s=0<e?N:-N,l=M(e-d);M(l-N)<A?(c.point(d,p=0<(p+t)/2?j:-j),c.point(f,p),c.lineEnd(),c.lineStart(),c.point(s,p),c.point(e,p),u=0):f!==s&&N<=l&&(M(d-f)<A&&(d-=f*A),M(e-s)<A&&(e-=s*A),l=d,n=p,r=e,a=t,o=Math.sin(l-r),p=M(o)>A?Math.atan((Math.sin(n)*(i=Math.cos(a))*Math.sin(r)-Math.sin(a)*(r=Math.cos(n))*Math.sin(l))/(r*i*o)):(n+a)/2,c.point(f,p),c.lineEnd(),c.lineStart(),c.point(s,p),u=0),c.point(d=e,p=t),f=s},lineEnd:function(){c.lineEnd(),d=p=NaN},clean:function(){return 2-u}}},function(e,t,n,r){var a;null==e?(a=n*j,r.point(-N,a),r.point(0,a),r.point(N,a),r.point(N,0),r.point(N,-a),r.point(0,-a),r.point(-N,-a),r.point(-N,0),r.point(-N,a)):M(e[0]-t[0])>A?(e=e[0]<t[0]?N:-N,a=n*e/2,r.point(-e,a),r.point(0,a),r.point(e,a)):r.point(t[0],t[1])},[-N,-N/2]);function wr(a){var m=Math.cos(a),d=0<m,p=M(m)>A;return gr(f,function(i){var o,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(e,t){var n,r=[e,t],a=f(e,t),e=d?a?0:g(e,t):a?g(e+(e<0?N:-N),t):0;!o&&(c=l=a)&&i.lineStart(),a!==l&&(n=h(o,r),Xn(o,n)||Xn(r,n))&&(r[0]+=A,r[1]+=A,a=f(r[0],r[1])),a!==l?(u=0,a?(i.lineStart(),n=h(r,o),i.point(n[0],n[1])):(n=h(o,r),i.point(n[0],n[1]),i.lineEnd()),o=n):p&&o&&d^a&&(e&s||!(t=h(r,o,!0))||(u=0,d?(i.lineStart(),i.point(t[0][0],t[0][1]),i.point(t[1][0],t[1][1]),i.lineEnd()):(i.point(t[1][0],t[1][1]),i.lineEnd(),i.lineStart(),i.point(t[0][0],t[0][1])))),!a||o&&Xn(o,r)||i.point(r[0],r[1]),o=r,l=a,s=e},lineEnd:function(){l&&i.lineEnd(),o=null},clean:function(){return u|(c&&l)<<1}}},na(a,6*S),d?[0,-a]:[-N,a-N]);function f(e,t){return Math.cos(e)*Math.cos(t)>m}function h(e,t,n){var r,a,i,o,s,l,c,u=[1,0,0],d=Yn(Hn(e),Hn(t)),p=Vn(d,d),f=d[0],h=p-f*f;return h?(r=Yn(u,d),Bn(u=Wn(u,m*p/h),Wn(d,-m*f/h)),(h=(d=Vn(u,p=r))*d-(f=Vn(p,p))*(Vn(u,u)-1))<0?void 0:(Bn(h=Wn(p,(-d-(r=Math.sqrt(h)))/f),u),h=Kn(h),n?(a=e[0],i=t[0],o=e[1],t=t[1],i<a&&(c=a,a=i,i=c),!(l=M((s=i-a)-N)<A)&&t<o&&(c=o,o=t,t=c),(l||s<A?l?0<o+t^h[1]<(M(h[0]-a)<A?o:t):o<=h[1]&&h[1]<=t:N<s^(a<=h[0]&&h[0]<=i))?(Bn(c=Wn(p,(-d+r)/f),u),[h,Kn(c)]):void 0):h)):!n&&e}function g(e,t){var n=d?a:N-a,r=0;return e<-n?r|=1:n<e&&(r|=2),t<-n?r|=4:n<t&&(r|=8),r}}function kr(l,c,u,d){return function(e){var t=e.a,n=e.b,r=t.x,t=t.y,a=0,i=1,o=n.x-r,n=n.y-t,s=l-r;if(o||!(0<s)){if(s/=o,o<0){if(s<a)return;s<i&&(i=s)}else if(0<o){if(i<s)return;a<s&&(a=s)}if(s=u-r,o||!(s<0)){if(s/=o,o<0){if(i<s)return;a<s&&(a=s)}else if(0<o){if(s<a)return;s<i&&(i=s)}if(s=c-t,n||!(0<s)){if(s/=n,n<0){if(s<a)return;s<i&&(i=s)}else if(0<n){if(i<s)return;a<s&&(a=s)}if(s=d-t,n||!(s<0)){if(s/=n,n<0){if(i<s)return;a<s&&(a=s)}else if(0<n){if(s<a)return;s<i&&(i=s)}return 0<a&&(e.a={x:r+a*o,y:t+a*n}),i<1&&(e.b={x:r+i*o,y:t+i*n}),e}}}}}}var xr=1e9;function Sr($,w,k,x){return function(a){var r,u,i,o,s,l,c,d,p,f,h,m=a,e=br(),g=kr($,w,k,x),t={point:n,lineStart:function(){t.point=y,u&&u.push(i=[]);f=!0,p=!1,c=d=NaN},lineEnd:function(){r&&(y(o,s),l&&p&&e.rejoin(),r.push(e.buffer()));t.point=n,p&&a.lineEnd()},polygonStart:function(){a=e,r=[],u=[],h=!0},polygonEnd:function(){a=m,r=O.merge(r);var e=function(e){for(var t=0,n=u.length,r=e[1],a=0;a<n;++a)for(var i,o=1,s=u[a],l=s.length,c=s[0];o<l;++o)i=s[o],c[1]<=r?i[1]>r&&0<Xe(c,i,e)&&++t:i[1]<=r&&Xe(c,i,e)<0&&--t,c=i;return 0!==t}([$,x]),t=h&&e,n=r.length;(t||n)&&(a.polygonStart(),t&&(a.lineStart(),v(null,null,1,a),a.lineEnd()),n&&fr(r,_,e,v,a),a.polygonEnd()),r=u=i=null}};function v(e,t,n,r){var a=0,i=0;if(null==e||(a=S(e,n))!==(i=S(t,n))||C(e,t)<0^0<n)for(;r.point(0===a||3===a?$:k,1<a?x:w),(a=(a+n+4)%4)!==i;);else r.point(t[0],t[1])}function b(e,t){return $<=e&&e<=k&&w<=t&&t<=x}function n(e,t){b(e,t)&&a.point(e,t)}function y(e,t){var n,r=b(e=Math.max(-xr,Math.min(xr,e)),t=Math.max(-xr,Math.min(xr,t)));u&&i.push([e,t]),f?(o=e,s=t,f=!1,(l=r)&&(a.lineStart(),a.point(e,t))):r&&p?a.point(e,t):g(n={a:{x:c,y:d},b:{x:e,y:t}})?(p||(a.lineStart(),a.point(n.a.x,n.a.y)),a.point(n.b.x,n.b.y),r||a.lineEnd(),h=!1):r&&(a.lineStart(),a.point(e,t),h=!1),c=e,d=t,p=r}return t};function S(e,t){return M(e[0]-$)<A?0<t?0:3:M(e[0]-k)<A?0<t?2:1:M(e[1]-w)<A?0<t?1:0:0<t?3:2}function _(e,t){return C(e.x,t.x)}function C(e,t){var n=S(e,1),r=S(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function _r(e){var t=0,n=N/3,r=Gr(e),e=r(t,n);return e.parallels=function(e){return arguments.length?r(t=e[0]*N/180,n=e[1]*N/180):[t/N*180,n/N*180]},e}function Cr(e,t){var e=Math.sin(e),n=(e+Math.sin(t))/2,r=1+e*(2*n-e),a=Math.sqrt(r)/n;function i(e,t){t=Math.sqrt(r-2*n*Math.sin(t))/n;return[t*Math.sin(e*=n),a-t*Math.cos(e)]}return i.invert=function(e,t){t=a-t;return[Math.atan2(e,t)/n,Ze((r-(e*e+t*t)*n*n)/(2*n))]},i}O.geo.clipExtent=function(){var t,n,r,a,i,o,s={stream:function(e){return i&&(i.valid=!1),(i=o(e)).valid=!0,i},extent:function(e){return arguments.length?(o=Sr(t=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),i&&(i.valid=!1,i=null),s):[[t,n],[r,a]]}};return s.extent([[0,0],[960,500]])},(O.geo.conicEqualArea=function(){return _r(Cr)}).raw=Cr,O.geo.albers=function(){return O.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},O.geo.albersUsa=function(){var n,a,i,o,s=O.geo.albers(),l=O.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=O.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){n=[e,t]}};function d(e){var t=e[0],e=e[1];return n=null,a(t,e),n||(i(t,e),n)||o(t,e),n}return d.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,n=(e[1]-n[1])/t;return(.12<=n&&n<.234&&-.425<=r&&r<-.214?l:.166<=n&&n<.234&&-.214<=r&&r<-.115?c:s).invert(e)},d.stream=function(e){var n=s.stream(e),r=l.stream(e),a=c.stream(e);return{point:function(e,t){n.point(e,t),r.point(e,t),a.point(e,t)},sphere:function(){n.sphere(),r.sphere(),a.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),a.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),a.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),a.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),a.polygonEnd()}}},d.precision=function(e){return arguments.length?(s.precision(e),l.precision(e),c.precision(e),d):s.precision()},d.scale=function(e){return arguments.length?(s.scale(e),l.scale(.35*e),c.scale(e),d.translate(s.translate())):s.scale()},d.translate=function(e){var t,n,r;return arguments.length?(t=s.scale(),n=+e[0],r=+e[1],a=s.translate(e).clipExtent([[n-.455*t,r-.238*t],[n+.455*t,r+.238*t]]).stream(u).point,i=l.translate([n-.307*t,r+.201*t]).clipExtent([[n-.425*t+A,r+.12*t+A],[n-.214*t-A,r+.234*t-A]]).stream(u).point,o=c.translate([n-.205*t,r+.212*t]).clipExtent([[n-.214*t+A,r+.166*t+A],[n-.115*t-A,r+.234*t-A]]).stream(u).point,d):s.translate()},d.scale(1070)};var Er,Tr,Pr,Dr,Mr,Ar,Or={point:l,lineStart:l,lineEnd:l,polygonStart:function(){Tr=0,Or.lineStart=Ir},polygonEnd:function(){Or.lineStart=Or.lineEnd=Or.point=l,Er+=M(Tr/2)}};function Ir(){var n,r,a,i;function o(e,t){Tr+=i*e-a*t,a=e,i=t}Or.point=function(e,t){Or.point=o,n=a=e,r=i=t},Or.lineEnd=function(){o(n,r)}}var Nr={point:function(e,t){e<Pr&&(Pr=e);Mr<e&&(Mr=e);t<Dr&&(Dr=t);Ar<t&&(Ar=t)},lineStart:l,lineEnd:l,polygonStart:l,polygonEnd:l};function jr(){var n=Fr(4.5),r=[],a={point:e,lineStart:function(){a.point=t},lineEnd:o,polygonStart:function(){a.lineEnd=s},polygonEnd:function(){a.lineEnd=o,a.point=e},pointRadius:function(e){return n=Fr(e),a},result:function(){var e;if(r.length)return e=r.join(""),r=[],e}};function e(e,t){r.push("M",e,",",t,n)}function t(e,t){r.push("M",e,",",t),a.point=i}function i(e,t){r.push("L",e,",",t)}function o(){a.point=e}function s(){r.push("Z")}return a}function Fr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var zr,y={point:Lr,lineStart:Rr,lineEnd:Ur,polygonStart:function(){y.lineStart=qr},polygonEnd:function(){y.point=Lr,y.lineStart=Rr,y.lineEnd=Ur}};function Lr(e,t){On+=e,In+=t,++Nn}function Rr(){var a,i;function n(e,t){var n=e-a,r=t-i,n=Math.sqrt(n*n+r*r);jn+=n*(a+e)/2,Fn+=n*(i+t)/2,m+=n,Lr(a=e,i=t)}y.point=function(e,t){y.point=n,Lr(a=e,i=t)}}function Ur(){y.point=Lr}function qr(){var n,r,a,i;function o(e,t){var n=e-a,r=t-i,n=Math.sqrt(n*n+r*r);jn+=n*(a+e)/2,Fn+=n*(i+t)/2,m+=n,zn+=(n=i*e-a*t)*(a+e),Ln+=n*(i+t),Rn+=3*n,Lr(a=e,i=t)}y.point=function(e,t){y.point=o,Lr(n=a=e,r=i=t)},y.lineEnd=function(){o(n,r)}}function Hr(n){var r=4.5,a={point:e,lineStart:function(){a.point=t},lineEnd:o,polygonStart:function(){a.lineEnd=s},polygonEnd:function(){a.lineEnd=o,a.point=e},pointRadius:function(e){return r=e,a},result:l};function e(e,t){n.moveTo(e+r,t),n.arc(e,t,r,0,_)}function t(e,t){n.moveTo(e,t),a.point=i}function i(e,t){n.lineTo(e,t)}function o(){a.point=e}function s(){n.closePath()}return a}function Vr(E){var T=.5,P=Math.cos(30*S),w=16;function t(e){return(w?r:n)(e)}function n(n){return Br(n,function(e,t){e=E(e,t),n.point(e[0],e[1])})}function r(r){var n,a,i,o,s,l,c,u,d,p,f,h,m={point:e,lineStart:t,lineEnd:v,polygonStart:function(){r.polygonStart(),m.lineStart=b},polygonEnd:function(){r.polygonEnd(),m.lineStart=t}};function e(e,t){e=E(e,t),r.point(e[0],e[1])}function t(){u=NaN,m.point=g,r.lineStart()}function g(e,t){var n=Hn([e,t]),t=E(e,t);D(u,d,c,p,f,h,u=t[0],d=t[1],c=e,p=n[0],f=n[1],h=n[2],w,r),r.point(u,d)}function v(){m.point=e,r.lineEnd()}function b(){t(),m.point=y,m.lineEnd=$}function y(e,t){g(n=e,t),a=u,i=d,o=p,s=f,l=h,m.point=g}function $(){D(u,d,c,p,f,h,a,i,n,o,s,l,w,r),m.lineEnd=v,v()}return m}function D(e,t,n,r,a,i,o,s,l,c,u,d,p,f){var h,m,g,v,b,y,$,w,k,x,S=o-e,_=s-t,C=S*S+_*_;4*T<C&&p--&&(h=r+c,m=a+u,g=i+d,v=Math.sqrt(h*h+m*m+g*g),$=Math.asin(g/=v),b=M(M(g)-1)<A||M(n-l)<A?(n+l)/2:Math.atan2(m,h),y=($=E(b,$))[0],$=$[1],T<(x=_*(w=y-e)-S*(k=$-t))*x/C||.3<M((S*w+_*k)/C-.5)||r*c+a*u+i*d<P)&&(D(e,t,n,r,a,i,y,$,b,h/=v,m/=v,g,p,f),f.point(y,$),D(y,$,b,h,m,g,o,s,l,c,u,d,p,f))}return t.precision=function(e){return arguments.length?(w=0<(T=e*e)&&16,t):Math.sqrt(T)},t}function Yr(e){this.stream=e}function Br(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Wr(e){return Gr(function(){return e})()}function Gr(e){var n,t,r,a,i,o,s=Vr(function(e,t){return[(e=n(e,t))[0]*l+a,i-e[1]*l]}),l=150,c=480,u=250,d=0,p=0,f=0,h=0,m=0,g=$r,v=D,b=null,y=null;function $(e){return[(e=r(e[0]*S,e[1]*S))[0]*l+a,i-e[1]*l]}function w(e){return(e=r.invert((e[0]-a)/l,(i-e[1])/l))&&[e[0]*C,e[1]*C]}function k(){r=dr(t=Zr(f,h,m),n);var e=n(d,p);return a=c-e[0]*l,i=u+e[1]*l,x()}function x(){return o&&(o.valid=!1,o=null),$}return $.stream=function(e){return o&&(o.valid=!1),(o=Kr(g(t,s(v(e))))).valid=!0,o},$.clipAngle=function(e){return arguments.length?(g=null==e?(b=e,$r):wr((b=+e)*S),x()):b},$.clipExtent=function(e){return arguments.length?(v=(y=e)?Sr(e[0][0],e[0][1],e[1][0],e[1][1]):D,x()):y},$.scale=function(e){return arguments.length?(l=+e,k()):l},$.translate=function(e){return arguments.length?(c=+e[0],u=+e[1],k()):[c,u]},$.center=function(e){return arguments.length?(d=e[0]%360*S,p=e[1]%360*S,k()):[d*C,p*C]},$.rotate=function(e){return arguments.length?(f=e[0]%360*S,h=e[1]%360*S,m=2<e.length?e[2]%360*S:0,k()):[f*C,h*C,m*C]},O.rebind($,s,"precision"),function(){return n=e.apply(this,arguments),$.invert=n.invert&&w,k()}}function Kr(n){return Br(n,function(e,t){n.point(e*S,t*S)})}function Xr(e,t){return[e,t]}function Jr(e,t){return[N<e?e-_:e<-N?e+_:e,t]}function Zr(e,t,n){return e?t||n?dr(ea(e),ta(t,n)):ea(e):t||n?ta(t,n):Jr}function Qr(n){return function(e,t){return[N<(e+=n)?e-_:e<-N?e+_:e,t]}}function ea(e){var t=Qr(e);return t.invert=Qr(-e),t}function ta(e,t){var a=Math.cos(e),i=Math.sin(e),o=Math.cos(t),s=Math.sin(t);function n(e,t){var n=Math.cos(t),r=Math.cos(e)*n,e=Math.sin(e)*n,n=Math.sin(t),t=n*a+r*i;return[Math.atan2(e*o-t*s,r*a-n*i),Ze(t*o+e*s)]}return n.invert=function(e,t){var n=Math.cos(t),r=Math.cos(e)*n,e=Math.sin(e)*n,n=Math.sin(t),t=n*o-e*s;return[Math.atan2(e*o+n*s,r*a+t*i),Ze(t*a-r*i)]},n}function na(s,l){var c=Math.cos(s),u=Math.sin(s);return function(e,t,n,r){var a=n*l;null!=e?(e=ra(c,e),t=ra(c,t),(0<n?e<t:t<e)&&(e+=n*_)):(e=s+n*_,t=s-.5*a);for(var i,o=e;0<n?t<o:o<t;o-=a)r.point((i=Kn([c,-u*Math.cos(o),-u*Math.sin(o)]))[0],i[1])}}function ra(e,t){t=Hn(t),t[0]-=e,Gn(t),e=Je(-t[1]);return((-t[2]<0?-e:e)+2*Math.PI-A)%(2*Math.PI)}function aa(e,t,n){var r=O.range(e,t-A,n).concat(t);return function(t){return r.map(function(e){return[t,e]})}}function ia(e,t,n){var r=O.range(e,t-A,n).concat(t);return function(t){return r.map(function(e){return[e,t]})}}function oa(e){return e.source}function sa(e){return e.target}O.geo.path=function(){var r,t,a,n,i,o=4.5;function s(e){return e&&("function"==typeof o&&n.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=a(n)),O.geo.stream(e,i)),n.result()}function l(){return i=null,s}return s.area=function(e){return Er=0,O.geo.stream(e,a(Or)),Er},s.centroid=function(e){return On=In=Nn=jn=Fn=m=zn=Ln=Rn=0,O.geo.stream(e,a(y)),Rn?[zn/Rn,Ln/Rn]:m?[jn/m,Fn/m]:Nn?[On/Nn,In/Nn]:[NaN,NaN]},s.bounds=function(e){return Mr=Ar=-(Pr=Dr=1/0),O.geo.stream(e,a(Nr)),[[Pr,Dr],[Mr,Ar]]},s.projection=function(e){var n,t;return arguments.length?(a=(r=e)?e.stream||(n=e,t=Vr(function(e,t){return n([e*C,t*C])}),function(e){return Kr(t(e))}):D,l()):r},s.context=function(e){return arguments.length?(n=null==(t=e)?new jr:new Hr(e),"function"!=typeof o&&n.pointRadius(o),l()):t},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(n.pointRadius(+e),+e),s):o},s.projection(O.geo.albersUsa()).context(null)},O.geo.transform=function(r){return{stream:function(e){var t,n=new Yr(e);for(t in r)n[t]=r[t];return n}}},Yr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},O.geo.projection=Wr,O.geo.projectionMutator=Gr,(O.geo.equirectangular=function(){return Wr(Xr)}).raw=Xr.invert=Xr,O.geo.rotation=function(t){function e(e){return(e=t(e[0]*S,e[1]*S))[0]*=C,e[1]*=C,e}return t=Zr(t[0]%360*S,t[1]*S,2<t.length?t[2]*S:0),e.invert=function(e){return(e=t.invert(e[0]*S,e[1]*S))[0]*=C,e[1]*=C,e},e},Jr.invert=Xr,O.geo.circle=function(){var t,a,i=[0,0],n=6;function r(){var e="function"==typeof i?i.apply(this,arguments):i,n=Zr(-e[0]*S,-e[1]*S,0).invert,r=[];return a(null,null,1,{point:function(e,t){r.push(e=n(e,t)),e[0]*=C,e[1]*=C}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(e){return arguments.length?(i=e,r):i},r.angle=function(e){return arguments.length?(a=na((t=+e)*S,n*S),r):t},r.precision=function(e){return arguments.length?(a=na(t*S,(n=+e)*S),r):n},r.angle(90)},O.geo.distance=function(e,t){var n=(t[0]-e[0])*S,e=e[1]*S,t=t[1]*S,r=Math.sin(n),n=Math.cos(n),a=Math.sin(e),e=Math.cos(e),i=Math.sin(t),t=Math.cos(t);return Math.atan2(Math.sqrt((r=t*r)*r+(r=e*i-a*t*n)*r),a*i+e*t*n)},O.geo.graticule=function(){var t,n,r,a,i,o,s,l,c,u,d,p,f=10,h=f,m=90,g=360,v=2.5;function b(){return{type:"MultiLineString",coordinates:e()}}function e(){return O.range(Math.ceil(a/m)*m,r,m).map(d).concat(O.range(Math.ceil(l/g)*g,s,g).map(p)).concat(O.range(Math.ceil(n/f)*f,t,f).filter(function(e){return M(e%m)>A}).map(c)).concat(O.range(Math.ceil(o/h)*h,i,h).filter(function(e){return M(e%g)>A}).map(u))}return b.lines=function(){return e().map(function(e){return{type:"LineString",coordinates:e}})},b.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(p(s).slice(1),d(r).reverse().slice(1),p(l).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()},b.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],r<a&&(e=a,a=r,r=e),s<l&&(e=l,l=s,s=e),b.precision(v)):[[a,l],[r,s]]},b.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],t<n&&(e=n,n=t,t=e),i<o&&(e=o,o=i,i=e),b.precision(v)):[[n,o],[t,i]]},b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()},b.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],b):[m,g]},b.minorStep=function(e){return arguments.length?(f=+e[0],h=+e[1],b):[f,h]},b.precision=function(e){return arguments.length?(v=+e,c=aa(o,i,90),u=ia(n,t,v),d=aa(l,s,90),p=ia(a,r,v),b):v},b.majorExtent([[-180,-90+A],[180,90-A]]).minorExtent([[-180,-80-A],[180,80+A]])},O.geo.greatArc=function(){var t,n,r=oa,a=sa;function i(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||a.apply(this,arguments)]}}return i.distance=function(){return O.geo.distance(t||r.apply(this,arguments),n||a.apply(this,arguments))},i.source=function(e){return arguments.length?(t="function"==typeof(r=e)?null:e,i):r},i.target=function(e){return arguments.length?(n="function"==typeof(a=e)?null:e,i):a},i.precision=function(){return arguments.length?i:0},i},O.geo.interpolate=function(e,t){return n=e[0]*S,r=e[1]*S,e=t[0]*S,t=t[1]*S,a=Math.cos(r),i=Math.sin(r),o=Math.cos(t),s=Math.sin(t),l=a*Math.cos(n),c=a*Math.sin(n),u=o*Math.cos(e),d=o*Math.sin(e),p=2*Math.asin(Math.sqrt(et(t-r)+a*o*et(e-n))),f=1/Math.sin(p),(t=p?function(e){var t=Math.sin(e*=p)*f,e=Math.sin(p-e)*f,n=e*l+t*u,r=e*c+t*d,e=e*i+t*s;return[Math.atan2(r,n)*C,Math.atan2(e,Math.sqrt(n*n+r*r))*C]}:function(){return[n*C,r*C]}).distance=p,t;var n,r,a,i,o,s,l,c,u,d,p,f},O.geo.length=function(e){return zr=0,O.geo.stream(e,la),zr};var la={sphere:l,point:l,lineStart:function(){var i,o,s;function n(e,t){var n=Math.sin(t*=S),t=Math.cos(t),r=M((e*=S)-i),a=Math.cos(r);zr+=Math.atan2(Math.sqrt((r=t*Math.sin(r))*r+(r=s*n-o*t*a)*r),o*n+s*t*a),i=e,o=n,s=t}la.point=function(e,t){i=e*S,o=Math.sin(t*=S),s=Math.cos(t),la.point=n},la.lineEnd=function(){la.point=la.lineEnd=l}},lineEnd:l,polygonStart:l,polygonEnd:l};function ca(a,i){function e(e,t){var n=Math.cos(e),r=Math.cos(t),n=a(n*r);return[n*r*Math.sin(e),n*Math.sin(t)]}return e.invert=function(e,t){var n=Math.sqrt(e*e+t*t),r=i(n),a=Math.sin(r),r=Math.cos(r);return[Math.atan2(e*a,n*r),Math.asin(n&&t*a/n)]},e}var ua=ca(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)}),da=((O.geo.azimuthalEqualArea=function(){return Wr(ua)}).raw=ua,ca(function(e){e=Math.acos(e);return e&&e/Math.sin(e)},D));function pa(e,t){function n(e){return Math.tan(N/4+e/2)}var r=Math.cos(e),a=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(n(t)/n(e)),i=r*Math.pow(n(e),a)/a;return a?(o.invert=function(e,t){var t=i-t,n=Ke(a)*Math.sqrt(e*e+t*t);return[Math.atan2(e,t)/a,2*Math.atan(Math.pow(i/n,1/a))-j]},o):ma;function o(e,t){0<i?t<-j+A&&(t=-j+A):j-A<t&&(t=j-A);t=i/Math.pow(n(t),a);return[t*Math.sin(a*e),i-t*Math.cos(a*e)]}}function fa(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),a=n/r+e;return M(r)<A?Xr:(i.invert=function(e,t){t=a-t;return[Math.atan2(e,t)/r,a-Ke(r)*Math.sqrt(e*e+t*t)]},i);function i(e,t){t=a-t;return[t*Math.sin(r*e),a-t*Math.cos(r*e)]}}(O.geo.azimuthalEquidistant=function(){return Wr(da)}).raw=da,(O.geo.conicConformal=function(){return _r(pa)}).raw=pa,(O.geo.conicEquidistant=function(){return _r(fa)}).raw=fa;var ha=ca(function(e){return 1/e},Math.atan);function ma(e,t){return[e,Math.log(Math.tan(N/4+t/2))]}function ga(e){var a,i=Wr(e),o=i.scale,s=i.translate,l=i.clipExtent;return i.scale=function(){var e=o.apply(i,arguments);return e===i?a?i.clipExtent(null):i:e},i.translate=function(){var e=s.apply(i,arguments);return e===i?a?i.clipExtent(null):i:e},i.clipExtent=function(e){var t,n,r=l.apply(i,arguments);return r===i?(a=null==e)&&(t=N*o(),n=s(),l([[n[0]-t,n[1]-t],[n[0]+t,n[1]+t]])):a&&(r=null),r},i.clipExtent(null)}(O.geo.gnomonic=function(){return Wr(ha)}).raw=ha,ma.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-j]},(O.geo.mercator=function(){return ga(ma)}).raw=ma;var va=ca(function(){return 1},Math.asin),ba=((O.geo.orthographic=function(){return Wr(va)}).raw=va,ca(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)}));function ya(e,t){return[Math.log(Math.tan(N/4+t/2)),-e]}function $a(e){return e[0]}function wa(e){return e[1]}function ka(e){for(var t=e.length,n=[0,1],r=2,a=2;a<t;a++){for(;1<r&&Xe(e[n[r-2]],e[n[r-1]],e[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function xa(e,t){return e[0]-t[0]||e[1]-t[1]}(O.geo.stereographic=function(){return Wr(ba)}).raw=ba,ya.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-j]},(O.geo.transverseMercator=function(){var e=ga(ya),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],2<e.length?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=ya,O.geom={},O.geom.hull=function(e){var p=$a,f=wa;return arguments.length?t(e):(t.x=function(e){return arguments.length?(p=e,t):p},t.y=function(e){return arguments.length?(f=e,t):f},t);function t(e){if(e.length<3)return[];for(var t=F(p),n=F(f),r=e.length,a=[],i=[],o=0;o<r;o++)a.push([+t.call(this,e[o],o),+n.call(this,e[o],o),o]);for(a.sort(xa),o=0;o<r;o++)i.push([a[o][0],-a[o][1]]);var s=ka(a),l=ka(i),c=l[0]===s[0],u=l[l.length-1]===s[s.length-1],d=[];for(o=s.length-1;0<=o;--o)d.push(e[a[s[o]][2]]);for(o=+c;o<l.length-u;++o)d.push(e[a[l[o]][2]]);return d}},O.geom.polygon=function(e){return fe(e,Sa),e};var Sa=O.geom.polygon.prototype=[];function _a(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ca(e,t,n,r){var a=e[0],i=n[0],o=t[0]-a,s=r[0]-i,e=e[1],n=n[1],t=t[1]-e,r=r[1]-n,n=(s*(e-n)-r*(a-i))/(r*o-s*t);return[a+n*o,e+n*t]}function Ea(e){var t=e[0],e=e[e.length-1];return!(t[0]-e[0]||t[1]-e[1])}Sa.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],a=0;++t<n;)e=r,r=this[t],a+=e[1]*r[0]-e[0]*r[1];return.5*a},Sa.centroid=function(e){var t,n,r=-1,a=this.length,i=0,o=0,s=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++r<a;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],i+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[i*e,o*e]},Sa.clip=function(e){for(var t,n,r,a,i,o,s=Ea(e),l=-1,c=this.length-Ea(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,a=this[l],i=t[(r=t.length-s)-1],n=-1;++n<r;)_a(o=t[n],u,a)?(_a(i,u,a)||e.push(Ca(i,o,u,a)),e.push(o)):_a(i,u,a)&&e.push(Ca(i,o,u,a)),i=o;s&&e.push(e[0]),u=a}return e};var Ta,Pa,Da,Ma,Aa,Oa=[],Ia=[];function Na(){Za(this),this.edge=this.site=this.circle=null}function ja(e){var t=Oa.pop()||new Na;return t.site=e,t}function Fa(e){Ya(e),Da.remove(e),Oa.push(e),Za(e)}function za(e){for(var t,n,r,a,i,o,s=e.x,l=e.y,c=Da._;c;)if(r=La(c,l)-s,A<r)c=c.L;else{if(a=s-(i=l,o=void 0,(o=(a=c).N)?La(o,i):(o=a.site).y===i?o.x:1/0),!(A<a)){-A<r?(t=c.P,n=c):-A<a?n=(t=c).N:t=n=c;break}if(!c.R){t=c;break}c=c.R}var u,d,p,f,h,m,g,v,b,y,$=ja(e);Da.insert(t,$),(t||n)&&(t===n?(Ya(t),n=ja(t.site),Da.insert($,n),$.edge=n.edge=Ga(t.site,$.site),Va(t),Va(n)):n?(Ya(t),Ya(n),d=(u=t.site).x,p=u.y,f=e.x-d,y=e.y-p,m=(h=n.site).x-d,g=h.y-p,Ka(n.edge,u,h,y={x:(g*(v=f*f+y*y)-y*(b=m*m+g*g))/(g=2*(f*g-y*m))+d,y:(f*b-m*v)/g+p}),$.edge=Ga(u,e,null,y),n.edge=Ga(e,h,null,y),Va(t),Va(n)):$.edge=Ga(t.site,$.site))}function La(e,t){var n,r,a,i=e.site,o=i.x,s=i.y,l=s-t;return l?(e=e.P)?(e=(i=e.site).x,(t=(i=i.y)-t)?(a=(n=e-o)/t,(r=1/l-1/t)?(-a+Math.sqrt(a*a-2*r*(n*n/(-2*t)-i+t/2+s-l/2)))/r+o:(o+e)/2):e):-1/0:o}function Ra(e){this.site=e,this.edges=[]}function Ua(e){for(var t,n,r,a,i,o,s,l,c,u=e[0][0],d=e[1][0],p=e[0][1],f=e[1][1],h=Pa,m=h.length;m--;)if((a=h[m])&&a.prepare())for(s=(o=a.edges).length,i=0;i<s;)n=(c=o[i].end()).x,r=c.y,t=(l=o[++i%s].start()).x,l=l.y,(M(n-t)>A||M(r-l)>A)&&(o.splice(i,0,new Xa(function(e,t,n){e=new Wa(e,null);return e.a=t,e.b=n,Ta.push(e),e}(a.site,c,M(n-u)<A&&A<f-r?{x:u,y:M(t-u)<A?l:f}:M(r-f)<A&&A<d-n?{x:M(l-f)<A?t:d,y:f}:M(n-d)<A&&A<r-p?{x:d,y:M(t-d)<A?l:p}:M(r-p)<A&&A<n-u?{x:M(l-p)<A?t:u,y:p}:null),a.site,null)),++s)}function qa(e,t){return t.angle-e.angle}function Ha(){Za(this),this.x=this.y=this.arc=this.site=this.cy=null}function Va(e){var t=e.P,n=e.N;if(t&&n){var t=t.site,r=e.site,n=n.site;if(t!==n){var a=r.x,i=r.y,o=t.x-a,t=t.y-i,s=n.x-a,l=2*(o*(n=n.y-i)-t*s);if(!(-We<=l)){for(var c=o*o+t*t,u=s*s+n*n,t=(n*c-t*u)/l,o=(o*u-s*c)/l,n=o+i,d=Ia.pop()||new Ha,p=(d.arc=e,d.site=r,d.x=t+a,d.y=n+Math.sqrt(t*t+o*o),d.cy=n,e.circle=d,null),f=Aa._;f;)if(d.y<f.y||d.y===f.y&&d.x<=f.x){if(!f.L){p=f.P;break}f=f.L}else{if(!f.R){p=f;break}f=f.R}Aa.insert(p,d),p||(Ma=d)}}}}function Ya(e){var t=e.circle;t&&(t.P||(Ma=t.N),Aa.remove(t),Ia.push(t),Za(t),e.circle=null)}function Ba(e){for(var t,n=Ta,r=kr(e[0][0],e[0][1],e[1][0],e[1][1]),a=n.length;a--;)(!function(e,t){var n=e.b;if(!n){var r=e.a,a=t[0][0],i=t[1][0],o=t[0][1],t=t[1][1],s=e.l,l=e.r,c=s.x,s=s.y,u=l.x,l=l.y,d=(c+u)/2,p=(s+l)/2;if(l===s){if(d<a||i<=d)return;if(u<c){if(r){if(r.y>=t)return}else r={x:d,y:o};n={x:d,y:t}}else{if(r){if(r.y<o)return}else r={x:d,y:t};n={x:d,y:o}}}else if(d=p-(p=(c-u)/(l-s))*d,p<-1||1<p)if(u<c){if(r){if(r.y>=t)return}else r={x:(o-d)/p,y:o};n={x:(t-d)/p,y:t}}else{if(r){if(r.y<o)return}else r={x:(t-d)/p,y:t};n={x:(o-d)/p,y:o}}else if(s<l){if(r){if(r.x>=i)return}else r={x:a,y:p*a+d};n={x:i,y:p*i+d}}else{if(r){if(r.x<a)return}else r={x:i,y:p*i+d};n={x:a,y:p*a+d}}e.a=r,e.b=n}return 1}(t=n[a],e)||!r(t)||M(t.a.x-t.b.x)<A&&M(t.a.y-t.b.y)<A)&&(t.a=t.b=null,n.splice(a,1))}function Wa(e,t){this.l=e,this.r=t,this.a=this.b=null}function Ga(e,t,n,r){var a=new Wa(e,t);return Ta.push(a),n&&Ka(a,e,t,n),r&&Ka(a,t,e,r),Pa[e.i].edges.push(new Xa(a,e,t)),Pa[t.i].edges.push(new Xa(a,t,e)),a}function Ka(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Xa(e,t,n){var r=e.a,a=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function Ja(){this._=null}function Za(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Qa(e,t){var n=t,t=t.R,r=n.U;r?r.L===n?r.L=t:r.R=t:e._=t,t.U=r,n.U=t,n.R=t.L,n.R&&(n.R.U=n),t.L=n}function ei(e,t){var n=t,t=t.L,r=n.U;r?r.L===n?r.L=t:r.R=t:e._=t,t.U=r,n.U=t,n.L=t.R,n.L&&(n.L.U=n),t.R=n}function ti(e){for(;e.L;)e=e.L;return e}function ni(e,t){var n,r,a,i=e.sort(ri).pop();for(Ta=[],Pa=new Array(e.length),Da=new Ja,Aa=new Ja;;)if(a=Ma,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===n&&i.y===r||(Pa[i.i]=new Ra(i),za(i),n=i.x,r=i.y),i=e.pop();else{if(!a)break;v=g=m=h=f=p=d=u=c=l=s=o=void 0;for(var o=a.arc,s=o.circle,l=s.x,c=s.cy,u={x:l,y:c},d=o.P,p=o.N,f=[o],h=(Fa(o),d);h.circle&&M(l-h.circle.x)<A&&M(c-h.circle.cy)<A;)d=h.P,f.unshift(h),Fa(h),h=d;f.unshift(h),Ya(h);for(var m=p;m.circle&&M(l-m.circle.x)<A&&M(c-m.circle.cy)<A;)p=m.N,f.push(m),Fa(m),m=p;f.push(m),Ya(m);for(var g=f.length,v=1;v<g;++v)Ka((m=f[v]).edge,(h=f[v-1]).site,m.site,u);(m=f[g-1]).edge=Ga((h=f[0]).site,m.site,null,u),Va(h),Va(m)}t&&(Ba(t),Ua(t));t={cells:Pa,edges:Ta};return Da=Aa=Ta=Pa=null,t}function ri(e,t){return t.y-e.y||t.x-e.x}Ra.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(qa),t.length},Xa.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ja.prototype={insert:function(e,t){var n,r,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else n=this._?(e=ti(this._),t.P=null,(t.N=e).P=e.L=t,e):(t.P=t.N=null,this._=t,null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(a=r.R)&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.R&&(Qa(this,n),n=(e=n).U),n.C=!1,r.C=!0,ei(this,r)):(a=r.L)&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.L&&(ei(this,n),n=(e=n).U),n.C=!1,r.C=!0,Qa(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r=e.U,a=e.L,i=e.R,o=a?i?ti(i):a:i;if(r?r.L===e?r.L=o:r.R=o:this._=o,a&&i?(n=o.C,o.C=e.C,((o.L=a).U=o)!==i?(r=o.U,o.U=e.U,e=o.R,r.L=e,(o.R=i).U=o):(o.U=r,e=(r=o).R)):(n=e.C,e=o),e&&(e.U=r),!n)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Qa(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ei(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Qa(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,ei(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Qa(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,ei(this,r),e=this._;break}}while(t.C=!0,r=(e=r).U,!e.C);e&&(e.C=!1)}}},O.geom.voronoi=function(e){var t=$a,n=wa,r=t,a=n,c=ai;return e?i(e):(i.links=function(t){return ni(p(t)).edges.filter(function(e){return e.l&&e.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},i.triangles=function(u){var d=[];return ni(p(u)).cells.forEach(function(e,t){for(var n,r,a=e.site,i=e.edges.sort(qa),o=-1,s=i.length,l=i[s-1].edge,c=l.l===a?l.r:l.l;++o<s;)n=c,c=(l=i[o].edge).l===a?l.r:l.l,t<n.i&&t<c.i&&(r=c,(a.x-r.x)*(n.y-a.y)-(a.x-n.x)*(r.y-a.y)<0)&&d.push([u[t],u[n.i],u[c.i]])}),d},i.x=function(e){return arguments.length?(r=F(t=e),i):t},i.y=function(e){return arguments.length?(a=F(n=e),i):n},i.clipExtent=function(e){return arguments.length?(c=null==e?ai:e,i):c===ai?null:c},i.size=function(e){return arguments.length?i.clipExtent(e&&[[0,0],e]):c===ai?null:c&&c[1]},i);function i(r){var a=new Array(r.length),i=c[0][0],o=c[0][1],s=c[1][0],l=c[1][1];return ni(p(r),c).cells.forEach(function(e,t){var n=e.edges,e=e.site;(a[t]=n.length?n.map(function(e){e=e.start();return[e.x,e.y]}):e.x>=i&&e.x<=s&&e.y>=o&&e.y<=l?[[i,l],[s,l],[s,o],[i,o]]:[]).point=r[t]}),a}function p(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/A)*A,y:Math.round(a(e,t)/A)*A,i:t}})}};var ai=[[-1e6,-1e6],[1e6,1e6]];function ii(e){return e.x}function oi(e){return e.y}function si(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function li(e,t){e=O.rgb(e),t=O.rgb(t);var n=e.r,r=e.g,a=e.b,i=t.r-n,o=t.g-r,s=t.b-a;return function(e){return"#"+$t(Math.round(n+i*e))+$t(Math.round(r+o*e))+$t(Math.round(a+s*e))}}function ci(e,t){var n,r={},a={};for(n in e)n in t?r[n]=hi(e[n],t[n]):a[n]=e[n];for(n in t)n in e||(a[n]=t[n]);return function(e){for(n in r)a[n]=r[n](e);return a}}function ui(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function di(e,r){var t,n,a,i=pi.lastIndex=fi.lastIndex=0,o=-1,s=[],l=[];for(e+="",r+="";(t=pi.exec(e))&&(n=fi.exec(r));)(a=n.index)>i&&(a=r.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(t=t[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:ui(t,n)})),i=fi.lastIndex;return i<r.length&&(a=r.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?(r=l[0].x,function(e){return r(e)+""}):function(){return r}:(r=l.length,function(e){for(var t,n=0;n<r;++n)s[(t=l[n]).i]=t.x(e);return s.join("")})}O.geom.delaunay=function(e){return O.geom.voronoi().triangles(e)},O.geom.quadtree=function(e,b,y,$,k){var x,S=$a,_=wa;return(x=arguments.length)?(S=ii,_=oi,3===x&&(k=y,$=b,y=b=0),t(e)):(t.x=function(e){return arguments.length?(S=e,t):S},t.y=function(e){return arguments.length?(_=e,t):_},t.extent=function(e){return arguments.length?(null==e?b=y=$=k=null:(b=+e[0][0],y=+e[0][1],$=+e[1][0],k=+e[1][1]),t):null==b?null:[[b,y],[$,k]]},t.size=function(e){return arguments.length?(null==e?b=y=$=k=null:(b=y=0,$=+e[0],k=+e[1]),t):null==b?null:[$-b,k-y]},t);function t(e){var t,n,r,a,i,o,s,l,c,u=F(S),d=F(_);if(null!=b)o=b,s=y,l=$,c=k;else if(l=c=-(o=s=1/0),n=[],r=[],i=e.length,x)for(a=0;a<i;++a)(t=e[a]).x<o&&(o=t.x),t.y<s&&(s=t.y),t.x>l&&(l=t.x),t.y>c&&(c=t.y),n.push(t.x),r.push(t.y);else for(a=0;a<i;++a){var p=+u(t=e[a],a),f=+d(t,a);p<o&&(o=p),f<s&&(s=f),l<p&&(l=p),c<f&&(c=f),n.push(p),r.push(f)}var h=l-o,m=c-s;function g(e,t,n,r,a,i,o,s){var l,c,u;isNaN(n)||isNaN(r)||(e.leaf?(l=e.x,c=e.y,null!=l?(M(l-n)+M(c-r)<.01||(u=e.point,e.x=e.y=e.point=null,v(e,u,l,c,a,i,o,s)),v(e,t,n,r,a,i,o,s)):(e.x=n,e.y=r,e.point=t)):v(e,t,n,r,a,i,o,s))}function v(e,t,n,r,a,i,o,s){var l=.5*(a+o),c=.5*(i+s),u=l<=n,d=c<=r,p=d<<1|u;e.leaf=!1,u?a=l:o=l,d?i=c:s=c,g(e=e.nodes[p]||(e.nodes[p]=si()),t,n,r,a,i,o,s)}m<h?c=s+h:l=o+m;var w=si();if(w.add=function(e){g(w,e,+u(e,++a),+d(e,a),o,s,l,c)},w.visit=function(e){!function e(t,n,r,a,i,o){{var s,l;t(n,r,a,i,o)||(s=.5*(r+i),l=.5*(a+o),(n=n.nodes)[0]&&e(t,n[0],r,a,s,l),n[1]&&e(t,n[1],s,a,i,l),n[2]&&e(t,n[2],r,l,s,o),n[3]&&e(t,n[3],s,l,i,o))}}(e,w,o,s,l,c)},w.find=function(e){return f=e[0],h=e[1],$=1/0,function e(t,n,r,a,i){if(!(v<n||b<r||a<m||i<g)){(o=t.point)&&(s=(s=f-t.x)*s+(s=h-t.y)*s)<$&&(s=Math.sqrt($=s),m=f-s,g=h-s,v=f+s,b=h+s,y=o);for(var o,s,l=t.nodes,c=.5*(n+a),u=.5*(r+i),d=(u<=h)<<1|c<=f,p=d+4;d<p;++d)if(t=l[3&d])switch(3&d){case 0:e(t,n,r,c,u);break;case 1:e(t,c,r,a,u);break;case 2:e(t,n,u,c,i);break;case 3:e(t,c,u,a,i)}}}(w,m=o,g=s,v=l,b=c),y;var f,h,m,g,v,b,y,$},a=-1,null==b){for(;++a<i;)g(w,e[a],n[a],r[a],o,s,l,c);--a}else e.forEach(w.add);return n=r=e=t=null,w}},O.interpolateRgb=li,O.interpolateObject=ci,O.interpolateNumber=ui,O.interpolateString=di;var pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fi=new RegExp(pi.source,"g");function hi(e,t){for(var n,r=O.interpolators.length;0<=--r&&!(n=O.interpolators[r](e,t)););return n}function mi(e,t){for(var n=[],r=[],a=e.length,i=t.length,o=Math.min(e.length,t.length),s=0;s<o;++s)n.push(hi(e[s],t[s]));for(;s<a;++s)r[s]=e[s];for(;s<i;++s)r[s]=t[s];return function(e){for(s=0;s<o;++s)r[s]=n[s](e);return r}}O.interpolate=hi,O.interpolators=[function(e,t){var n=typeof t;return("string"==n?Ct.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?li:di:t instanceof it?li:Array.isArray(t)?mi:"object"==n&&isNaN(t)?ci:ui)(e,t)}],O.interpolateArray=mi;function gi(){return D}var vi=O.map({linear:gi,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return wi},cubic:function(){return ki},sin:function(){return Si},exp:function(){return _i},circle:function(){return Ci},elastic:function(t,n){var r;arguments.length<2&&(n=.45);r=arguments.length?n/_*Math.asin(1/t):(t=1,n/4);return function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-r)*_/n)}},back:function(t){t=t||1.70158;return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Ei}}),bi=O.map({in:D,out:yi,"in-out":$i,"out-in":function(e){return $i(yi(e))}});function yi(t){return function(e){return 1-t(1-e)}}function $i(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function wi(e){return e*e}function ki(e){return e*e*e}function xi(e){var t,n;return e<=0?0:1<=e?1:(n=(t=e*e)*e,4*(e<.5?n:3*(e-t)+n-.75))}function Si(e){return 1-Math.cos(e*j)}function _i(e){return Math.pow(2,10*(e-1))}function Ci(e){return 1-Math.sqrt(1-e*e)}function Ei(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ti(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function Pi(e){var t,n,r=[e.a,e.b],a=[e.c,e.d],i=Mi(r),o=Di(r,a),s=Mi(((t=a)[0]+=(s=-o)*(n=r)[0],t[1]+=s*n[1],t))||0;r[0]*a[1]<a[0]*r[1]&&(r[0]*=-1,r[1]*=-1,i*=-1,o*=-1),this.rotate=(i?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*C,this.translate=[e.e,e.f],this.scale=[i,s],this.skew=s?Math.atan2(o,s)*C:0}function Di(e,t){return e[0]*t[0]+e[1]*t[1]}function Mi(e){var t=Math.sqrt(Di(e,e));return t&&(e[0]/=t,e[1]/=t),t}O.ease=function(e){var t,n=e.indexOf("-"),r=0<=n?e.slice(0,n):e,n=0<=n?e.slice(n+1):"in",r=vi.get(r)||gi,n=bi.get(n)||D;return t=n(r.apply(null,P.call(arguments,1))),function(e){return e<=0?0:1<=e?1:t(e)}},O.interpolateHcl=function(e,t){e=O.hcl(e),t=O.hcl(t);var n=e.h,r=e.c,a=e.l,i=t.h-n,o=t.c-r,s=t.l-a;isNaN(o)&&(o=0,r=isNaN(r)?t.c:r);isNaN(i)?(i=0,n=isNaN(n)?t.h:n):180<i?i-=360:i<-180&&(i+=360);return function(e){return lt(n+i*e,r+o*e,a+s*e)+""}},O.interpolateHsl=function(e,t){e=O.hsl(e),t=O.hsl(t);var n=e.h,r=e.s,a=e.l,i=t.h-n,o=t.s-r,s=t.l-a;isNaN(o)&&(o=0,r=isNaN(r)?t.s:r);isNaN(i)?(i=0,n=isNaN(n)?t.h:n):180<i?i-=360:i<-180&&(i+=360);return function(e){return st(n+i*e,r+o*e,a+s*e)+""}},O.interpolateLab=function(e,t){e=O.lab(e),t=O.lab(t);var n=e.l,r=e.a,a=e.b,i=t.l-n,o=t.a-r,s=t.b-a;return function(e){return ft(n+i*e,r+o*e,a+s*e)+""}},O.interpolateRound=Ti,O.transform=function(e){var n=I.createElementNS(O.ns.prefix.svg,"g");return(O.transform=function(e){var t;return null!=e&&(n.setAttribute("transform",e),t=n.transform.baseVal.consolidate()),new Pi(t?t.matrix:Ai)})(e)},Pi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ai={a:1,b:0,c:0,d:1,e:0,f:0};function Oi(e){return e.length?e.pop()+",":""}function Ii(e,t){var n,r,a,i,o,s,l=[],c=[];return e=O.transform(e),t=O.transform(t),r=e.translate,a=t.translate,o=l,i=c,r[0]!==a[0]||r[1]!==a[1]?(n=o.push("translate(",null,",",null,")"),i.push({i:n-4,x:ui(r[0],a[0])},{i:n-2,x:ui(r[1],a[1])})):(a[0]||a[1])&&o.push("translate("+a+")"),i=e.rotate,n=t.rotate,r=l,o=c,i!==n?(180<i-n?n+=360:180<n-i&&(i+=360),o.push({i:r.push(Oi(r)+"rotate(",null,")")-2,x:ui(i,n)})):n&&r.push(Oi(r)+"rotate("+n+")"),a=e.skew,o=t.skew,i=l,r=c,a!==o?r.push({i:i.push(Oi(i)+"skewX(",null,")")-2,x:ui(a,o)}):o&&i.push(Oi(i)+"skewX("+o+")"),r=e.scale,a=t.scale,i=l,o=c,r[0]!==a[0]||r[1]!==a[1]?(s=i.push(Oi(i)+"scale(",null,",",null,")"),o.push({i:s-4,x:ui(r[0],a[0])},{i:s-2,x:ui(r[1],a[1])})):1===a[0]&&1===a[1]||i.push(Oi(i)+"scale("+a+")"),e=t=null,function(e){for(var t,n=-1,r=c.length;++n<r;)l[(t=c[n]).i]=t.x(e);return l.join("")}}function Ni(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function ji(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function Fi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),n=(e=n).parent;return t.push(e),t}function zi(e){e.fixed|=2}function Li(e){e.fixed&=-7}function Ri(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ui(e){e.fixed&=-5}O.interpolateTransform=Ii,O.layout={},O.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(function(e){var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;var n=Fi(e),r=Fi(t),a=n.pop(),i=r.pop(),o=null;for(;a===i;)o=a,a=n.pop(),i=r.pop();return o}(t,n),a=[t];for(;t!==r;)t=t.parent,a.push(t);var i=a.length;for(;n!==r;)a.splice(i,0,n),n=n.parent;return a}(e[n]));return t}},O.layout.chord=function(){var g,v,b,y,$,w,k,t={},x=0;function e(){var e,t,n,r,a,i={},o=[],s=O.range(y),l=[];for(g=[],v=[],e=0,r=-1;++r<y;){for(t=0,a=-1;++a<y;)t+=b[r][a];o.push(t),l.push(O.range(y)),e+=t}for($&&s.sort(function(e,t){return $(o[e],o[t])}),w&&l.forEach(function(e,n){e.sort(function(e,t){return w(b[n][e],b[n][t])})}),e=(_-x*y)/e,t=0,r=-1;++r<y;){for(n=t,a=-1;++a<y;){var c=s[r],u=l[c][a],d=b[c][u],p=t,f=t+=d*e;i[c+"-"+u]={index:c,subindex:u,startAngle:p,endAngle:f,value:d}}v[c]={index:c,startAngle:n,endAngle:t,value:o[c]},t+=x}for(r=-1;++r<y;)for(a=r-1;++a<y;){var h=i[r+"-"+a],m=i[a+"-"+r];(h.value||m.value)&&g.push(h.value<m.value?{source:m,target:h}:{source:h,target:m})}k&&S()}function S(){g.sort(function(e,t){return k((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return t.matrix=function(e){return arguments.length?(y=(b=e)&&b.length,g=v=null,t):b},t.padding=function(e){return arguments.length?(x=e,g=v=null,t):x},t.sortGroups=function(e){return arguments.length?($=e,g=v=null,t):$},t.sortSubgroups=function(e){return arguments.length?(w=e,g=null,t):w},t.sortChords=function(e){return arguments.length?(k=e,g&&S(),t):k},t.chords=function(){return g||e(),g},t.groups=function(){return v||e(),v},t},O.layout.force=function(){var d,e,p,f,h,m,a={},g=O.dispatch("start","tick","end"),v=[1,1],b=.9,i=qi,o=Hi,y=-30,$=Vi,w=.1,k=.64,x=[],S=[];function t(e){e.px=O.event.x,e.py=O.event.y,a.resume()}return a.tick=function(){if((p*=.99)<.005)return d=null,g.end({type:"end",alpha:p=0}),!0;for(var e,t,n,r,a,i,o,s,l=x.length,c=S.length,u=0;u<c;++u)n=(t=S[u]).source,(a=(o=(r=t.target).x-n.x)*o+(s=r.y-n.y)*s)&&(o*=a=p*h[u]*((a=Math.sqrt(a))-f[u])/a,s*=a,r.x-=o*(i=n.weight+r.weight?n.weight/(n.weight+r.weight):.5),r.y-=s*i,n.x+=o*(i=1-i),n.y+=s*i);if((i=p*w)&&(o=v[0]/2,s=v[1]/2,u=-1,i))for(;++u<l;)(t=x[u]).x+=(o-t.x)*i,t.y+=(s-t.y)*i;if(y)for(!function e(t,n,r){var a=0,i=0;t.charge=0;if(!t.leaf)for(var o,s=t.nodes,l=s.length,c=-1;++c<l;)null!=(o=s[c])&&(e(o,n,r),t.charge+=o.charge,a+=o.charge*o.cx,i+=o.charge*o.cy);{var u;t.point&&(t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5),u=n*r[t.point.index],t.charge+=t.pointCharge=u,a+=u*t.point.x,i+=u*t.point.y)}t.cx=a/t.charge;t.cy=i/t.charge}(e=O.geom.quadtree(x),p,m),u=-1;++u<l;)(t=x[u]).fixed||e.visit(function(s){return function(e,t,n,r){if(e.point!==s){var a,i=e.cx-s.x,o=e.cy-s.y,r=r-t,t=i*i+o*o;if(r*r/k<t)return t<$&&(a=e.charge/t,s.px-=i*a,s.py-=o*a),!0;e.point&&t&&t<$&&(a=e.pointCharge/t,s.px-=i*a,s.py-=o*a)}return!e.charge}}(t));for(u=-1;++u<l;)(t=x[u]).fixed?(t.x=t.px,t.y=t.py):(t.x-=(t.px-(t.px=t.x))*b,t.y-=(t.py-(t.py=t.y))*b);g.tick({type:"tick",alpha:p})},a.nodes=function(e){return arguments.length?(x=e,a):x},a.links=function(e){return arguments.length?(S=e,a):S},a.size=function(e){return arguments.length?(v=e,a):v},a.linkDistance=function(e){return arguments.length?(i="function"==typeof e?e:+e,a):i},a.distance=a.linkDistance,a.linkStrength=function(e){return arguments.length?(o="function"==typeof e?e:+e,a):o},a.friction=function(e){return arguments.length?(b=+e,a):b},a.charge=function(e){return arguments.length?(y="function"==typeof e?e:+e,a):y},a.chargeDistance=function(e){return arguments.length?($=e*e,a):Math.sqrt($)},a.gravity=function(e){return arguments.length?(w=+e,a):w},a.theta=function(e){return arguments.length?(k=e*e,a):Math.sqrt(k)},a.alpha=function(e){return arguments.length?(e=+e,p?0<e?p=e:(d.c=null,d.t=NaN,d=null,g.end({type:"end",alpha:p=0})):0<e&&(g.start({type:"start",alpha:p=e}),d=It(a.tick)),a):p},a.start=function(){for(var s,e,l=x.length,c=S.length,t=v[0],n=v[1],u=0;u<l;++u)(e=x[u]).index=u,e.weight=0;for(u=0;u<c;++u)"number"==typeof(e=S[u]).source&&(e.source=x[e.source]),"number"==typeof e.target&&(e.target=x[e.target]),++e.source.weight,++e.target.weight;for(u=0;u<l;++u)e=x[u],isNaN(e.x)&&(e.x=r("x",t)),isNaN(e.y)&&(e.y=r("y",n)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(f=[],"function"==typeof i)for(u=0;u<c;++u)f[u]=+i.call(this,S[u],u);else for(u=0;u<c;++u)f[u]=i;if(h=[],"function"==typeof o)for(u=0;u<c;++u)h[u]=+o.call(this,S[u],u);else for(u=0;u<c;++u)h[u]=o;if(m=[],"function"==typeof y)for(u=0;u<l;++u)m[u]=+y.call(this,x[u],u);else for(u=0;u<l;++u)m[u]=y;function r(e,t){if(!s){for(s=new Array(l),i=0;i<l;++i)s[i]=[];for(i=0;i<c;++i){var n=S[i];s[n.source.index].push(n.target),s[n.target.index].push(n.source)}}for(var r,a=s[u],i=-1,o=a.length;++i<o;)if(!isNaN(r=a[i][e]))return r;return Math.random()*t}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(e=e||O.behavior.drag().origin(D).on("dragstart.force",zi).on("drag.force",t).on("dragend.force",Li),!arguments.length)return e;this.on("mouseover.force",Ri).on("mouseout.force",Ui).call(e)},O.rebind(a,g,"on")};var qi=20,Hi=1,Vi=1/0;function Yi(e,t){return O.rebind(e,t,"sort","children","value"),(e.nodes=e).links=Ji,e}function Bi(e,t){for(var n,r,a=[e];null!=(e=a.pop());)if(t(e),(r=e.children)&&(n=r.length))for(;0<=--n;)a.push(r[n])}function Wi(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)n.push(i[o]);for(;null!=(e=r.pop());)t(e)}function Gi(e){return e.children}function Ki(e){return e.value}function Xi(e,t){return t.value-e.value}function Ji(e){return O.merge(e.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}O.layout.hierarchy=function(){var s=Xi,l=Gi,c=Ki;function u(e){var t,n,r,a,i=[e],o=[];for(e.depth=0;null!=(t=i.pop());)if(o.push(t),(r=l.call(u,t,t.depth))&&(n=r.length)){for(;0<=--n;)i.push(a=r[n]),a.parent=t,a.depth=t.depth+1;c&&(t.value=0),t.children=r}else c&&(t.value=+c.call(u,t,t.depth)||0),delete t.children;return Wi(e,function(e){var t;s&&(t=e.children)&&t.sort(s),c&&(t=e.parent)&&(t.value+=e.value)}),o}return u.sort=function(e){return arguments.length?(s=e,u):s},u.children=function(e){return arguments.length?(l=e,u):l},u.value=function(e){return arguments.length?(c=e,u):c},u.revalue=function(e){return c&&(Bi(e,function(e){e.children&&(e.value=0)}),Wi(e,function(e){var t;e.children||(e.value=+c.call(u,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},u},O.layout.partition=function(){var n=O.layout.hierarchy(),r=[1,1];function t(e,t){e=n.call(this,e,t);return function e(t,n,r,a){var i=t.children;if(t.x=n,t.y=t.depth*a,t.dx=r,t.dy=a,i&&(o=i.length)){var o,s,l=-1;for(r=t.value?r/t.value:0;++l<o;)e(s=i[l],n,s=s.value*r,a),n+=s}}(e[0],0,r[0],r[1]/function e(t){var n=t.children,r=0;if(n&&(a=n.length))for(var a,i=-1;++i<a;)r=Math.max(r,e(n[i]));return 1+r}(e[0])),e}return t.size=function(e){return arguments.length?(r=e,t):r},Yi(t,n)},O.layout.pie=function(){var d=Number,p=Zi,f=0,h=_,m=0;function g(n){var t,e=n.length,r=n.map(function(e,t){return+d.call(g,e,t)}),a=+("function"==typeof f?f.apply(this,arguments):f),i=("function"==typeof h?h.apply(this,arguments):h)-a,o=Math.min(Math.abs(i)/e,+("function"==typeof m?m.apply(this,arguments):m)),s=o*(i<0?-1:1),l=O.sum(r),c=l?(i-e*s)/l:0,i=O.range(e),u=[];return null!=p&&i.sort(p===Zi?function(e,t){return r[t]-r[e]}:function(e,t){return p(n[e],n[t])}),i.forEach(function(e){u[e]={data:n[e],value:t=r[e],startAngle:a,endAngle:a+=t*c+s,padAngle:o}}),u}return g.value=function(e){return arguments.length?(d=e,g):d},g.sort=function(e){return arguments.length?(p=e,g):p},g.startAngle=function(e){return arguments.length?(f=e,g):f},g.endAngle=function(e){return arguments.length?(h=e,g):h},g.padAngle=function(e){return arguments.length?(m=e,g):m},g};var Zi={};function Qi(e){return e.x}function eo(e){return e.y}function to(e,t,n){e.y0=t,e.y=n}O.layout.stack=function(){var d=D,p=ao,f=io,h=to,m=Qi,g=eo;function v(e,t){if(n=e.length)for(var n,r,a,i=(s=e.map(function(e,t){return d.call(v,e,t)})).map(function(e){return e.map(function(e,t){return[m.call(v,e,t),g.call(v,e,t)]})}),o=p.call(v,i,t),s=O.permute(s,o),i=O.permute(i,o),l=f.call(v,i,t),c=s[0].length,u=0;u<c;++u)for(h.call(v,s[0][u],a=l[u],i[0][u][1]),r=1;r<n;++r)h.call(v,s[r][u],a+=i[r-1][u][1],i[r][u][1]);return e}return v.values=function(e){return arguments.length?(d=e,v):d},v.order=function(e){return arguments.length?(p="function"==typeof e?e:no.get(e)||ao,v):p},v.offset=function(e){return arguments.length?(f="function"==typeof e?e:ro.get(e)||io,v):f},v.x=function(e){return arguments.length?(m=e,v):m},v.y=function(e){return arguments.length?(g=e,v):g},v.out=function(e){return arguments.length?(h=e,v):h},v};var no=O.map({"inside-out":function(e){for(var t,n=e.length,r=e.map(oo),a=e.map(so),i=O.range(n).sort(function(e,t){return r[e]-r[t]}),o=0,s=0,l=[],c=[],u=0;u<n;++u)t=i[u],(o<s?(o+=a[t],l):(s+=a[t],c)).push(t);return c.reverse().concat(l)},reverse:function(e){return O.range(e.length).reverse()},default:ao}),ro=O.map({silhouette:function(e){for(var t,n,r=e.length,a=e[0].length,i=[],o=0,s=[],l=0;l<a;++l){for(n=t=0;t<r;t++)n+=e[t][l][1];o<n&&(o=n),i.push(n)}for(l=0;l<a;++l)s[l]=(o-i[l])/2;return s},wiggle:function(e){var t,n,r,a,i,o,s,l,c,u=e.length,d=e[0],p=d.length,f=[];for(f[0]=l=c=0,n=1;n<p;++n){for(a=t=0;t<u;++t)a+=e[t][n][1];for(s=d[n][i=t=0]-d[n-1][0];t<u;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;i+=o*e[t][n][1]}f[n]=l-=a?i/a*s:0,l<c&&(c=l)}for(n=0;n<p;++n)f[n]-=c;return f},expand:function(e){for(var t,n,r=e.length,a=e[0].length,i=1/r,o=[],s=0;s<a;++s){for(n=t=0;t<r;t++)n+=e[t][s][1];if(n)for(t=0;t<r;t++)e[t][s][1]/=n;else for(t=0;t<r;t++)e[t][s][1]=i}for(s=0;s<a;++s)o[s]=0;return o},zero:io});function ao(e){return O.range(e.length)}function io(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function oo(e){for(var t,n=1,r=0,a=e[0][1],i=e.length;n<i;++n)(t=e[n][1])>a&&(r=n,a=t);return r}function so(e){return e.reduce(lo,0)}function lo(e,t){return e+t[1]}function co(e,t){return uo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function uo(e,t){for(var n=-1,r=+e[0],a=(e[1]-r)/t,i=[];++n<=t;)i[n]=a*n+r;return i}function po(e){return[O.min(e),O.max(e)]}function fo(e,t){return e.value-t.value}function ho(e,t){var n=e._pack_next;(e._pack_next=t)._pack_prev=e,(t._pack_next=n)._pack_prev=t}function mo(e,t){(e._pack_next=t)._pack_prev=e}function go(e,t){var n=t.x-e.x,r=t.y-e.y,e=e.r+t.r;return n*n+r*r<.999*e*e}function vo(e){if((t=e.children)&&(o=t.length)){var t,n,r,a,i,o,s=1/0,l=-1/0,c=1/0,u=-1/0;if(t.forEach(bo),(n=t[0]).x=-n.r,n.y=0,y(n),1<o&&((r=t[1]).x=r.r,r.y=0,y(r),2<o))for($o(n,r,a=t[2]),y(a),ho(n,a),ho(n._pack_prev=a,r),r=n._pack_next,b=3;b<o;b++){$o(n,r,a=t[b]);for(var d=0,p=1,f=1,h=r._pack_next;h!==r;h=h._pack_next,p++)if(go(h,a)){d=1;break}if(1==d)for(i=n._pack_prev;i!==h._pack_prev&&!go(i,a);i=i._pack_prev,f++);d?(p<f||p==f&&r.r<n.r?mo(n,r=h):mo(n=i,r),b--):(ho(n,a),y(r=a))}for(var m=(s+l)/2,g=(c+u)/2,v=0,b=0;b<o;b++)(a=t[b]).x-=m,a.y-=g,v=Math.max(v,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=v,t.forEach(yo)}function y(e){s=Math.min(e.x-e.r,s),l=Math.max(e.x+e.r,l),c=Math.min(e.y-e.r,c),u=Math.max(e.y+e.r,u)}}function bo(e){e._pack_next=e._pack_prev=e}function yo(e){delete e._pack_next,delete e._pack_prev}function $o(e,t,n){var r,a,i=e.r+n.r,o=t.x-e.x,s=t.y-e.y;i&&(o||s)?(t=t.r+n.r,a=.5+((i*=i)-(t*=t))/(2*(r=o*o+s*s)),t=Math.sqrt(Math.max(0,2*t*(i+r)-(i-=r)*i-t*t))/(2*r),n.x=e.x+a*o+t*s,n.y=e.y+a*s-t*o):(n.x=e.x+i,n.y=e.y)}function wo(e,t){return e.parent==t.parent?1:2}function ko(e){var t=e.children;return t.length?t[0]:e.t}function xo(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function So(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function _o(e,t){var n=e.x+t[3],r=e.y+t[0],a=e.dx-t[1]-t[3],e=e.dy-t[0]-t[2];return a<0&&(n+=a/2,a=0),e<0&&(r+=e/2,e=0),{x:n,y:r,dx:a,dy:e}}function Co(e){var t=e[0],e=e[e.length-1];return t<e?[t,e]:[e,t]}function Eo(e){return e.rangeExtent?e.rangeExtent():Co(e.range())}function To(e,t,n,r){var a=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(a(e))}}function Po(e,t){var n,r=0,a=e.length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function Do(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Mo}O.layout.histogram=function(){var d=!0,p=Number,f=po,h=co;function n(e,t){for(var n,r,a=[],i=e.map(p,this),o=f.call(this,i,t),s=h.call(this,o,i,t),t=-1,l=i.length,c=s.length-1,u=d?1:1/l;++t<c;)(n=a[t]=[]).dx=s[t+1]-(n.x=s[t]),n.y=0;if(0<c)for(t=-1;++t<l;)(r=i[t])>=o[0]&&r<=o[1]&&((n=a[O.bisect(s,r,1,c)-1]).y+=u,n.push(e[t]));return a}return n.value=function(e){return arguments.length?(p=e,n):p},n.range=function(e){return arguments.length?(f=F(e),n):f},n.bins=function(t){return arguments.length?(h="number"==typeof t?function(e){return uo(e,t)}:F(t),n):h},n.frequency=function(e){return arguments.length?(d=!!e,n):d},n},O.layout.pack=function(){var o,s=O.layout.hierarchy().sort(fo),l=0,c=[1,1];function t(e,t){var n,e=s.call(this,e,t),t=e[0],r=c[0],a=c[1],i=null==o?Math.sqrt:"function"==typeof o?o:function(){return o};return t.x=t.y=0,Wi(t,function(e){e.r=+i(e.value)}),Wi(t,vo),l&&(n=l*(o?1:Math.max(2*t.r/r,2*t.r/a))/2,Wi(t,function(e){e.r+=n}),Wi(t,vo),Wi(t,function(e){e.r-=n})),function e(t,n,r,a){var i=t.children;t.x=n+=a*t.x;t.y=r+=a*t.y;t.r*=a;if(i)for(var o=-1,s=i.length;++o<s;)e(i[o],n,r,a)}(t,r/2,a/2,o?1:1/Math.max(2*t.r/r,2*t.r/a)),e}return t.size=function(e){return arguments.length?(c=e,t):c},t.radius=function(e){return arguments.length?(o=null==e||"function"==typeof e?e:+e,t):o},t.padding=function(e){return arguments.length?(l=+e,t):l},Yi(t,s)},O.layout.tree=function(){var c=O.layout.hierarchy().sort(null).value(null),p=wo,u=[1,1],d=null;function t(e,t){var n,r,a,i,o,s,e=c.call(this,e,t),t=e[0],l=function(e){var t,e={A:null,children:[e]},n=[e];for(;null!=(t=n.pop());)for(var r,a=t.children,i=0,o=a.length;i<o;++i)n.push((a[i]=r={_:a[i],parent:t,children:(r=a[i].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=r);return e.children[0]}(t);return Wi(l,f),l.parent.m=-l.z,Bi(l,h),d?Bi(t,m):(Bi(a=r=n=t,function(e){e.x<n.x&&(n=e),e.x>r.x&&(r=e),e.depth>a.depth&&(a=e)}),i=p(n,r)/2-n.x,o=u[0]/(r.x+p(r,n)/2+i),s=u[1]/(a.depth||1),Bi(t,function(e){e.x=(e.x+i)*o,e.y=e.depth*s})),e}function f(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){for(var a,i=0,o=0,s=e.children,l=s.length;0<=--l;)(a=s[l]).z+=i,a.m+=i,i+=a.s+(o+=a.c);t=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+p(e._,r._),e.m=e.z-t):e.z=t}else r&&(e.z=r.z+p(e._,r._));e.parent.A=function(e,t,n){if(t){for(var r,a=e,i=e,o=t,s=a.parent.children[0],l=a.m,c=i.m,u=o.m,d=s.m;o=xo(o),a=ko(a),o&&a;)s=ko(s),(i=xo(i)).a=e,0<(r=o.z+u-a.z-l+p(o._,a._))&&(function(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}(function(e,t,n){return e.a.parent===t.parent?e.a:n}(o,e,n),e,r),l+=r,c+=r),u+=o.m,l+=a.m,d+=s.m,c+=i.m;o&&!xo(i)&&(i.t=o,i.m+=u-c),a&&!ko(s)&&(s.t=a,s.m+=l-d,n=e)}return n}(e,r,e.parent.A||n[0])}function h(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function m(e){e.x*=u[0],e.y=e.depth*u[1]}return t.separation=function(e){return arguments.length?(p=e,t):p},t.size=function(e){return arguments.length?(d=null==(u=e)?m:null,t):d?null:u},t.nodeSize=function(e){return arguments.length?(d=null==(u=e)?null:m,t):d?u:null},Yi(t,c)},O.layout.cluster=function(){var l=O.layout.hierarchy().sort(null).value(null),c=wo,u=[1,1],d=!1;function t(e,t){var r,e=l.call(this,e,t),n=e[0],a=0,t=(Wi(n,function(e){var t,n=e.children;n&&n.length?(e.x=(t=n).reduce(function(e,t){return e+t.x},0)/t.length,e.y=1+O.max(n,function(e){return e.y})):(e.x=r?a+=c(e,r):0,e.y=0,r=e)}),function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(n)),i=function e(t){var n,r=t.children;return r&&(n=r.length)?e(r[n-1]):t}(n),o=t.x-c(t,i)/2,s=i.x+c(i,t)/2;return Wi(n,d?function(e){e.x=(e.x-n.x)*u[0],e.y=(n.y-e.y)*u[1]}:function(e){e.x=(e.x-o)/(s-o)*u[0],e.y=(1-(n.y?e.y/n.y:1))*u[1]}),e}return t.separation=function(e){return arguments.length?(c=e,t):c},t.size=function(e){return arguments.length?(d=null==(u=e),t):d?null:u},t.nodeSize=function(e){return arguments.length?(d=null!=(u=e),t):d?u:null},Yi(t,l)},O.layout.treemap=function(){var n,r=O.layout.hierarchy(),u=Math.round,a=[1,1],i=null,c=So,o=!1,d="squarify",p=.5*(1+Math.sqrt(5));function f(e,t){for(var n,r,a=-1,i=e.length;++a<i;)r=(n=e[a]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function h(e){var t=e.children;if(t&&t.length){var n,r,a=c(e),i=[],o=t.slice(),s=1/0,l="slice"===d?a.dx:"dice"===d?a.dy:"slice-dice"===d?1&e.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(f(o,a.dx*a.dy/e.value),i.area=0;0<(r=o.length);)i.push(r=o[r-1]),i.area+=r.area,s="squarify"!==d||(n=function(e,t){var n,r=e.area,a=0,i=1/0,o=-1,s=e.length;for(;++o<s;)(n=e[o].area)&&(n<i&&(i=n),a<n)&&(a=n);return t*=t,(r*=r)?Math.max(t*a*p/r,r/(t*i*p)):1/0}(i,l))<=s?(o.pop(),n):(i.area-=i.pop().area,m(i,l,a,!1),l=Math.min(a.dx,a.dy),1/(i.length=i.area=0));i.length&&(m(i,l,a,!0),i.length=i.area=0),t.forEach(h)}}function s(e){var t=e.children;if(t&&t.length){var n,r=c(e),a=t.slice(),i=[];for(f(a,r.dx*r.dy/e.value),i.area=0;n=a.pop();)i.push(n),i.area+=n.area,null!=n.z&&(m(i,n.z?r.dx:r.dy,r,!a.length),i.length=i.area=0);t.forEach(s)}}function m(e,t,n,r){var a,i=-1,o=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<o;)(a=e[i]).x=s,a.y=l,a.dy=c,s+=a.dx=Math.min(n.x+n.dx-s,c?u(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<o;)(a=e[i]).x=s,a.y=l,a.dx=c,l+=a.dy=Math.min(n.y+n.dy-l,c?u(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function l(e){var e=n||r(e),t=e[0];return t.x=t.y=0,t.value?(t.dx=a[0],t.dy=a[1]):t.dx=t.dy=0,n&&r.revalue(t),f([t],t.dx*t.dy/t.value),(n?s:h)(t),o&&(n=e),e}return l.size=function(e){return arguments.length?(a=e,l):a},l.padding=function(n){var e;return arguments.length?(c=null==(i=n)?So:"function"==(e=typeof n)?function(e){var t=n.call(l,e,e.depth);return null==t?So(e):_o(e,"number"==typeof t?[t,t,t,t]:t)}:("number"==e&&(n=[n,n,n,n]),t),l):i;function t(e){return _o(e,n)}},l.round=function(e){return arguments.length?(u=e?Math.round:Number,l):u!=Number},l.sticky=function(e){return arguments.length?(o=e,n=null,l):o},l.ratio=function(e){return arguments.length?(p=e,l):p},l.mode=function(e){return arguments.length?(d=e+"",l):d},Yi(l,r)},O.random={normal:function(r,a){var e=arguments.length;return e<2&&(a=1),e<1&&(r=0),function(){for(var e,t,n;!(n=(e=2*Math.random()-1)*e+(t=2*Math.random()-1)*t)||1<n;);return r+a*e*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var e=O.random.normal.apply(O,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=O.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(n){return function(){for(var e=0,t=0;t<n;t++)e+=Math.random();return e}}},O.scale={};var Mo={floor:D,ceil:D};function Ao(n,e,t,r){var a=[],i=[],o=0,s=Math.min(n.length,e.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<=s;)a.push(t(n[o-1],n[o])),i.push(r(e[o-1],e[o]));return function(e){var t=O.bisect(n,e,1,s)-1;return i[t](a[t](e))}}function Oo(e,t){return O.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Io(e,t){return Po(e,Do(No(e,t)[2])),Po(e,Do(No(e,t)[2])),e}function No(e,t){null==t&&(t=10);var e=Co(e),n=e[1]-e[0],r=Math.pow(10,Math.floor(Math.log(n/t)/Math.LN10)),t=t/n*r;return t<=.15?r*=10:t<=.35?r*=5:t<=.75&&(r*=2),e[0]=Math.ceil(e[0]/r)*r,e[1]=Math.floor(e[1]/r)*r+.5*r,e[2]=r,e}function jo(e,t){return O.range.apply(O,No(e,t))}function Fo(e,t,n){var r,a,i,e=No(e,t);if(n){var o,t=Rt.exec(n);if(t.shift(),"s"===t[8])return o=O.formatPrefix(Math.max(M(e[0]),M(e[1]))),t[7]||(t[7]="."+Lo(o.scale(e[2]))),t[8]="f",n=O.format(t.join("")),function(e){return n(o.scale(e))+o.symbol};t[7]||(t[7]="."+(r=t[8],i=Lo((a=e)[2]),r in zo?Math.abs(i-Lo(Math.max(M(a[0]),M(a[1]))))+ +("e"!==r):i-2*("%"===r))),n=t.join("")}else n=",."+Lo(e[2])+"f";return O.format(n)}O.scale.linear=function(){return function e(n,r,a,i){var o,s;function t(){var e=2<Math.min(n.length,r.length)?Ao:To,t=i?ji:Ni;return o=e(n,r,t,a),s=e(r,n,t,hi),l}function l(e){return o(e)}l.invert=function(e){return s(e)};l.domain=function(e){return arguments.length?(n=e.map(Number),t()):n};l.range=function(e){return arguments.length?(r=e,t()):r};l.rangeRound=function(e){return l.range(e).interpolate(Ti)};l.clamp=function(e){return arguments.length?(i=e,t()):i};l.interpolate=function(e){return arguments.length?(a=e,t()):a};l.ticks=function(e){return jo(n,e)};l.tickFormat=function(e,t){return Fo(n,e,t)};l.nice=function(e){return Io(n,e),t()};l.copy=function(){return e(n,r,a,i)};return t()}([0,1],[0,1],hi,!1)};var zo={s:1,g:1,p:1,r:1,e:1};function Lo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}O.scale.log=function(){return function e(t,l,c,u){function d(e){return(c?Math.log(e<0?0:e):-Math.log(0<e?0:-e))/Math.log(l)}function p(e){return c?Math.pow(l,e):-Math.pow(l,-e)}function a(e){return t(d(e))}a.invert=function(e){return p(t.invert(e))};a.domain=function(e){return arguments.length?(c=0<=e[0],t.domain((u=e.map(Number)).map(d)),a):u};a.base=function(e){return arguments.length?(l=+e,t.domain(u.map(d)),a):l};a.nice=function(){var e=Po(u.map(d),c?Math:Uo);return t.domain(e),u=e.map(p),a};a.ticks=function(){var e=Co(u),t=[],n=e[0],r=e[1],a=Math.floor(d(n)),i=Math.ceil(d(r)),o=l%1?2:l;if(isFinite(i-a)){if(c){for(;a<i;a++)for(var s=1;s<o;s++)t.push(p(a)*s);t.push(p(a))}else for(t.push(p(a));a++<i;)for(s=o-1;0<s;s--)t.push(p(a)*s);for(a=0;t[a]<n;a++);for(i=t.length;t[i-1]>r;i--);t=t.slice(a,i)}return t};a.tickFormat=function(e,n){if(!arguments.length)return Ro;arguments.length<2?n=Ro:"function"!=typeof n&&(n=O.format(n));var r=Math.max(1,l*e/a.ticks().length);return function(e){var t=e/p(Math.round(d(e)));return t*l<l-.5&&(t*=l),t<=r?n(e):""}};a.copy=function(){return e(t.copy(),l,c,u)};return Oo(a,t)}(O.scale.linear().domain([0,1]),10,!0,[1,10])};var Ro=O.format(".0e"),Uo={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function qo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}O.scale.pow=function(){return function e(t,n,r){var a=qo(n),i=qo(1/n);function o(e){return t(a(e))}o.invert=function(e){return i(t.invert(e))};o.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(a)),o):r};o.ticks=function(e){return jo(r,e)};o.tickFormat=function(e,t){return Fo(r,e,t)};o.nice=function(e){return o.domain(Io(r,e))};o.exponent=function(e){return arguments.length?(a=qo(n=e),i=qo(1/n),t.domain(r.map(a)),o):n};o.copy=function(){return e(t.copy(),n,r)};return Oo(o,t)}(O.scale.linear(),1,[0,1])},O.scale.sqrt=function(){return O.scale.pow().exponent(.5)},O.scale.ordinal=function(){return function e(s,l){var a,c,u;function d(e){return c[((a.get(e)||("range"===l.t?a.set(e,s.push(e)):NaN))-1)%c.length]}function p(t,n){return O.range(s.length).map(function(e){return t+n*e})}d.domain=function(e){if(!arguments.length)return s;s=[],a=new G;for(var t,n=-1,r=e.length;++n<r;)a.has(t=e[n])||a.set(t,s.push(t));return d[l.t].apply(d,l.a)};d.range=function(e){return arguments.length?(c=e,u=0,l={t:"range",a:arguments},d):c};d.rangePoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],r=e[1],r=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+t);return c=p(n+r*t/2,r),u=0,l={t:"rangePoints",a:arguments},d};d.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],r=e[1],a=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+t)|0;return c=p(n+Math.round(a*t/2+(r-n-(s.length-1+t)*a)/2),a),u=0,l={t:"rangeRoundPoints",a:arguments},d};d.rangeBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var r=e[1]<e[0],a=e[+r],i=e[1-r],i=(i-a)/(s.length-t+2*n);return c=p(a+i*n,i),r&&c.reverse(),u=i*(1-t),l={t:"rangeBands",a:arguments},d};d.rangeRoundBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var r=e[1]<e[0],a=e[+r],i=e[1-r],o=Math.floor((i-a)/(s.length-t+2*n));return c=p(a+Math.round((i-a-(s.length-t)*o)/2),o),r&&c.reverse(),u=Math.round(o*(1-t)),l={t:"rangeRoundBands",a:arguments},d};d.rangeBand=function(){return u};d.rangeExtent=function(){return Co(l.a[0])};d.copy=function(){return e(s,l)};return d.domain(s)}([],{t:"range",a:[[]]})},O.scale.category10=function(){return O.scale.ordinal().range(Ho)},O.scale.category20=function(){return O.scale.ordinal().range(Vo)},O.scale.category20b=function(){return O.scale.ordinal().range(Yo)},O.scale.category20c=function(){return O.scale.ordinal().range(Bo)};var Ho=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),Vo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Yo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Bo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);function Wo(){return 0}O.scale.quantile=function(){return function e(n,r){var a;function t(){var e=0,t=r.length;for(a=[];++e<t;)a[e-1]=O.quantile(n,e/t);return i}function i(e){if(!isNaN(e=+e))return r[O.bisect(a,e)]}i.domain=function(e){return arguments.length?(n=e.map(V).filter(Y).sort(H),t()):n};i.range=function(e){return arguments.length?(r=e,t()):r};i.quantiles=function(){return a};i.invertExtent=function(e){return(e=r.indexOf(e))<0?[NaN,NaN]:[0<e?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]};i.copy=function(){return e(n,r)};return t()}([],[])},O.scale.quantize=function(){return function e(t,n,r){var a,i;function o(e){return r[Math.max(0,Math.min(i,Math.floor(a*(e-t))))]}function s(){return a=r.length/(n-t),i=r.length-1,o}o.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]};o.range=function(e){return arguments.length?(r=e,s()):r};o.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/a+t,e+1/a]};o.copy=function(){return e(t,n,r)};return s()}(0,1,[0,1])},O.scale.threshold=function(){return function e(t,n){function r(e){if(e<=e)return n[O.bisect(t,e)]}r.domain=function(e){return arguments.length?(t=e,r):t};r.range=function(e){return arguments.length?(n=e,r):n};r.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]};r.copy=function(){return e(t,n)};return r}([.5],[0,1])},O.scale.identity=function(){return function e(n){function t(e){return+e}t.invert=t;t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n};t.ticks=function(e){return jo(n,e)};t.tickFormat=function(e,t){return Fo(n,e,t)};t.copy=function(){return e(n)};return t}([0,1])},O.svg={},O.svg.arc=function(){var x=Ko,S=Xo,_=Wo,C=Go,E=Jo,T=Zo,P=Qo;function t(){var e,t,n,r,a,i,o,s,l,c,u,d,p,f,h,m,g,v=Math.max(0,+x.apply(this,arguments)),b=Math.max(0,+S.apply(this,arguments)),y=E.apply(this,arguments)-j,$=T.apply(this,arguments)-j,w=Math.abs($-y),k=$<y?0:1;return b<v&&(e=b,b=v,v=e),Ge<=w?D(b,k)+(v?D(v,1-k):"")+"Z":(p=f=0,t=[],(g=(+P.apply(this,arguments)||0)/2)&&(h=C===Go?Math.sqrt(v*v+b*b):+C.apply(this,arguments),k||(p*=-1),b&&(p=Ze(h/b*Math.sin(g))),v)&&(f=Ze(h/v*Math.sin(g))),b?(a=b*Math.cos(y+p),i=b*Math.sin(y+p),o=b*Math.cos($-p),n=b*Math.sin($-p),r=Math.abs($-y-2*p)<=N?0:1,p&&es(a,i,o,n)===k^r&&(h=(y+$)/2,a=b*Math.cos(h),i=b*Math.sin(h),o=n=null)):a=i=0,v?(c=v*Math.cos($-f),u=v*Math.sin($-f),d=v*Math.cos(y+f),s=v*Math.sin(y+f),l=Math.abs(y-$+2*f)<=N?0:1,f&&es(c,u,d,s)===1-k^l&&(g=(y+$)/2,c=v*Math.cos(g),u=v*Math.sin(g),d=s=null)):c=u=0,A<w&&.001<(e=Math.min(Math.abs(b-v)/2,+_.apply(this,arguments)))?(p=v<b^k?0:1,f=h=e,w<N&&($=a-(y=null==d?[c,u]:null==o?[a,i]:Ca([a,i],[d,s],[o,n],[c,u]))[0],g=i-y[1],w=o-y[0],m=n-y[1],$=1/Math.sin(Math.acos(($*w+g*m)/(Math.sqrt($*$+g*g)*Math.sqrt(w*w+m*m)))/2),g=Math.sqrt(y[0]*y[0]+y[1]*y[1]),f=Math.min(e,(v-g)/($-1)),h=Math.min(e,(b-g)/(1+$))),null!=o?(w=ts(null==d?[c,u]:[d,s],[a,i],b,h,k),m=ts([o,n],[c,u],b,h,k),e===h?t.push("M",w[0],"A",h,",",h," 0 0,",p," ",w[1],"A",b,",",b," 0 ",1-k^es(w[1][0],w[1][1],m[1][0],m[1][1]),",",k," ",m[1],"A",h,",",h," 0 0,",p," ",m[0]):t.push("M",w[0],"A",h,",",h," 0 1,",p," ",m[0])):t.push("M",a,",",i),null!=d?(y=ts([a,i],[d,s],v,-f,k),g=ts([c,u],null==o?[a,i]:[o,n],v,-f,k),e===f?t.push("L",g[0],"A",f,",",f," 0 0,",p," ",g[1],"A",v,",",v," 0 ",k^es(g[1][0],g[1][1],y[1][0],y[1][1]),",",1-k," ",y[1],"A",f,",",f," 0 0,",p," ",y[0]):t.push("L",g[0],"A",f,",",f," 0 0,",p," ",y[0])):t.push("L",c,",",u)):(t.push("M",a,",",i),null!=o&&t.push("A",b,",",b," 0 ",r,",",k," ",o,",",n),t.push("L",c,",",u),null!=d&&t.push("A",v,",",v," 0 ",l,",",1-k," ",d,",",s)),t.push("Z"),t.join(""))}function D(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return t.innerRadius=function(e){return arguments.length?(x=F(e),t):x},t.outerRadius=function(e){return arguments.length?(S=F(e),t):S},t.cornerRadius=function(e){return arguments.length?(_=F(e),t):_},t.padRadius=function(e){return arguments.length?(C=e==Go?Go:F(e),t):C},t.startAngle=function(e){return arguments.length?(E=F(e),t):E},t.endAngle=function(e){return arguments.length?(T=F(e),t):T},t.padAngle=function(e){return arguments.length?(P=F(e),t):P},t.centroid=function(){var e=(+x.apply(this,arguments)+ +S.apply(this,arguments))/2,t=(+E.apply(this,arguments)+ +T.apply(this,arguments))/2-j;return[Math.cos(t)*e,Math.sin(t)*e]},t};var Go="auto";function Ko(e){return e.innerRadius}function Xo(e){return e.outerRadius}function Jo(e){return e.startAngle}function Zo(e){return e.endAngle}function Qo(e){return e&&e.padAngle}function es(e,t,n,r){return 0<(e-n)*t-(t-r)*e?0:1}function ts(e,t,n,r,a){var i=e[0]-t[0],o=e[1]-t[1],a=(a?r:-r)/Math.sqrt(i*i+o*o),o=a*o,a=-a*i,i=e[0]+o,e=e[1]+a,s=t[0]+o,t=t[1]+a,l=(i+s)/2,c=(e+t)/2,u=s-i,d=t-e,p=u*u+d*d,r=n-r,i=i*t-s*e,t=(d<0?-1:1)*Math.sqrt(Math.max(0,r*r*p-i*i)),s=(i*d-u*t)/p,e=(-i*u-d*t)/p,f=(i*d+u*t)/p,i=(-i*u+d*t)/p,u=s-l,d=e-c,t=f-l,p=i-c;return t*t+p*p<u*u+d*d&&(s=f,e=i),[[s-o,e-a],[s*n/r,e*n/r]]}function ns(c){var u=$a,d=wa,p=pr,f=T,t=f.key,h=.7;function n(e){var t,n=[],r=[],a=-1,i=e.length,o=F(u),s=F(d);function l(){n.push("M",f(c(r),h))}for(;++a<i;)p.call(this,t=e[a],a)?r.push([+o.call(this,t,a),+s.call(this,t,a)]):r.length&&(l(),r=[]);return r.length&&l(),n.length?n.join(""):null}return n.x=function(e){return arguments.length?(u=e,n):u},n.y=function(e){return arguments.length?(d=e,n):d},n.defined=function(e){return arguments.length?(p=e,n):p},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?f=e:(f=rs.get(e)||T).key,n):t},n.tension=function(e){return arguments.length?(h=e,n):h},n}O.svg.line=function(){return ns(D)};var rs=O.map({linear:T,"linear-closed":as,step:function(e){var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];for(;++t<n;)a.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);1<n&&a.push("H",r[0]);return a.join("")},"step-before":is,"step-after":os,basis:cs,"basis-open":function(e){if(e.length<4)return T(e);var t,n=[],r=-1,a=e.length,i=[0],o=[0];for(;++r<3;)t=e[r],i.push(t[0]),o.push(t[1]);n.push($(ps,i)+","+$(ps,o)),--r;for(;++r<a;)t=e[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),fs(n,i,o);return n.join("")},"basis-closed":function(e){var t,n,r=-1,a=e.length,i=a+4,o=[],s=[];for(;++r<4;)n=e[r%a],o.push(n[0]),s.push(n[1]);t=[$(ps,o),",",$(ps,s)],--r;for(;++r<i;)n=e[r%a],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),fs(t,o,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,a,i=e[0][0],o=e[0][1],s=e[n][0]-i,l=e[n][1]-o,c=-1;++c<=n;)r=e[c],a=c/n,r[0]=t*r[0]+(1-t)*(i+a*s),r[1]=t*r[1]+(1-t)*(o+a*l);return cs(e)},cardinal:function(e,t){return e.length<3?T(e):e[0]+ss(e,ls(e,t))},"cardinal-open":function(e,t){return e.length<4?T(e):e[1]+ss(e.slice(1,-1),ls(e,t))},"cardinal-closed":function(e,t){return e.length<3?as(e):e[0]+ss((e.push(e[0]),e),ls([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?T(e):e[0]+ss(e,function(e){var t,n,r,a,i=[],o=function(e){var t=0,n=e.length-1,r=[],a=e[0],i=e[1],o=r[0]=hs(a,i);for(;++t<n;)r[t]=(o+(o=hs(a=i,i=e[t+1])))/2;return r[t]=o,r}(e),s=-1,l=e.length-1;for(;++s<l;)t=hs(e[s],e[s+1]),M(t)<A?o[s]=o[s+1]=0:(n=o[s]/t,r=o[s+1]/t,9<(a=n*n+r*r)&&(a=3*t/Math.sqrt(a),o[s]=a*n,o[s+1]=a*r));s=-1;for(;++s<=l;)a=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),i.push([a||0,o[s]*a||0]);return i}(e))}});function T(e){return 1<e.length?e.join("L"):e+"Z"}function as(e){return e.join("L")+"Z"}function is(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("V",(r=e[t])[1],"H",r[0]);return a.join("")}function os(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r=e[t])[0],"V",r[1]);return a.join("")}function ss(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return T(e);var n=e.length!=t.length,r="",a=e[0],i=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=e[1],l=2),1<t.length){s=t[1],i=e[l],l++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,l++)i=e[l],s=t[c],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}return n&&(a=e[l],r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+a[0]+","+a[1]),r}function ls(e,t){for(var n,r=[],a=(1-t)/2,i=e[0],o=e[1],s=1,l=e.length;++s<l;)n=i,i=o,o=e[s],r.push([a*(o[0]-n[0]),a*(o[1]-n[1])]);return r}function cs(e){if(e.length<3)return T(e);var t=1,n=e.length,r=e[0],a=r[0],i=r[1],o=[a,a,a,(r=e[1])[0]],s=[i,i,i,r[1]],l=[a,",",i,"L",$(ps,o),",",$(ps,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),fs(l,o,s);return e.pop(),l.push("L",r),l.join("")}function $(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}rs.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var us=[0,2/3,1/3,0],ds=[0,1/3,2/3,0],ps=[0,1/6,2/3,1/6];function fs(e,t,n){e.push("C",$(us,t),",",$(us,n),",",$(ds,t),",",$(ds,n),",",$(ps,t),",",$(ps,n))}function hs(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ms(e){for(var t,n,r,a=-1,i=e.length;++a<i;)n=(t=e[a])[0],r=t[1]-j,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function gs(h){var m=$a,g=$a,v=0,b=wa,y=pr,$=T,t=$.key,w=$,k="L",x=.7;function n(e){var t,n,r,a=[],i=[],o=[],s=-1,l=e.length,c=F(m),u=F(v),d=m===g?function(){return n}:F(g),p=v===b?function(){return r}:F(b);function f(){a.push("M",$(h(o),x),k,w(h(i.reverse()),x),"Z")}for(;++s<l;)y.call(this,t=e[s],s)?(i.push([n=+c.call(this,t,s),r=+u.call(this,t,s)]),o.push([+d.call(this,t,s),+p.call(this,t,s)])):i.length&&(f(),i=[],o=[]);return i.length&&f(),a.length?a.join(""):null}return n.x=function(e){return arguments.length?(m=g=e,n):g},n.x0=function(e){return arguments.length?(m=e,n):m},n.x1=function(e){return arguments.length?(g=e,n):g},n.y=function(e){return arguments.length?(v=b=e,n):b},n.y0=function(e){return arguments.length?(v=e,n):v},n.y1=function(e){return arguments.length?(b=e,n):b},n.defined=function(e){return arguments.length?(y=e,n):y},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?$=e:($=rs.get(e)||T).key,w=$.reverse||$,k=$.closed?"M":"L",n):t},n.tension=function(e){return arguments.length?(x=e,n):x},n}function vs(e){return e.radius}function bs(e){return[e.x,e.y]}function ys(){return 64}function $s(){return"circle"}function ws(e){e=Math.sqrt(e/N);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}O.svg.line.radial=function(){var e=ns(ms);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},(is.reverse=os).reverse=is,O.svg.area=function(){return gs(D)},O.svg.area.radial=function(){var e=gs(ms);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},O.svg.chord=function(){var a=oa,i=sa,o=vs,s=Jo,l=Zo;function t(e,t){var n,r=c(this,a,e,t),e=c(this,i,e,t);return"M"+r.p0+u(r.r,r.p1,r.a1-r.a0)+(t=e,(n=r).a0==t.a0&&n.a1==t.a1?d(r.r,r.p1,r.r,r.p0):d(r.r,r.p1,e.r,e.p0)+u(e.r,e.p1,e.a1-e.a0)+d(e.r,e.p1,r.r,r.p0))+"Z"}function c(e,t,n,r){var t=t.call(e,n,r),n=o.call(e,t,r),a=s.call(e,t,r)-j,e=l.call(e,t,r)-j;return{r:n,a0:a,a1:e,p0:[n*Math.cos(a),n*Math.sin(a)],p1:[n*Math.cos(e),n*Math.sin(e)]}}function u(e,t,n){return"A"+e+","+e+" 0 "+ +(N<n)+",1 "+t}function d(e,t,n,r){return"Q 0,0 "+r}return t.radius=function(e){return arguments.length?(o=F(e),t):o},t.source=function(e){return arguments.length?(a=F(e),t):a},t.target=function(e){return arguments.length?(i=F(e),t):i},t.startAngle=function(e){return arguments.length?(s=F(e),t):s},t.endAngle=function(e){return arguments.length?(l=F(e),t):l},t},O.svg.diagonal=function(){var r=oa,a=sa,i=bs;function t(e,t){var n=r.call(this,e,t),e=a.call(this,e,t),t=(n.y+e.y)/2,n=[n,{x:n.x,y:t},{x:e.x,y:t},e];return"M"+(n=n.map(i))[0]+"C"+n[1]+" "+n[2]+" "+n[3]}return t.source=function(e){return arguments.length?(r=F(e),t):r},t.target=function(e){return arguments.length?(a=F(e),t):a},t.projection=function(e){return arguments.length?(i=e,t):i},t},O.svg.diagonal.radial=function(){var e=O.svg.diagonal(),t=bs,r=e.projection;return e.projection=function(e){return arguments.length?r((n=t=e,function(){var e=n.apply(this,arguments),t=e[0],e=e[1]-j;return[t*Math.cos(e),t*Math.sin(e)]})):t;var n},e},O.svg.symbol=function(){var n=$s,r=ys;function t(e,t){return(ks.get(n.call(this,e,t))||ws)(r.call(this,e,t))}return t.type=function(e){return arguments.length?(n=F(e),t):n},t.size=function(e){return arguments.length?(r=F(e),t):r},t};var ks=O.map({circle:ws,cross:function(e){e=Math.sqrt(e/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(e){var e=Math.sqrt(e/(2*Ss)),t=e*Ss;return"M0,"+-e+"L"+t+",0 0,"+e+" "+-t+",0Z"},square:function(e){e=Math.sqrt(e)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(e){var e=Math.sqrt(e/xs),t=e*xs/2;return"M0,"+t+"L"+e+","+-t+" "+-e+","+-t+"Z"},"triangle-up":function(e){var e=Math.sqrt(e/xs),t=e*xs/2;return"M0,"+-t+"L"+e+","+t+" "+-e+","+t+"Z"}}),xs=(O.svg.symbolTypes=ks.keys(),Math.sqrt(3)),Ss=Math.tan(30*S),_s=(r.transition=function(e){for(var t,n,r=Ts||++Ds,a=Os(e),i=[],o=Ps||{time:Date.now(),ease:xi,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&Is(n,u,a,r,o),t.push(n)}return Es(i,a,r)},r.interrupt=function(e){return this.each(null==e?_s:Cs(Os(e)))},Cs(Os()));function Cs(r){return function(){var e,t,n;(e=this[r])&&(n=e[t=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[t]:delete this[r],e.active+=.5,n.event)&&n.event.interrupt.call(this,this.__data__,n.index)}}function Es(e,t,n){return fe(e,w),e.namespace=t,e.id=n,e}var Ts,Ps,w=[],Ds=0;function Ms(e,r,a,i){var o=e.id,s=e.namespace;return Ie(e,"function"==typeof a?function(e,t,n){e[s][o].tween.set(r,i(a.call(e,e.__data__,t,n)))}:(a=i(a),function(e){e[s][o].tween.set(r,a)}))}function As(e){return null==e&&(e=""),function(){this.textContent=e}}function Os(e){return null==e?"__transition__":"__transition_"+e+"__"}function Is(i,o,r,s,e){var l,c,u,d,p,f=i[r]||(i[r]={active:0,count:0}),h=f[s];function n(e){var t,n,r=f.active,a=f[r];for(t in a&&(a.timer.c=null,a.timer.t=NaN,--f.count,delete f[r],a.event)&&a.event.interrupt.call(i,i.__data__,a.index),f)+t<s&&((n=f[t]).timer.c=null,n.timer.t=NaN,--f.count,delete f[t]);c.c=m,It(function(){return c.c&&m(e||1)&&(c.c=null,c.t=NaN),1},0,l),f.active=s,h.event&&h.event.start.call(i,i.__data__,o),p=[],h.tween.forEach(function(e,t){(t=t.call(i,i.__data__,o))&&p.push(t)}),d=h.ease,u=h.duration}function m(e){for(var e=e/u,t=d(e),n=p.length;0<n;)p[--n].call(i,t);if(1<=e)return h.event&&h.event.end.call(i,i.__data__,o),--f.count?delete f[s]:delete i[r],1}h||(l=e.time,c=It(function(e){var t=h.delay;if(c.t=t+l,t<=e)return n(e-t);c.c=n},0,l),h=f[s]={tween:new G,time:l,timer:c,delay:e.delay,duration:e.duration,ease:e.ease,index:o},e=null,++f.count)}w.call=r.call,w.empty=r.empty,w.node=r.node,w.size=r.size,O.transition=function(e,t){return e&&e.transition?Ts?e.transition(t):e:O.selection().transition(e)},(O.transition.prototype=w).select=function(e){var t,n,r,a=this.id,i=this.namespace,o=[];e=be(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),Is(n,u,i,a,r[i][a]),t.push(n)):t.push(null)}return Es(o,i,a)},w.selectAll=function(e){var t,n,r,a,i,o=this.id,s=this.namespace,l=[];e=ye(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],p=-1,f=d.length;++p<f;)if(r=d[p]){i=r[s][o],n=e.call(r,r.__data__,p,c),l.push(t=[]);for(var h=-1,m=n.length;++h<m;)(a=n[h])&&Is(a,h,s,o,i),t.push(a)}return Es(l,s,o)},w.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=Oe(e));for(var a=0,i=this.length;a<i;a++){r.push(t=[]);for(var o,s=0,l=(o=this[a]).length;s<l;s++)(n=o[s])&&e.call(n,n.__data__,s,a)&&t.push(n)}return Es(r,this.namespace,this.id)},w.tween=function(t,n){var r=this.id,a=this.namespace;return arguments.length<2?this.node()[a][r].tween.get(t):Ie(this,null==n?function(e){e[a][r].tween.remove(t)}:function(e){e[a][r].tween.set(t,n)})},w.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var r="transform"==e?Ii:hi,a=O.ns.qualify(e);function i(){this.removeAttribute(a)}function o(){this.removeAttributeNS(a.space,a.local)}return Ms(this,"attr."+e,t,a.local?function(n){return null==n?o:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=r(e,n),function(e){this.setAttributeNS(a.space,a.local,t(e))})})}:function(n){return null==n?i:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=r(e,n),function(e){this.setAttribute(a,t(e))})})})},w.attrTween=function(e,r){var a=O.ns.qualify(e);return this.tween("attr."+e,a.local?function(e,t){var n=r.call(this,e,t,this.getAttributeNS(a.space,a.local));return n&&function(e){this.setAttributeNS(a.space,a.local,n(e))}}:function(e,t){var n=r.call(this,e,t,this.getAttribute(a));return n&&function(e){this.setAttribute(a,n(e))}})},w.style=function(r,e,a){var t=arguments.length;if(t<3){if("string"!=typeof r){for(a in t<2&&(e=""),r)this.style(a,r[a],e);return this}a=""}function i(){this.style.removeProperty(r)}return Ms(this,"style."+r,e,function(n){return null==n?i:(n+="",function(){var t,e=L(this).getComputedStyle(this,null).getPropertyValue(r);return e!==n&&(t=hi(e,n),function(e){this.style.setProperty(r,t(e),a)})})})},w.styleTween=function(r,a,i){return arguments.length<3&&(i=""),this.tween("style."+r,function(e,t){var n=a.call(this,e,t,L(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(e){this.style.setProperty(r,n(e),i)}})},w.text=function(e){return Ms(this,"text",e,As)},w.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},w.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=O.ease.apply(O,arguments)),Ie(this,function(e){e[r][n].ease=t}))},w.delay=function(r){var a=this.id,i=this.namespace;return arguments.length<1?this.node()[i][a].delay:Ie(this,"function"==typeof r?function(e,t,n){e[i][a].delay=+r.call(e,e.__data__,t,n)}:(r=+r,function(e){e[i][a].delay=r}))},w.duration=function(r){var a=this.id,i=this.namespace;return arguments.length<1?this.node()[i][a].duration:Ie(this,"function"==typeof r?function(e,t,n){e[i][a].duration=Math.max(1,r.call(e,e.__data__,t,n))}:(r=Math.max(1,r),function(e){e[i][a].duration=r}))},w.each=function(r,t){var a=this.id,i=this.namespace;if(arguments.length<2){var e=Ps,n=Ts;try{Ts=a,Ie(this,function(e,t,n){Ps=e[i][a],r.call(e,e.__data__,t,n)})}finally{Ps=e,Ts=n}}else Ie(this,function(e){e=e[i][a];(e.event||(e.event=O.dispatch("start","end","interrupt"))).on(r,t)});return this},w.transition=function(){for(var e,t,n,r=this.id,a=++Ds,i=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(e=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(t=c[u])&&Is(t,u,i,a,{time:(n=t[i][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Es(o,i,a)},O.svg.axis=function(){var w,k=O.scale.linear(),x=Ns,S=6,_=6,C=3,E=[10],T=null;function n(e){e.each(function(){var e,t,n,r,a,i,o,s=O.select(this),l=this.__chart__||k,c=this.__chart__=k.copy(),u=null==T?c.ticks?c.ticks.apply(c,E):c.domain():T,d=null==w?c.tickFormat?c.tickFormat.apply(c,E):D:w,u=s.selectAll(".tick").data(u,c),p=u.enter().insert("g",".domain").attr("class","tick").style("opacity",A),f=O.transition(u.exit()).style("opacity",A).remove(),h=O.transition(u.order()).style("opacity",1),m=Math.max(S,0)+C,g=Eo(c),s=s.selectAll(".domain").data([0]),s=(s.enter().append("path").attr("class","domain"),O.transition(s)),v=(p.append("line"),p.append("text"),p.select("line")),b=h.select("line"),u=u.select("text").text(d),d=p.select("text"),y=h.select("text"),$="top"===x||"left"===x?-1:1;"bottom"===x||"top"===x?(e=Fs,t="x",r="y",n="x2",a="y2",u.attr("dy",$<0?"0em":".71em").style("text-anchor","middle"),s.attr("d","M"+g[0]+","+$*_+"V0H"+g[1]+"V"+$*_)):(e=zs,t="y",r="x",n="y2",a="x2",u.attr("dy",".32em").style("text-anchor",$<0?"end":"start"),s.attr("d","M"+$*_+","+g[0]+"H0V"+g[1]+"H"+$*_)),v.attr(a,$*S),d.attr(r,$*m),b.attr(n,0).attr(a,$*S),y.attr(t,0).attr(r,$*m),c.rangeBand?(o=(i=c).rangeBand()/2,l=c=function(e){return i(e)+o}):l.rangeBand?l=c:f.call(e,c,l),p.call(e,l,c),h.call(e,c,c)})}return n.scale=function(e){return arguments.length?(k=e,n):k},n.orient=function(e){return arguments.length?(x=e in js?e+"":Ns,n):x},n.ticks=function(){return arguments.length?(E=p(arguments),n):E},n.tickValues=function(e){return arguments.length?(T=e,n):T},n.tickFormat=function(e){return arguments.length?(w=e,n):w},n.tickSize=function(e){var t=arguments.length;return t?(S=+e,_=+arguments[t-1],n):S},n.innerTickSize=function(e){return arguments.length?(S=+e,n):S},n.outerTickSize=function(e){return arguments.length?(_=+e,n):_},n.tickPadding=function(e){return arguments.length?(C=+e,n):C},n.tickSubdivide=function(){return arguments.length&&n},n};var Ns="bottom",js={top:1,right:1,bottom:1,left:1};function Fs(e,n,r){e.attr("transform",function(e){var t=n(e);return"translate("+(isFinite(t)?t:r(e))+",0)"})}function zs(e,n,r){e.attr("transform",function(e){var t=n(e);return"translate(0,"+(isFinite(t)?t:r(e))+")"})}O.svg.brush=function(){var v,b,y=de(C,"brushstart","brush","brushend"),$=null,w=null,k=[0,0],x=[0,0],S=!0,_=!0,a=Rs[0];function C(e){e.each(function(){var e,t=O.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),n=t.selectAll(".background").data([0]),r=(n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move"),t.selectAll(".resize").data(a,D)),r=(r.exit().remove(),r.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ls[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",C.empty()?"none":null),O.transition(t)),t=O.transition(n);$&&(e=Eo($),t.attr("x",e[0]).attr("width",e[1]-e[0]),T(r)),w&&(e=Eo(w),t.attr("y",e[0]).attr("height",e[1]-e[0]),P(r)),E(r)})}function E(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+k[+/e$/.test(e)]+","+x[+/^s/.test(e)]+")"})}function T(e){e.select(".extent").attr("x",k[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",k[1]-k[0])}function P(e){e.select(".extent").attr("y",x[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",x[1]-x[0])}function i(){var l,e,n,r=this,t=O.select(O.event.target),a=y.of(r,arguments),i=O.select(r),o=t.datum(),s=!/^(n|s)$/.test(o)&&$,c=!/^(e|w)$/.test(o)&&w,u=t.classed("extent"),d=He(r),p=O.mouse(r),f=O.select(L(r)).on("keydown.brush",function(){32==O.event.keyCode&&(u||(l=null,p[0]-=k[1],p[1]-=x[1],u=2),ce())}).on("keyup.brush",function(){32==O.event.keyCode&&2==u&&(p[0]+=k[1],p[1]+=x[1],u=0,ce())});function h(){var e=O.mouse(r),t=!1;n&&(e[0]+=n[0],e[1]+=n[1]),u||(O.event.altKey?(l=l||[(k[0]+k[1])/2,(x[0]+x[1])/2],p[0]=k[+(e[0]<l[0])],p[1]=x[+(e[1]<l[1])]):l=null),s&&m(e,$,0)&&(T(i),t=!0),c&&m(e,w,1)&&(P(i),t=!0),t&&(E(i),a({type:"brush",mode:u?"move":"resize"}))}function m(e,t,n){var r,t=Eo(t),a=t[0],t=t[1],i=p[n],o=n?x:k,s=o[1]-o[0];return u&&(a-=i,t-=s+i),e=(n?_:S)?Math.max(a,Math.min(t,e[n])):e[n],u?r=(e+=i)+s:(i=l?Math.max(a,Math.min(t,2*l[n]-e)):i)<e?(r=e,e=i):r=i,(o[0]!=e||o[1]!=r)&&(n?b=null:v=null,o[0]=e,o[1]=r,1)}function g(){h(),i.style("pointer-events","all").selectAll(".resize").style("display",C.empty()?"none":null),O.select("body").style("cursor",null),f.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),d(),a({type:"brushend"})}O.event.changedTouches?f.on("touchmove.brush",h).on("touchend.brush",g):f.on("mousemove.brush",h).on("mouseup.brush",g),i.interrupt().selectAll("*").interrupt(),u?(p[0]=k[0]-p[0],p[1]=x[0]-p[1]):o?(e=+/w$/.test(o),o=+/^n/.test(o),n=[k[1-e]-p[0],x[1-o]-p[1]],p[0]=k[e],p[1]=x[o]):O.event.altKey&&(l=p.slice()),i.style("pointer-events","none").selectAll(".resize").style("display",null),O.select("body").style("cursor",t.style("cursor")),a({type:"brushstart"}),h()}return C.event=function(e){e.each(function(){var r=y.of(this,arguments),a={x:k,y:x,i:v,j:b},e=this.__chart__||a;this.__chart__=a,Ts?O.select(this).transition().each("start.brush",function(){v=e.i,b=e.j,k=e.x,x=e.y,r({type:"brushstart"})}).tween("brush:brush",function(){var t=mi(k,a.x),n=mi(x,a.y);return v=b=null,function(e){k=a.x=t(e),x=a.y=n(e),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){v=a.i,b=a.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},C.x=function(e){return arguments.length?(a=Rs[!($=e)<<1|!w],C):$},C.y=function(e){return arguments.length?(a=Rs[!$<<1|!(w=e)],C):w},C.clamp=function(e){return arguments.length?($&&w?(S=!!e[0],_=!!e[1]):$?S=!!e:w&&(_=!!e),C):$&&w?[S,_]:$?S:w?_:null},C.extent=function(e){var t,n,r,a,i;return arguments.length?($&&(t=e[0],n=e[1],w&&(t=t[0],n=n[0]),v=[t,n],$.invert&&(t=$(t),n=$(n)),n<t&&(i=t,t=n,n=i),t==k[0]&&n==k[1]||(k=[t,n])),w&&(r=e[0],a=e[1],$&&(r=r[1],a=a[1]),b=[r,a],w.invert&&(r=w(r),a=w(a)),a<r&&(i=r,r=a,a=i),r==x[0]&&a==x[1]||(x=[r,a])),C):($&&(v?(t=v[0],n=v[1]):(t=k[0],n=k[1],$.invert&&(t=$.invert(t),n=$.invert(n)),n<t&&(i=t,t=n,n=i))),w&&(b?(r=b[0],a=b[1]):(r=x[0],a=x[1],w.invert&&(r=w.invert(r),a=w.invert(a)),a<r&&(i=r,r=a,a=i))),$&&w?[[t,r],[n,a]]:$?[t,n]:w&&[r,a])},C.clear=function(){return C.empty()||(k=[0,0],x=[0,0],v=b=null),C},C.empty=function(){return!!$&&k[0]==k[1]||!!w&&x[0]==x[1]},O.rebind(C,y,"on")};var Ls={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],t=k.format=n.timeFormat,n=t.utc,Us=n("%Y-%m-%dT%H:%M:%S.%LZ");function qs(e){return e.toISOString()}function Hs(t,a,e){function i(e){return t(e)}function o(e,t){var n=(e[1]-e[0])/t,r=O.bisect(Ys,n);return r==Ys.length?[a.year,No(e.map(function(e){return e/31536e6}),t)[2]]:r?a[n/Ys[r-1]<Ys[r]/n?r-1:r]:[Gs,No(e,t)[2]]}return i.invert=function(e){return Vs(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Vs)},i.nice=function(t,n){var e=i.domain(),r=Co(e),r=null==t?o(r,10):"number"==typeof t&&o(r,t);function a(e){return!isNaN(e)&&!t.range(e,Vs(+e+1),n).length}return r&&(t=r[0],n=r[1]),i.domain(Po(e,1<n?{floor:function(e){for(;a(e=t.floor(e));)e=Vs(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=Vs(+e+1);return e}}:t))},i.ticks=function(e,t){var n=Co(i.domain()),r=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Vs(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return e},i.copy=function(){return Hs(t.copy(),a,e)},Oo(i,t)}function Vs(e){return new Date(e)}t.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?qs:Us,qs.parse=function(e){e=new Date(e);return isNaN(e)?null:e},qs.toString=Us.toString,k.second=Yt(function(e){return new x(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),k.seconds=k.second.range,k.seconds.utc=k.second.utc.range,k.minute=Yt(function(e){return new x(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),k.minutes=k.minute.range,k.minutes.utc=k.minute.utc.range,k.hour=Yt(function(e){var t=e.getTimezoneOffset()/60;return new x(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),k.hours=k.hour.range,k.hours.utc=k.hour.utc.range,k.month=Yt(function(e){return(e=k.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),k.months=k.month.range,k.months.utc=k.month.utc.range;var Ys=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Bs=[[k.second,1],[k.second,5],[k.second,15],[k.second,30],[k.minute,1],[k.minute,5],[k.minute,15],[k.minute,30],[k.hour,1],[k.hour,3],[k.hour,6],[k.hour,12],[k.day,1],[k.day,2],[k.week,1],[k.month,1],[k.month,3],[k.year,1]],Ws=t.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",pr]]),Gs={range:function(e,t,n){return O.range(Math.ceil(e/n)*n,+t,n).map(Vs)},floor:D,ceil:D},Ks=(Bs.year=k.year,k.scale=function(){return Hs(O.scale.linear(),Bs,Ws)},Bs.map(function(e){return[e[0].utc,e[1]]})),Xs=n.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",pr]]);function Js(e){return JSON.parse(e.responseText)}function Zs(e){var t=I.createRange();return t.selectNode(I.body),t.createContextualFragment(e.responseText)}Ks.year=k.year.utc,k.scale.utc=function(){return Hs(O.scale.linear(),Ks,Xs)},O.text=Et(function(e){return e.responseText}),O.json=function(e,t){return Tt(e,"application/json",Js,t)},O.html=function(e,t){return Tt(e,"text/html",Zs,t)},O.xml=Et(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=O,define(O)):"object"==typeof module&&module.exports?module.exports=O:this.d3=O}(),function(t,n){"function"==typeof define&&define.amd?define(["d3"],function(e){return t.Rickshaw=n(e)}):"object"==typeof exports?module.exports=n(require("d3")):t.Rickshaw=n(d3)}(this,function(m){var e,t,r,a,i,o,s,l,n,c,u,d,p={version:"1.7.1",namespace:function(e,t){for(var n=e.split("."),r=p,a=1,i=n.length;a<i;a++){var o=n[a];r[o]=r[o]||{},r=r[o]}return r},keys:function(e){var t,n=[];for(t in e)n.push(t);return n},extend:function(e,t){for(var n in t)e[n]=t[n];return e},clone:function(e){return JSON.parse(JSON.stringify(e))}};function f(e){return t.call(e)===n}function h(e){if(function(e){switch(e){case null:return r;case void 0:return a}switch(typeof e){case"boolean":return i;case"number":return o;case"string":return s}return l}(e)!==l)throw new TypeError;var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}function g(e,t){for(var n=e.length,r=t.length;r--;)e[n+r]=t[r];return e}function v(e,n){var r,a;return arguments.length<2&&void 0===e?this:(r=e,a=c.call(arguments,2),function(){t=a,e=arguments;var e,t=g(t=c.call(t,0),e);return r.apply(n,t)})}function b(){}function y(){}return e=p,t=Object.prototype.toString,r="Null",a="Undefined",i="Boolean",o="Number",s="String",l="Object",n="[object Function]",c=Array.prototype.slice,u=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),d={create:function(){var e=null,t=[].slice.apply(arguments);function n(){this.initialize.apply(this,arguments)}f(t[0])&&(e=t.shift());var r,a=n,i=d.Methods;for(r in i)i.hasOwnProperty(r)&&(a[r]=i[r]);if(n.superclass=e,n.subclasses=[],e){y.prototype=e.prototype,n.prototype=new y;try{e.subclasses.push(n)}catch(e){}}for(var o=0,s=t.length;o<s;o++)n.addMethods(t[o]);return n.prototype.initialize||(n.prototype.initialize=b),n.prototype.constructor=n},Methods:{addMethods:function(e){var t=this.superclass&&this.superclass.prototype,n=h(e);u&&(e.toString!=Object.prototype.toString&&n.push("toString"),e.valueOf!=Object.prototype.valueOf)&&n.push("valueOf");for(var r=0,a=n.length;r<a;r++){var i,o=n[r],s=e[o];t&&f(s)&&"$super"==(1!=(i=(i=s).toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",")).length||i[0]?i:[])[0]&&((s=function(e,t){var n=e;return function(){var e=g([v(n,this)],arguments);return t.apply(this,e)}}(function(e){return function(){return t[e].apply(this,arguments)}}(o),i=s)).valueOf=v(i.valueOf,i),s.toString=v(i.toString,i)),this.prototype[o]=s}return this}}},e.exports?e.exports.Class=d:e.Class=d,p.namespace("Rickshaw.Compat.ClassList"),p.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){"use strict";function n(e,t){this.name=e,this.code=DOMException[e],this.message=t}function r(e,t){if(""===t)throw new n("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new n("INVALID_CHARACTER_ERR","String contains an invalid character");return c.call(e,t)}function e(e){for(var t=l.call(e.className),n=t?t.split(/\s+/):[],r=0,a=n.length;r<a;r++)this.push(n[r]);this._updateClassName=function(){e.className=this.toString()}}function a(){return new e(this)}var i="classList",o="prototype",t=(t.HTMLElement||t.Element)[o],s=Object,l=String[o].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[o].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},u=e[o]=[];if(n[o]=Error[o],u.item=function(e){return this[e]||null},u.contains=function(e){return-1!==r(this,e+="")},u.add=function(e){-1===r(this,e+="")&&(this.push(e),this._updateClassName())},u.remove=function(e){e=r(this,e+="");-1!==e&&(this.splice(e,1),this._updateClassName())},u.toggle=function(e){-1===r(this,e+="")?this.add(e):this.remove(e)},u.toString=function(){return this.join(" ")},s.defineProperty){u={get:a,enumerable:!0,configurable:!0};try{s.defineProperty(t,i,u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,s.defineProperty(t,i,u))}}else s[o].__defineGetter__&&t.__defineGetter__(i,a)}(window)},("undefined"==typeof RICKSHAW_NO_COMPAT||RICKSHAW_NO_COMPAT)&&"undefined"!=typeof RICKSHAW_NO_COMPAT||new p.Compat.ClassList,p.namespace("Rickshaw.Graph"),p.Graph=function(e){var i=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.setSeries(e.series),this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=m.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var e in p.Graph.Renderer)e&&p.Graph.Renderer.hasOwnProperty(e)&&(e=p.Graph.Renderer[e])&&e.prototype&&e.prototype.render&&i.registerRenderer(new e({graph:i}))},this.validateSeries=function(e){if(!(Array.isArray(e)||e instanceof p.Series))throw"series is not an array: "+Object.prototype.toString.apply(e);e.forEach(function(e){if(!(e instanceof Object))throw"series element is not an object: "+e;if(!e.data)throw"series has no data: "+JSON.stringify(e);if(!Array.isArray(e.data))throw"series data is not an array: "+JSON.stringify(e.data);if(0<e.data.length){var t=e.data[0].x,n=e.data[0].y;if("number"!=typeof t||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof t+" and "+typeof n}if(3<=e.data.length&&(e.data[2].x<e.data[1].x||e.data[1].x<e.data[0].x||e.data[e.data.length-1].x<e.data[0].x))throw"series data needs to be sorted on x values for series name: "+e.name},this)},this.setSeries=function(e){this.validateSeries(e),this.series=e,this.series.active=function(){return i.series.filter(function(e){return!e.disabled})}},this.dataDomain=function(){var e=this.series.map(function(e){return e.data});return[m.min(e.map(function(e){return e[0].x})),m.max(e.map(function(e){return e[e.length-1].x}))]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||m.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||m.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=m.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=m.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(e){e()})},this.update=this.render,this.stackData=function(){var t,e,n=this.series.active().map(function(e){return e.data}).map(function(e){return e.filter(function(e){return this._slice(e)},this)},this),r=this.preserve,a=(r||this.series.forEach(function(e){e.scale&&(r=!0)}),n=r?p.clone(n):n,this.series.active().forEach(function(t,e){t.scale&&(e=n[e])&&e.forEach(function(e){e.y=t.scale(e.y)})}),this.stackData.hooks.data.forEach(function(e){n=e.f.apply(i,[n])}),this.renderer.unstack||(this._validateStackable(),(e=m.layout.stack()).offset(i.offset),t=e(n)),t=t||n,this.renderer.unstack&&t.forEach(function(e){e.forEach(function(e){e.y0=void 0===e.y0?0:e.y0})}),this.stackData.hooks.after.forEach(function(e){t=e.f.apply(i,[n])}),0);return this.series.forEach(function(e){e.disabled||(e.stack=t[a++])}),this.stackedData=t},this._validateStackable=function(){var t;this.series.forEach(function(e){if((t=t||e.data.length)&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(e){var t;return!this.window.xMin&&!this.window.xMax||(t=!0,this.window.xMin&&e.x<this.window.xMin&&(t=!1),!(this.window.xMax&&e.x>this.window.xMax)&&t)},this.onUpdate=function(e){this.updateCallbacks.push(e)},this.onConfigure=function(e){this.configureCallbacks.push(e)},this.registerRenderer=function(e){this._renderers=this._renderers||{},this._renderers[e.name]=e},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),p.keys(this.defaults).forEach(function(e){this.config[e]=(e in t?t:e in this?this:this.defaults)[e]},this),p.keys(this.config).forEach(function(e){this[e]=this.config[e]},this),"stack"in t&&(t.unstack=!t.stack);var e=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(e,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(e,t){if("function"==typeof e)this.renderer=new e({graph:i}),this.registerRenderer(this.renderer);else{if(!this._renderers[e])throw"couldn't find renderer "+e;this.renderer=this._renderers[e]}"object"==typeof t&&this.renderer.configure(t)},this.setSize=function(e){var t,n;(e=e||{}).width&&e.height?(this.width=e.width,this.height=e.height):("undefined"!=typeof window&&(n=window.getComputedStyle(this.element,null),t=parseInt(n.getPropertyValue("width"),10),n=parseInt(n.getPropertyValue("height"),10)),this.width=e.width||t||400,this.height=e.height||n||250),this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(e)},p.namespace("Rickshaw.Fixtures.Color"),p.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},p.namespace("Rickshaw.Fixtures.RandomData"),p.Fixtures.RandomData=function(o){o=o||1;var t=200,s=Math.floor((new Date).getTime()/1e3);this.addData=function(e){var r=100*Math.random()+15+t,a=e[0].length,i=1;e.forEach(function(e){var t=20*Math.random(),n=r/25+i+++15*(Math.cos(a*i*11/960)+2)+7*(Math.cos(a/7)+2)+ +(Math.cos(a/17)+2);e.push({x:a*o+s,y:n+t})}),t=.85*r},this.removeData=function(e){e.forEach(function(e){e.shift()}),s+=o}},p.namespace("Rickshaw.Fixtures.Time"),p.Fixtures.Time=function(){var t=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(e){return 10*parseInt(e.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(e){return e.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return t.months[e.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(e){return t.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return t.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return t.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return t.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getUTCMinutes()+"m"}},{name:"15 second",seconds:15,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(e){return e.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(e){return e.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return m.time.format("%b %e")(e)},this.formatTime=function(e){return e.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(e,t){var n,r,a;return"month"==t.name?(n=new Date(1e3*e),Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3==e?e:(r=n.getUTCFullYear(),11==(a=n.getUTCMonth())?(a=0,r+=1):a+=1,Date.UTC(r,a)/1e3)):"year"==t.name?(n=new Date(1e3*e),Date.UTC(n.getUTCFullYear(),0)/1e3==e?e:(r=n.getUTCFullYear()+1,Date.UTC(r,0)/1e3)):Math.ceil(e/t.seconds)*t.seconds}},p.namespace("Rickshaw.Fixtures.Time.Local"),p.Fixtures.Time.Local=function(){var t=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(e){return 10*parseInt(e.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(e){return e.getFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return t.months[e.getMonth()]}},{name:"week",seconds:604800,formatter:function(e){return t.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return t.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return t.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return t.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getMinutes()}},{name:"15 second",seconds:15,formatter:function(e){return e.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(e){return e.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(e){return e.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return m.time.format("%b %e")(e)},this.formatTime=function(e){return e.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(e,t){var n,r,a,i;return"day"==t.name?(i=new Date(1e3*(e+t.seconds-1)),(r=new Date(0)).setFullYear(i.getFullYear()),r.setMonth(i.getMonth()),r.setDate(i.getDate()),r.setMilliseconds(0),r.setSeconds(0),r.setMinutes(0),r.setHours(0),r.getTime()/1e3):"month"==t.name?(n=new Date(1e3*e),new Date(n.getFullYear(),n.getMonth()).getTime()/1e3==e?e:(a=n.getFullYear(),11==(i=n.getMonth())?(i=0,a+=1):i+=1,new Date(a,i).getTime()/1e3)):"year"==t.name?(n=new Date(1e3*e),new Date(n.getUTCFullYear(),0).getTime()/1e3==e?e:(a=n.getFullYear()+1,new Date(a,0).getTime()/1e3)):(r=60*new Date(1e3*e).getTimezoneOffset(),Math.ceil((e-r)/t.seconds)*t.seconds+r)}},p.namespace("Rickshaw.Fixtures.Number"),p.Fixtures.Number.formatKMBT=function(e){var t=Math.abs(e);return 1e12<=t?(e/1e12).toFixed(2)+"T":1e9<=t?(e/1e9).toFixed(2)+"B":1e6<=t?(e/1e6).toFixed(2)+"M":1e3<=t?(e/1e3).toFixed(2)+"K":t<1&&0<t?e.toFixed(2):0===t?"0":e},p.Fixtures.Number.formatBase1024KMGTP=function(e){var t=Math.abs(e);return 0x4000000000000<=t?(e/0x4000000000000).toFixed(2)+"P":1099511627776<=t?(e/1099511627776).toFixed(2)+"T":1073741824<=t?(e/1073741824).toFixed(2)+"G":1048576<=t?(e/1048576).toFixed(2)+"M":1024<=t?(e/1024).toFixed(2)+"K":t<1&&0<t?e.toFixed(2):0===t?"0":e},p.namespace("Rickshaw.Color.Palette"),p.Color.Palette=function(e){var t=new p.Fixtures.Color;if(e=e||{},this.schemes={},this.scheme=t.schemes[e.scheme]||e.scheme||t.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,e.interpolatedStopCount){for(var n=this.scheme.length-1,r=[],a=0;a<n;a++){r.push(this.scheme[a]);for(var i=m.interpolateHsl(this.scheme[a],this.scheme[a+1]),o=1;o<e.interpolatedStopCount;o++)r.push(i(1/e.interpolatedStopCount*o))}r.push(this.scheme[this.scheme.length-1]),this.scheme=r}this.rotateCount=this.scheme.length,this.color=function(e){return this.scheme[e]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){var e;if(Array.isArray(this.scheme))return this.generatorIndex==2*this.rotateCount-1?(e=m.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=m.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}},p.namespace("Rickshaw.Graph.Ajax"),p.Graph.Ajax=p.Class.create({initialize:function(e){this.dataURL=e.dataURL,this.onData=e.onData||function(e){return e},this.onComplete=e.onComplete||function(){},this.onError=e.onError||function(){},this.args=e,this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(e,t){e=this.onData(e),this.args.series=this._splice({data:e,series:this.args.series}),this.graph=this.graph||new p.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(e){var t=e.data,n=e.series;return e.series?(n.forEach(function(n){var r=n.key||n.name;if(!r)throw"series needs a key or a name";t.forEach(function(t){var e=t.key||t.name;if(!e)throw"data needs a key or a name";r==e&&["color","name","data"].forEach(function(e){t[e]&&(n[e]=t[e])})})}),n):t}}),p.namespace("Rickshaw.Graph.Annotate"),p.Graph.Annotate=function(e){this.graph=e.graph;this.elements={timeline:e.element};var i=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(e,t,n){i.data[e]=i.data[e]||{boxes:[]},i.data[e].boxes.push({content:t,end:n})},this.update=function(){p.keys(i.data).forEach(function(e){var t,r=i.data[e],a=i.graph.x(e);a<0||a>i.graph.x.range()[1]?(r.element&&(r.line.classList.add("offscreen"),r.element.style.display="none"),r.boxes.forEach(function(e){e.rangeElement&&e.rangeElement.classList.add("offscreen")})):(r.element||((t=r.element=document.createElement("div")).classList.add("annotation"),this.elements.timeline.appendChild(t),t.addEventListener("click",function(e){t.classList.toggle("active"),r.line.classList.toggle("active"),r.boxes.forEach(function(e){e.rangeElement&&e.rangeElement.classList.toggle("active")})},!1)),r.element.style.left=a+"px",r.element.style.display="block",r.boxes.forEach(function(e){var t,n=e.element;n||((n=e.element=document.createElement("div")).classList.add("content"),n.innerHTML=e.content,r.element.appendChild(n),r.line=document.createElement("div"),r.line.classList.add("annotation_line"),i.graph.element.appendChild(r.line),e.end&&(e.rangeElement=document.createElement("div"),e.rangeElement.classList.add("annotation_range"),i.graph.element.appendChild(e.rangeElement))),e.end&&(n=a,(t=Math.min(i.graph.x(e.end),i.graph.x.range()[1]))<n&&(t=a,n=Math.max(i.graph.x(e.end),i.graph.x.range()[0])),t=t-n,e.rangeElement.style.left=n+"px",e.rangeElement.style.width=t+"px",e.rangeElement.classList.remove("offscreen")),r.line.classList.remove("offscreen"),r.line.style.left=a+"px"}))},this)},this.graph.onUpdate(function(){i.update()})},p.namespace("Rickshaw.Graph.Axis.Time"),p.Graph.Axis.Time=function(e){var r=this,s=(this.graph=e.graph,this.elements=[],this.ticksTreatment=e.ticksTreatment||"plain",this.fixedTimeUnit=e.timeUnit,e.timeFixture||new p.Fixtures.Time);this.appropriateTimeUnit=function(){var t,e=s.units,n=this.graph.x.domain(),r=n[1]-n[0];return e.forEach(function(e){2<=Math.floor(r/e.seconds)&&(t=t||e)}),t||s.units[s.units.length-1]},this.tickOffsets=function(){for(var e=this.graph.x.domain(),t=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((e[1]-e[0])/t.seconds),r=e[0],a=[],i=0;i<n;i++){var o=s.ceil(r,t),r=o+t.seconds/2;a.push({value:o,unit:t})}return a},this.render=function(){this.elements.forEach(function(e){e.parentNode.removeChild(e)}),this.elements=[],this.tickOffsets().forEach(function(e){var t,n;r.graph.x(e.value)>r.graph.x.range()[1]||((t=document.createElement("div")).style.left=r.graph.x(e.value)+"px",t.classList.add("x_tick"),t.classList.add(r.ticksTreatment),(n=document.createElement("div")).classList.add("title"),n.innerHTML=e.unit.formatter(new Date(1e3*e.value)),t.appendChild(n),r.graph.element.appendChild(t),r.elements.push(t))})},this.graph.onUpdate(function(){r.render()})},p.namespace("Rickshaw.Graph.Axis.X"),p.Graph.Axis.X=function(r){var t=this;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.color=e.color||"#000000",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=m.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("stroke",this.color).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){t.render()})},this.setSize=function(e){e=e||{},this.element&&(this._discoverSize(this.element.parentNode,e),this.vis.attr("height",this.height).attr("width",1.1*this.width),e=Math.floor(.1*this.width/2),this.element.style.left=-1*e+"px")},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var e=m.svg.axis().scale(this.graph.x).orient(this.orientation),t=(e.tickFormat(r.tickFormat||function(e){return e}),this.tickValues&&e.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick),Math.floor(.1*this.width/2)||0),n="bar"==this.graph.renderer.name&&Math.ceil(.95*this.graph.width/this.graph.series[0].data.length/2)||0,n=(t="top"==this.orientation?"translate("+(t+n)+","+(this.height||this.graph.height)+")":"translate("+(t+n)+", 0)",this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",t).call(e.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),("bottom"==this.orientation?1:-1)*this.graph.height);this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(e.ticks(this.ticks).tickSubdivide(0).tickSize(n)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(e,t){var n,r;"undefined"!=typeof window&&(e=window.getComputedStyle(e,null),n=parseInt(e.getPropertyValue("height"),10),t.auto||(r=parseInt(e.getPropertyValue("width"),10))),this.width=1.1*(t.width||r||this.graph.width),this.height=t.height||n||40},this.initialize(r)},p.namespace("Rickshaw.Graph.Axis.Y"),p.Graph.Axis.Y=p.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.color=e.color||"#000000",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(e){return e},this.berthRate=.1,e.element?(this.element=e.element,this.vis=m.select(e.element).append("svg:svg").attr("stroke",this.color).attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var t=this;this.graph.onUpdate(function(){t.render()})},setSize:function(e){var t,n,r;e=e||{},this.element&&("undefined"!=typeof window&&(r=window.getComputedStyle(this.element.parentNode,null),t=parseInt(r.getPropertyValue("width"),10),e.auto||(n=parseInt(r.getPropertyValue("height"),10))),this.width=e.width||t||this.graph.width*this.berthRate,this.height=e.height||n||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate)),r=this.height*this.berthRate,"left"==this.orientation)&&(this.element.style.top=-1*r+"px")},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var e=this._drawAxis(this.graph.y);this._drawGrid(e),this._renderHeight=this.graph.height},_drawAxis:function(e){var t,e=m.svg.axis().scale(e).orient(this.orientation);return e.tickFormat(this.tickFormat),this.tickValues&&e.tickValues(this.tickValues),"left"==this.orientation&&(t=this.height*this.berthRate,t="translate("+this.width+", "+t+")"),this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",t).call(e.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),e},_drawGrid:function(e){var t=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(e.ticks(this.ticks).tickSubdivide(0).tickSize(t)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),p.namespace("Rickshaw.Graph.Axis.Y.Scaled"),p.Graph.Axis.Y.Scaled=p.Class.create(p.Graph.Axis.Y,{initialize:function($super,e){if(void 0===e.scale)throw new Error("Scaled requires scale");this.scale=e.scale,void 0===e.grid?this.grid=!0:this.grid=e.grid,$super(e)},_drawAxis:function($super,e){var t=this.scale.domain(),n=this.graph.renderer.domain().y,r=[Math.min.apply(Math,t),Math.max.apply(Math,t)],a=m.scale.linear().domain([0,1]).range(r),a=[a(n[0]),a(n[1])],n=m.scale.linear().domain(r).range(a);return $super(this.scale.copy().domain(t.map(n)).range(e.range()))},_drawGrid:function($super,e){this.grid&&$super(e)}}),p.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),p.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var a=this,i={},t=null,r=e.disabledColor||function(e){return m.interpolateRgb(e,m.rgb("#d8d8d8"))(.8).toString()},o=e.transform||function(e,t){var n={};return e||(n.color=r(t.color)),n};this.addHighlightEvents=function(r){r.element.addEventListener("mouseover",function(e){t||(t=r,a.legend.lines.forEach(function(e){var t,n=!1;r===e&&(n=!0,!a.graph.renderer.unstack||e.series.renderer&&!e.series.renderer.unstack||(t=a.graph.series.indexOf(e.series),e.originalIndex=t,t=a.graph.series.splice(t,1)[0],a.graph.series.push(t))),t=o(n,e.series),i[e.series.name]=i[e.series.name]||{color:e.series.color,stroke:e.series.stroke},t.color&&(e.series.color=t.color),t.stroke&&(e.series.stroke=t.stroke)}),a.graph.update())},!1),r.element.addEventListener("mouseout",function(e){t&&(t=null,a.legend.lines.forEach(function(e){r===e&&e.hasOwnProperty("originalIndex")&&(t=a.graph.series.pop(),a.graph.series.splice(e.originalIndex,0,t),delete e.originalIndex);var t=i[e.series.name];t&&(e.series.color=t.color,e.series.stroke=t.stroke)}),a.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(e){a.addHighlightEvents(e)})},p.namespace("Rickshaw.Graph.Behavior.Series.Order"),p.Graph.Behavior.Series.Order=function(e){this.graph=e.graph,this.legend=e.legend;var a=this;if(void 0===window.jQuery)throw"couldn't find jQuery at window.jQuery";if(void 0===window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(a.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(e,t){var n=[];jQuery(a.legend.list).find("li").each(function(e,t){t.series&&n.push(t.series)});for(var r=a.graph.series.length-1;0<=r;r--)a.graph.series[r]=n.shift();a.graph.update()}}),jQuery(a.legend.list).disableSelection()}),this.graph.onUpdate(function(){var e=window.getComputedStyle(a.legend.element).height;a.legend.element.style.height=e})},p.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),p.Graph.Behavior.Series.Toggle=function(e){this.graph=e.graph,this.legend=e.legend;var i=this;this.addAnchor=function(a){var e=document.createElement("a");e.innerHTML="&#10004;",e.classList.add("action"),a.element.insertBefore(e,a.element.firstChild),e.onclick=function(e){if(a.series.disabled)a.series.enable(),a.element.classList.remove("disabled");else{if(this.graph.series.filter(function(e){return!e.disabled}).length<=1)return;a.series.disable(),a.element.classList.add("disabled")}i.graph.update()}.bind(this),a.element.getElementsByTagName("span")[0].onclick=function(e){var t=a.series.disabled;if(!t)for(var n=0;n<i.legend.lines.length;n++){var r=i.legend.lines[n];if(a.series!==r.series&&!r.series.disabled){t=!0;break}}t?(a.series.enable(),a.element.classList.remove("disabled"),i.legend.lines.forEach(function(e){a.series!==e.series&&(e.series.disable(),e.element.classList.add("disabled"))})):i.legend.lines.forEach(function(e){e.series.enable(),e.element.classList.remove("disabled")}),i.graph.update()}},this.legend&&("undefined"!=typeof jQuery&&jQuery(this.legend.list).sortable&&jQuery(this.legend.list).sortable({start:function(e,t){t.item.bind("no.onclick",function(e){e.preventDefault()})},stop:function(e,t){setTimeout(function(){t.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(e){i.addAnchor(e)})),this._addBehavior=function(){this.graph.series.forEach(function(e){e.disable=function(){if(i.graph.series.length<=1)throw"only one series left";e.disabled=!0},e.enable=function(){e.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},p.namespace("Rickshaw.Graph.DragZoom"),p.Graph.DragZoom=p.Class.create({initialize:function(e){if(!e||!e.graph)throw new Error("Rickshaw.Graph.DragZoom needs a reference to a graph");var t={opacity:.5,fill:"steelblue",minimumTimeSelection:60,callback:function(){}};this.graph=e.graph,this.svg=m.select(this.graph.element).select("svg"),this.svgWidth=parseInt(this.svg.attr("width"),10),this.opacity=e.opacity||t.opacity,this.fill=e.fill||t.fill,this.minimumTimeSelection=e.minimumTimeSelection||t.minimumTimeSelection,this.callback=e.callback||t.callback,this.registerMouseEvents()},registerMouseEvents:function(){var n,a=this,i={startDt:null,stopDt:null,startPX:null,stopPX:null};function t(e,t){i.stopDt=l(m.event);var n=[i.startDt,i.stopDt].sort(s),n=(a.graph.window.xMin=n[0],a.graph.window.xMax=n[1],a.graph.window.xMax),r=a.graph.window.xMax-a.graph.window.xMin;o(this),r<a.minimumTimeSelection||isNaN(r)||(a.graph.update(),a.callback({range:r,endTime:n}))}function r(){var e,t=i.stopPX=m.event.offsetX||m.event.layerX;if(!(t>a.svgWidth-1||t<1))return e=(t=[i.startPX,t].sort(s))[1]-t[0],isNaN(e)?o(this):void n.attr("fill",a.fill).attr("x",t[0]).attr("width",e)}function o(e){m.select(e).on("mousemove",null),m.select(document).on("mouseup",null),i={},n.remove()}function s(e,t){return e-t}function l(e){return Math.floor(a.graph.x.invert(e.offsetX||e.layerX))}this.svg.on("mousedown",function(){var e=m.select(this);n=e.append("rect").style("opacity",a.opacity).attr("y",0).attr("height","100%"),m.event.preventDefault?m.event.preventDefault():m.event.returnValue=!1;i.target=m.event.target,i.startDt=l(m.event),i.startPX=m.event.offsetX||m.event.layerX,e.on("mousemove",r),m.select(document).on("mouseup",t),m.select(document).on("keyup",function(){27===m.event.keyCode&&o(this)})})}}),p.namespace("Rickshaw.Graph.HoverDetail"),p.Graph.HoverDetail=p.Class.create({initialize:function(e){var t=this.graph=e.graph,n=(this.xFormatter=e.xFormatter||function(e){return new Date(1e3*e).toUTCString()},this.yFormatter=e.yFormatter||function(e){return null===e?e:e.toFixed(2)},this.element=document.createElement("div"));n.className="detail inactive",this.visible=!0,t.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=e.onShow,this.onHide=e.onHide,this.onRender=e.onRender,this.formatter=e.formatter||this.formatter},formatter:function(e,t,n,r,a,i){return e.name+":&nbsp;"+a},update:function(e){var c,u,d,p,f,h,t;(e=e||this.lastEvent)&&(this.lastEvent=e).target.nodeName.match(/^(path|svg|rect|circle)$/)&&(t=(c=this.graph).element.getBoundingClientRect(),u=e.clientX-t.left,d=e.clientY-t.top,p=0,f=[],this.graph.series.active().forEach(function(e){var t=this.graph.stackedData[p++];if(t.length){for(var n=c.x.invert(u),r=m.scale.linear().domain([t[0].x,t.slice(-1)[0].x]).range([0,t.length-1]),r=Math.round(r(n)),a=(r==t.length-1&&r--,Math.min(r||0,t.length-1)),i=r;i<t.length-1&&(t[i]&&t[i+1]);){if(t[i].x<=n&&t[i+1].x>n){a=Math.abs(n-t[i].x)<Math.abs(n-t[i+1].x)?i:i+1;break}t[i+1].x<=n?i++:i--}var r=t[a=a<0?0:a],o=Math.sqrt(Math.pow(Math.abs(c.x(r.x)-u),2)+Math.pow(Math.abs(c.y(r.y+r.y0)-d),2)),s=e.xFormatter||this.xFormatter,l=e.yFormatter||this.yFormatter,s={formattedXValue:s(r.x),formattedYValue:l(e.scale?e.scale.invert(r.y):r.y),series:e,value:r,distance:o,order:p,name:e.name};(!h||o<h.distance)&&(h=s),f.push(s)}},this),h)&&(h.active=!0,e=h.value.x,t=h.formattedXValue,this.element.innerHTML="",this.element.style.left=c.x(e)+"px",this.visible)&&this.render({points:f,detail:f,mouseX:u,mouseY:d,formattedXValue:t,domainX:e})},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(e){var t,n,r,a,i,o=this.graph,s=e.points.filter(function(e){return e.active}).shift();null!==s.value.y&&(a=s.formattedXValue,i=s.formattedYValue,this.element.innerHTML="",this.element.style.left=o.x(s.value.x)+"px",(o=document.createElement("div")).className="x_label",o.innerHTML=a,this.element.appendChild(o),(t=document.createElement("div")).className="item",r=(n=s.series).scale?n.scale.invert(s.value.y):s.value.y,t.innerHTML=this.formatter(n,s.value.x,r,a,i,s),t.style.top=this.graph.y(s.value.y0+s.value.y)+"px",this.element.appendChild(t),(r=document.createElement("div")).className="dot",r.style.top=t.style.top,r.style.borderColor=n.color,this.element.appendChild(r),s.active&&(t.classList.add("active"),r.classList.add("active")),(a=[o,t]).forEach(function(e){e.classList.add("left")}),this.show(),0<(i=this._calcLayoutError(a))&&(a.forEach(function(e){e.classList.remove("left"),e.classList.add("right")}),i<this._calcLayoutError(a))&&a.forEach(function(e){e.classList.remove("right"),e.classList.add("left")}),"function"==typeof this.onRender)&&this.onRender(e)},_calcLayoutError:function(e){var t=this.element.parentNode.getBoundingClientRect(),n=0;e.forEach(function(e){e=e.getBoundingClientRect();e.width&&(e.right>t.right&&(n+=e.right-t.right),e.left<t.left)&&(n+=t.left-e.left)});return n},_addListeners:function(){this.mousemoveListener=function(e){this.visible=!0,this.update(e)}.bind(this),this.graph.element.addEventListener("mousemove",this.mousemoveListener,!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.mouseoutListener=function(e){!e.relatedTarget||e.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),this.graph.element.addEventListener("mouseout",this.mouseoutListener,!1)},_removeListeners:function(){this.mousemoveListener&&this.graph.element.removeEventListener("mousemove",this.mousemoveListener,!1),this.mouseoutListener&&this.graph.element.removeEventListener("mouseout",this.mouseoutListener,!1)}}),p.namespace("Rickshaw.Graph.JSONP"),p.Graph.JSONP=p.Class.create(p.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),p.namespace("Rickshaw.Graph.Legend"),p.Graph.Legend=p.Class.create({className:"rickshaw_legend",initialize:function(e){this.element=e.element,this.graph=e.graph,this.naturalOrder=e.naturalOrder,this.colorKey=e.colorKey||"color",this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(e){return e});(e=this.naturalOrder?e:e.reverse()).forEach(function(e){t.addLine(e)})},addLine:function(e){var t=document.createElement("li"),n=(t.className="line",e.disabled&&(t.className+=" disabled"),e.className&&m.select(t).classed(e.className,!0),document.createElement("div")),n=(n.className="swatch",n.style.backgroundColor=e[this.colorKey],t.appendChild(n),document.createElement("span")),n=(n.className="label",n.innerHTML=e.name,t.appendChild(n),this.list.appendChild(t),(t.series=e).noLegend&&(t.style.display="none"),{element:t,series:e});return this.shelving&&(this.shelving.addAnchor(n),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(n),this.lines.push(n),t}}),p.namespace("Rickshaw.Graph.RangeSlider"),p.Graph.RangeSlider=p.Class.create({initialize:function(e){var t=jQuery,n=this,r=(this.element=e.element,this.graphs=e.graphs);(r=r||(this.graph=e.graph)).constructor!==Array&&(r=[r]),this.graph=r[0],this.slideCallbacks=[],this.build();for(var a=0;a<r.length;a++)r[a].onUpdate(function(){n.update()}.bind(n)),!function(e){r[e].onConfigure(function(){t(this.element)[0].style.width=r[e].width+"px"}.bind(n))}(a)},build:function(){var e,t=this.element,n=jQuery,r=this,a=this.graphs||this.graph;a.constructor!==Array&&(a=[a]),this.graph=a[0],e=a[0].dataDomain(),n(function(){n(t).slider({range:!0,min:e[0],max:e[1],values:[e[0],e[1]],start:function(e,t){r.slideStarted({event:e,ui:t})},stop:function(e,t){r.slideFinished({event:e,ui:t})},slide:function(e,t){if(r.slideShouldUpdate(e,t)&&!(t.values[1]<=t.values[0]))for(var n=0;n<a.length;n++)r.processSlideChange({event:e,ui:t,graph:a[n]})}})}),a[0].onConfigure(function(){n(this.element)[0].style.width=a[0].width+"px"}.bind(this))},update:function(){var e=this.element,t=this.graph,n=jQuery,r=n(e).slider("option","values"),a=t.dataDomain();n(e).slider("option","min",a[0]),n(e).slider("option","max",a[1]),null==t.window.xMin&&(r[0]=a[0]),null==t.window.xMax&&(r[1]=a[1]),n(e).slider("option","values",r)},onSlide:function(e){this.slideCallbacks.push(e)},processSlideChange:function(e){e.event;var t=e.ui,n=e.graph,e=(n.window.xMin=t.values[0],n.window.xMax=t.values[1],n.update(),n.dataDomain());e[0]==t.values[0]&&(n.window.xMin=void 0),e[1]==t.values[1]&&(n.window.xMax=void 0),this.slideCallbacks.forEach(function(e){e(n,n.window.xMin,n.window.xMax)})},slideShouldUpdate:function(){return!0},slideStarted:function(){},slideFinished:function(){}}),p.namespace("Rickshaw.Graph.RangeSlider.Preview"),p.Graph.RangeSlider.Preview=p.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=m.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(e){this.slideCallbacks.push(e)},onConfigure:function(e){this.configureCallbacks.push(e)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),p.keys(this.defaults).forEach(function(e){this.config[e]=(e in t?t:e in this.config?this.config:this.defaults)[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(e){var t=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;e.setSize({width:n,height:t}),this.svg&&(e=t+2*this.config.frameHandleThickness,t=n+2*this.config.frameHandleThickness,this.svg.style("width",t+"px"),this.svg.style("height",e+"px"))},this))},render:function(){var o=this,e=(this.svg=m.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth],m.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs)),t="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)",t=(e.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",t).style("-moz-transform",t).style("-ms-transform",t).style("transform",t).each(function(e,t){var n=p.extend({},e.config),r=o.previewHeight/o.graphs.length,a=e.renderer.name,i=(p.extend(n,{element:this.appendChild(document.createElement("div")),height:r,width:o.previewWidth,series:e.series,renderer:a}),new p.Graph(n));o.previews.push(i),e.onUpdate(function(){i.render(),o.render()}),e.onConfigure(function(e){delete e.height,e.width=e.width-2*o.config.frameHandleThickness,i.configure(e),i.render()}),i.render()}),e.exit().remove(),this.graphs[0]),e=m.scale.linear().domain([0,this.previewWidth]).range(t.dataDomain()),t=[t.window.xMin,t.window.xMax];this.currentFrame[0]=void 0===t[0]?0:Math.round(e.invert(t[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===t[1]?this.previewWidth:e.invert(t[1]),this.currentFrame[1]-this.currentFrame[0]<o.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+o.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var e=this.svg.selectAll("path.dimming").data([null]),t=(e.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0),""),t=(t=(t=(t=(t=(t=(t=(t+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness)+(" h "+this.previewWidth))+(" v "+this.previewHeight))+(" h "+-this.previewWidth)+" z ")+(" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness))+(" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness)))+(" v "+this.previewHeight))+(" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness));e.attr("d",t+=" z")},_renderFrame:function(){var e=this.svg.selectAll("path.frame").data([null]),t=(e.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0),""),t=(t=(t=(t=(t=(t=(t=(t+=" M "+this.currentFrame[0]+" 0")+(" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness)))+(" V "+this.config.height))+(" H "+this.currentFrame[0]))+" z"+(" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness))+(" H "+(this.currentFrame[1]+this.config.frameHandleThickness)))+(" v "+this.previewHeight))+(" H "+(this.currentFrame[0]+this.config.frameHandleThickness));e.attr("d",t+=" z")},_renderGrippers:function(){var e=this.svg.selectAll("path.gripper").data([null]),t=(e.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0),"");[.4,.6].forEach(function(e){t=(t=(t=(t+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*e)+" "+Math.round(.3*this.config.height))+" V "+Math.round(.7*this.config.height))+" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+e))+" "+Math.round(.3*this.config.height))+" V "+Math.round(.7*this.config.height)}.bind(this)),e.attr("d",t)},_renderHandles:function(){var e=this.svg.selectAll("rect.left_handle").data([null]),e=(e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),e.attr("x",this.currentFrame[0]).attr("height",this.config.height),this.svg.selectAll("rect.right_handle").data([null]));e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var e=this.svg.selectAll("rect.middle_handle").data([null]);e.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),e.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){var e=m.select(this.element),i={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},o=this;function t(e,t){i.stop=o._getClientXFromEvent(m.event,i);var n=i.stop-i.start,r=o.frameBeforeDrag.slice(0),a=o.config.minimumFrameWidth;i.rigid&&(a=o.frameBeforeDrag[1]-o.frameBeforeDrag[0]),i.left&&(r[0]=Math.max(r[0]+n,0)),i.right&&(r[1]=Math.min(r[1]+n,o.previewWidth)),r[1]-r[0]<=a&&(i.left&&(r[0]=r[1]-a),i.right&&(r[1]=r[0]+a),r[0]<=0&&(r[1]-=r[0],r[0]=0),r[1]>=o.previewWidth)&&(r[0]-=r[1]-o.previewWidth,r[1]=o.previewWidth),o.graphs.forEach(function(t){var e=m.scale.linear().interpolate(m.interpolateNumber).domain([0,o.previewWidth]).range(t.dataDomain()),n=[e(r[0]),e(r[1])];o.slideCallbacks.forEach(function(e){e(t,n[0],n[1])}),0===r[0]&&(n[0]=void 0),r[1]===o.previewWidth&&(n[1]=void 0),t.window.xMin=n[0],t.window.xMax=n[1],t.update()})}function n(){i.target=m.event.target,i.start=o._getClientXFromEvent(m.event,i),o.frameBeforeDrag=o.currentFrame.slice(),m.event.preventDefault?m.event.preventDefault():m.event.returnValue=!1,m.select(document).on("mousemove.rickshaw_range_slider_preview",t),m.select(document).on("mouseup.rickshaw_range_slider_preview",l),m.select(document).on("touchmove.rickshaw_range_slider_preview",t),m.select(document).on("touchend.rickshaw_range_slider_preview",l),m.select(document).on("touchcancel.rickshaw_range_slider_preview",l)}function r(e,t){i.left=!0,n()}function a(e,t){i.right=!0,n()}function s(e,t){i.left=!0,i.right=!0,i.rigid=!0,n()}function l(e,t){m.select(document).on("mousemove.rickshaw_range_slider_preview",null),m.select(document).on("mouseup.rickshaw_range_slider_preview",null),m.select(document).on("touchmove.rickshaw_range_slider_preview",null),m.select(document).on("touchend.rickshaw_range_slider_preview",null),m.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete o.frameBeforeDrag,i.left=!1,i.right=!1,i.rigid=!1}e.select("rect.left_handle").on("mousedown",r),e.select("rect.right_handle").on("mousedown",a),e.select("rect.middle_handle").on("mousedown",s),e.select("rect.left_handle").on("touchstart",r),e.select("rect.right_handle").on("touchstart",a),e.select("rect.middle_handle").on("touchstart",s)},_getClientXFromEvent:function(e,t){switch(e.type){case"touchstart":case"touchmove":for(var n=e.changedTouches,r=null,a=0;a<n.length;a++)if(n[a].target===t.target){r=n[a];break}return null!==r?r.clientX:void 0;default:return e.clientX}}}),p.namespace("Rickshaw.Graph.Renderer"),p.Graph.Renderer=p.Class.create({initialize:function(e){this.graph=e.graph,this.tension=e.tension||this.tension,this.configure(e)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1,opacity:1}},domain:function(e){var e=(e=e||this.graph.stackedData||this.graph.stackData()).filter(function(e){return e&&0!==e.length}),t=1/0,n=-1/0,r=1/0,a=-1/0;return e.forEach(function(e){e.forEach(function(e){null!=e.y&&((e=e.y+e.y0)<r&&(r=e),a<e)&&(a=e)}),e.length&&(e[0].x<t&&(t=e[0].x),e[e.length-1].x>n)&&(n=e[e.length-1].x)}),t-=(n-t)*this.padding.left,n+=(n-t)*this.padding.right,r="auto"===this.graph.min?r:this.graph.min||0,a=void 0===this.graph.max?a:this.graph.max,("auto"===this.graph.min||r<0)&&(r-=(a-r)*this.padding.bottom),void 0===this.graph.max&&(a+=(a-r)*this.padding.top),{x:[t,n],y:[r,a]}},render:function(e){var t,n=this.graph,r=(e=e||{}).series||n.series,e=e.vis||n.vis,n=(e.selectAll("*").remove(),r.filter(function(e){return!e.disabled}).map(function(e){return e.stack})),a=e.selectAll("path.path").data(n).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory()),i=(this.stroke&&(t=e.selectAll("path.stroke").data(n).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory())),0);r.forEach(function(e){e.disabled||(e.path=a[0][i],this.stroke&&(e.stroke=t[0][i]),this._styleSeries(e),i++)},this)},_styleSeries:function(e){var t=this.fill?e.color:"none",n=this.stroke?e.color:"none",r=e.strokeWidth||this.strokeWidth,a=(void 0===e.opacity?this:e).opacity;e.path.setAttribute("fill",t),e.path.setAttribute("stroke",n),e.path.setAttribute("stroke-width",r),e.path.setAttribute("opacity",a),e.className&&m.select(e.path).classed(e.className,!0),e.className&&this.stroke&&m.select(e.stroke).classed(e.className,!0)},configure:function(n){n=n||{},p.keys(this.defaults()).forEach(function(t){n.hasOwnProperty(t)?"object"==typeof this.defaults()[t]?p.keys(this.defaults()[t]).forEach(function(e){this[t][e]=(void 0!==n[t][e]?n:void 0!==this[t][e]?this:this.defaults())[t][e]},this):this[t]=(void 0!==n[t]?n:void 0!==this[t]?this:void 0!==this.graph[t]?this.graph:this.defaults())[t]:this[t]=this[t]||this.graph[t]||this.defaults()[t]},this)},setStrokeWidth:function(e){void 0!==e&&(this.strokeWidth=e)},setTension:function(e){void 0!==e&&(this.tension=e)}}),p.namespace("Rickshaw.Graph.Renderer.Line"),p.Graph.Renderer.Line=p.Class.create(p.Graph.Renderer,{name:"line",defaults:function($super){return p.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var t=this.graph,e=m.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);return e.defined&&e.defined(function(e){return null!==e.y}),e}}),p.namespace("Rickshaw.Graph.Renderer.Stack"),p.Graph.Renderer.Stack=p.Class.create(p.Graph.Renderer,{name:"stack",defaults:function($super){return p.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var t=this.graph,e=m.svg.area().x(function(e){return t.x(e.x)}).y0(function(e){return t.y(e.y0)}).y1(function(e){return t.y(e.y+e.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return e.defined&&e.defined(function(e){return null!==e.y}),e}}),p.namespace("Rickshaw.Graph.Renderer.Bar"),p.Graph.Renderer.Bar=p.Class.create(p.Graph.Renderer,{name:"bar",defaults:function($super){$super=p.extend($super(),{gapSize:.05,unstack:!1,opacity:1});return delete $super.tension,$super},initialize:function($super,e){this.gapSize=(e=e||{}).gapSize||this.gapSize,$super(e)},domain:function($super){var $super=$super(),e=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return $super.x[1]+=Number(e.magnitude),$super},barWidth:function(e){e=this._frequentInterval(e.stack);return this.graph.x.magnitude(e.magnitude)*(1-this.gapSize)},render:function(e){function n(e){return"matrix("+[1,0,0,e.y<0?-1:1,0,e.y<0?2*r.y.magnitude(Math.abs(e.y)):0].join(",")+")"}var r=this.graph,t=(e=e||{}).series||r.series,a=e.vis||r.vis,e=(a.selectAll("*").remove(),this.barWidth(t.active()[0])),i=0,o=t.filter(function(e){return!e.disabled}).length,s=this.unstack?e/o:e;t.forEach(function(t){var e;t.disabled||(this.barWidth(t),e=a.selectAll("path").data(t.stack.filter(function(e){return null!==e.y})).enter().append("svg:rect").attr("x",function(e){return r.x(e.x)+i}).attr("y",function(e){return r.y(e.y0+Math.abs(e.y))*(e.y<0?-1:1)}).attr("width",s).attr("height",function(e){return r.y.magnitude(Math.abs(e.y))}).attr("opacity",t.opacity).attr("transform",n),Array.prototype.forEach.call(e[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(i+=s))},this)},_frequentInterval:function(e){for(var t={},n=0;n<e.length-1;n++){var r=e[n+1].x-e[n].x;t[r]=t[r]||0,t[r]++}var a={count:0,magnitude:1};return p.keys(t).sort(function(e,t){return Number(e)-Number(t)}).forEach(function(e){a.count<t[e]&&(a={count:t[e],magnitude:e})}),a}}),p.namespace("Rickshaw.Graph.Renderer.Area"),p.Graph.Renderer.Area=p.Class.create(p.Graph.Renderer,{name:"area",defaults:function($super){return p.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var t=this.graph,e=m.svg.area().x(function(e){return t.x(e.x)}).y0(function(e){return t.y(e.y0)}).y1(function(e){return t.y(e.y+e.y0)}).interpolate(t.interpolation).tension(this.tension);return e.defined&&e.defined(function(e){return null!==e.y}),e},seriesStrokeFactory:function(){var t=this.graph,e=m.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y+e.y0)}).interpolate(t.interpolation).tension(this.tension);return e.defined&&e.defined(function(e){return null!==e.y}),e},render:function(e){var t=this.graph,n=(e=e||{}).series||t.series,e=e.vis||t.vis,t=(e.selectAll("*").remove(),this.unstack?"append":"insert"),r=n.filter(function(e){return!e.disabled}).map(function(e){return e.stack}),a=e.selectAll("path").data(r).enter()[t]("svg:g","g"),i=(a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line"),0);n.forEach(function(e){e.disabled||(e.path=a[0][i++],this._styleSeries(e))},this)},_styleSeries:function(e){e.path&&(m.select(e.path).select(".area").attr("fill",e.color),this.stroke&&m.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||m.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className)&&e.path.setAttribute("class",e.className)}}),p.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),p.Graph.Renderer.ScatterPlot=p.Class.create(p.Graph.Renderer,{name:"scatterplot",defaults:function($super){return p.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,e){$super(e)},render:function(e){var r=this.graph,t=(e=e||{}).series||r.series,a=e.vis||r.vis,i=this.dotSize;a.selectAll("*").remove(),t.forEach(function(t){var n,e;t.disabled||(n=void 0===t.opacity?1:t.opacity,e=a.selectAll("path").data(t.stack.filter(function(e){return null!==e.y})).enter().append("svg:circle").attr("cx",function(e){return r.x(e.x)}).attr("cy",function(e){return r.y(e.y)}).attr("r",function(e){return"r"in e?e.r:i}).attr("opacity",function(e){return"opacity"in e?e.opacity:n}),t.className&&e.classed(t.className,!0),Array.prototype.forEach.call(e[0],function(e){e.setAttribute("fill",t.color)}))},this)}}),p.namespace("Rickshaw.Graph.Renderer.Multi"),p.Graph.Renderer.Multi=p.Class.create(p.Graph.Renderer,{name:"multi",initialize:function($super,e){$super(e)},defaults:function($super){return p.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,e){$super(this.config=e=e||{})},domain:function($super){this.graph.stackData();var r=[],e=this._groups();return this._stack(e),e.forEach(function(e){var t,n=e.series.filter(function(e){return!e.disabled}).map(function(e){return e.stack});n.length&&(t=null,t=e.renderer&&e.renderer.domain?e.renderer.domain(n):$super(n),r.push(t))}),{x:[m.min(r.map(function(e){return e.x[0]})),m.max(r.map(function(e){return e.x[1]}))],y:[m.min(r.map(function(e){return e.y[0]})),m.max(r.map(function(e){return e.y[1]}))]}},_groups:function(){var a=this.graph,i={},t=(a.series.forEach(function(e){var t,n,r;e.disabled||(i[e.renderer]||(t=document.createElementNS("http://www.w3.org/2000/svg","g"),a.vis[0][0].appendChild(t),n=a._renderers[e.renderer],r={},[this.defaults(),n.defaults(),this.config,this.graph].forEach(function(e){p.extend(r,e)}),n.configure(r),i[e.renderer]={renderer:n,series:[],vis:m.select(t)}),i[e.renderer].series.push(e))},this),[]);return Object.keys(i).forEach(function(e){t.push(i[e])}),t},_stack:function(e){return e.forEach(function(e){var n,t=e.series.filter(function(e){return!e.disabled}),r=t.map(function(e){return e.stack});e.renderer.unstack||(e=m.layout.stack(),n=p.clone(e(r)),t.forEach(function(e,t){e._stack=p.clone(n[t])}))},this),e},render:function(){this.graph.series.forEach(function(e){if(!e.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var e=this._groups();(e=this._stack(e)).forEach(function(e){var t=e.series.filter(function(e){return!e.disabled});t.active=function(){return t},e.renderer.render({series:t,vis:e.vis}),t.forEach(function(e){e.stack=e._stack||e.stack||e.data})})}}),p.namespace("Rickshaw.Graph.Renderer.LinePlot"),p.Graph.Renderer.LinePlot=p.Class.create(p.Graph.Renderer,{name:"lineplot",defaults:function($super){return p.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var t=this.graph,e=m.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);return e.defined&&e.defined(function(e){return null!==e.y}),e},render:function(e){var n=this.graph,t=(e=e||{}).series||n.series,r=e.vis||n.vis,a=this.dotSize,e=(r.selectAll("*").remove(),t.filter(function(e){return!e.disabled}).map(function(e){return e.stack})),i=r.selectAll("path").data(e).enter().append("svg:path").attr("d",this.seriesPathFactory()),o=0;t.forEach(function(e){e.disabled||(e.path=i[0][o++],this._styleSeries(e))},this),t.forEach(function(t){var e;t.disabled||(e=r.selectAll("x").data(t.stack.filter(function(e){return null!==e.y})).enter().append("svg:circle").attr("cx",function(e){return n.x(e.x)}).attr("cy",function(e){return n.y(e.y)}).attr("r",function(e){return"r"in e?e.r:a}),Array.prototype.forEach.call(e[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this)))},this)}}),p.namespace("Rickshaw.Graph.Smoother"),p.Graph.Smoother=p.Class.create({initialize:function(e){this.graph=e.graph,this.element=e.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var n=this,e=jQuery;this.element&&e(function(){e(n.element).slider({min:1,max:100,slide:function(e,t){n.setScale(t.value)}})})},setScale:function(e){if(e<1)throw"scale out of range: "+e;this.aggregationScale=e,this.graph.update()},transformer:function(e){var i;return 1==this.aggregationScale?e:(i=[],e.forEach(function(e){for(var t=[];e.length;){var n=0,r=0,a=e.splice(0,this.aggregationScale);a.forEach(function(e){n+=e.x/a.length,r+=e.y/a.length}),t.push({x:n,y:r})}i.push(t)}.bind(this)),i)}}),p.namespace("Rickshaw.Graph.Socketio"),p.Graph.Socketio=p.Class.create(p.Graph.Ajax,{request:function(){var e=io.connect(this.dataURL),t=this;e.on("rickshaw",function(e){t.success(e)})}}),p.namespace("Rickshaw.Series"),p.Series=p.Class.create(Array,{initialize:function(e,t,n){n=n||{},this.palette=new p.Color.Palette(t),this.timeBase=void 0===n.timeBase?Math.floor((new Date).getTime()/1e3):n.timeBase;t=void 0===n.timeInterval?1e3:n.timeInterval;this.setTimeInterval(t),e&&"object"==typeof e&&Array.isArray(e)&&e.forEach(function(e){this.addItem(e)},this)},addItem:function(t){if(void 0===t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&0<this.getIndex()?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,n){var r=this.getIndex();p.keys(t).forEach(function(e){this.itemByName(e)||this.addItem({name:e})},this),this.forEach(function(e){e.data.push({x:n||(r*this.timeInterval||1)+this.timeBase,y:t[e.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(e){for(var t=0;t<this.length;t++)if(this[t].name==e)return this[t]},setTimeInterval:function(e){this.timeInterval=e/1e3},setTimeBase:function(e){this.timeBase=e},dump:function(){var n={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var t={color:e.color,name:e.name,data:[]};e.data.forEach(function(e){t.data.push({x:e.x,y:e.y})}),n.items.push(t)}),n},load:function(e){e.timeInterval&&(this.timeInterval=e.timeInterval),e.timeBase&&(this.timeBase=e.timeBase),e.items&&e.items.forEach(function(e){this.push(e),this.legend&&this.legend.addLine(this.itemByName(e.name))},this)}}),p.Series.zeroFill=function(e){p.Series.fill(e,0)},p.Series.fill=function(e,t){for(var n,r=0,a=e.map(function(e){return e.data});r<Math.max.apply(null,a.map(function(e){return e.length}));)n=Math.min.apply(null,a.filter(function(e){return e[r]}).map(function(e){return e[r].x})),a.forEach(function(e){e[r]&&e[r].x==n||e.splice(r,0,{x:n,y:t})}),r++},p.namespace("Rickshaw.Series.FixedDuration"),p.Series.FixedDuration=p.Class.create(p.Series,{initialize:function(e,t,n){if(void 0===(n=n||{}).timeInterval)throw new Error("FixedDuration series requires timeInterval");if(void 0===n.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new p.Color.Palette(t),this.timeBase=void 0===n.timeBase?Math.floor((new Date).getTime()/1e3):n.timeBase,this.setTimeInterval(n.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=n.maxDataPoints,e&&"object"==typeof e&&Array.isArray(e)&&(e.forEach(function(e){this.addItem(e)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,void 0!==this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var r=this.maxDataPoints-this.currentSize-1;1<r;r--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(e){e.data.unshift({x:((r-1)*this.timeInterval||1)+this.timeBase,y:0,i:r})},this)},addData:function($super,e,t){if($super(e,t),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(e){e.data.splice(0,1)}),--this.currentSize},getIndex:function(){return this.currentIndex}}),p}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof t.define&&t.define.amd?define(e):t.li=e()}(function(){var l=/^;\s*([^"=]+)=(?:"([^"]+)"|([^";,]+)(?:[;,]|$))/,c=/^<([^>]*)>/,u=/^\s*,\s*/;return{parse:function(e,t){for(var n,r,a,t=t&&t.extended||!1,i=[];e&&(e=e.trim(),r=c.exec(e));){for(var o={link:r[1]},s=(e=e.slice(r[0].length)).match(u);e&&(!s||0<s.index)&&(n=l.exec(e));)s=(e=e.slice(n[0].length)).match(u),"rel"===n[1]||"rev"===n[1]?(a=(n[2]||n[3]).split(/\s+/),o[n[1]]=a):o[n[1]]=n[2]||n[3];i.push(o),e=e.replace(u,"")}return t?i:i.reduce(function(t,n){return n.rel&&n.rel.forEach(function(e){t[e]=n.link}),t},{})},stringify:function(n){var r=Object.keys(n).reduce(function(e,t){return e[n[t]]=e[n[t]]||[],e[n[t]].push(t),e},{});return Object.keys(r).reduce(function(e,t){return e.concat("<"+t+'>; rel="'+r[t].join(" ")+'"')},[]).join(", ")}}},this),function(){"use strict";angular.module("app",["angular-filters","angular-loading-bar","angular-locker","angular-intercom","angular-rickshaw","angular-stripe","cfp.hotkeys","checklist-model","debounce","ngAnimate","restangular","satellizer","ui.bootstrap","ui.gravatar","ui.router","xeditable","dialogs.main","exceptionless","exceptionless.translate","exceptionless.analytics","exceptionless.auth","exceptionless.auto-active","exceptionless.billing","exceptionless.date-filter","exceptionless.event","exceptionless.events","exceptionless.filter","exceptionless.intercom","exceptionless.loading-bar","exceptionless.notification","exceptionless.organization","exceptionless.organization-notifications","exceptionless.project","exceptionless.project-filter","exceptionless.rate-limit","exceptionless.refresh","exceptionless.release-notification","exceptionless.search-filter","exceptionless.stack","exceptionless.stacks","exceptionless.state","exceptionless.system-notification","exceptionless.translate","exceptionless.ui-nav","exceptionless.ui-scroll","exceptionless.ui-shift","exceptionless.ui-toggle-class","exceptionless.user","exceptionless.websocket","app.account","app.admin","app.auth","app.config","app.event","app.organization","app.payment","app.project","app.reports","app.session","app.stack","app.status"]).config(["$compileProvider","$httpProvider","$locationProvider","$stateProvider","$uiViewScrollProvider","$urlRouterProvider","$translateProvider","dialogsProvider","gravatarServiceProvider","RestangularProvider","BASE_URL","EXCEPTIONLESS_API_KEY","EXCEPTIONLESS_SERVER_URL","$ExceptionlessClient","stripeProvider","STRIPE_PUBLISHABLE_KEY","USE_HTML5_MODE",function(e,t,n,r,a,i,o,s,l,c,u,d,p,f,h,m,g){var v=(navigator.language||navigator.browserLanguage||"").toLocaleLowerCase();function b(e,t,n,r){e.setOrganizationId(t,!0),e.setProjectId(n,!0),e.setEventType(r,!0)}"zh-cn"!==v&&(v="en-us"),moment.locale(v),o.useSanitizeValueStrategy("escapeParameters"),o.useStaticFilesLoader({prefix:"/lang/",suffix:".json"}),o.preferredLanguage(v).fallbackLanguage("en-us"),e.debugInfoEnabled(!1),t.useApplyAsync(!0),d&&((o=f.config).apiKey=d,o.serverUrl=p||u,o.defaultTags.push("UI"),o.setVersion("2.0.0-dev"),o.useReferenceIds(),o.useSessions()),n.html5Mode({enabled:"boolean"==typeof g&&g||"true"===g,requireBase:!1}),a.useAnchorScroll(),s.setSize("md"),l.defaults={default:"mm"},c.setBaseUrl(u+"/api/v2"),c.setFullResponse(!0),c.setDefaultHttpFields({timeout:1e4}),m&&h.setPublishableKey(m),r.state("app",{abstract:!0,templateUrl:"app/app.tpl.html",controller:"App",controllerAs:"appVm",data:{requireAuthentication:!0},resolve:{translateReady:["$translate",function(e){return e.onReady()}]}});var y=["filterService",function(e){e.setEventType(null,!0)}],v=([{key:"frequent",title:"Most Frequent",controller:"app.Frequent"},{key:"recent",title:"Most Frequent",controller:"app.Frequent",templateUrl:"app/frequent.tpl.html",redirectToKey:"frequent"},{key:"new",title:"New Stacks",controller:"app.New"},{key:"users",title:"Most Users",controller:"app.Users"},{key:"events",title:"Events",controller:"app.Events"},{key:"timeline",title:"Events",controller:"app.Events",templateUrl:"app/events.tpl.html",redirectToKey:"events"},{key:"dashboard",title:"Events",controller:"app.Events",templateUrl:"app/events.tpl.html",redirectToKey:"events"}].forEach(function(a){var e={controller:a.controller,controllerAs:"vm",templateUrl:a.templateUrl||"app/"+a.key+".tpl.html",title:a.title};r.state("app."+a.key,angular.extend({},{url:"/"+a.key,onEnter:["$state","$stateParams","$timeout","filterService",function(e,t,n,r){if(a.redirectToKey)return n(function(){e.transitionTo("app."+a.redirectToKey,t)});b(r,null,null,null)}]},e)),r.state("app.project-"+a.key,angular.extend({},{url:"/project/{projectId:[0-9a-fA-F]{24}}/"+a.key,onEnter:["$state","$stateParams","$timeout","filterService",function(e,t,n,r){if(a.redirectToKey)return n(function(){e.transitionTo("app.project-"+a.redirectToKey,t)});b(r,null,t.projectId,null)}]},e)),r.state("app.project-type-"+a.key,angular.extend({},{url:"/project/{projectId:[0-9a-fA-F]{24}}/:type/"+a.key,onEnter:["$state","$stateParams","$timeout","filterService",function(e,t,n,r){return"session"===t.type?n(function(){e.transitionTo("app.session-project-events",t)}):a.redirectToKey?n(function(){e.transitionTo("app.project-type-"+a.redirectToKey,t)}):void b(r,null,t.projectId,t.type)}],onExit:y},e)),r.state("app.organization-"+a.key,angular.extend({},{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/"+a.key,onEnter:["$state","$stateParams","$timeout","filterService",function(e,t,n,r){if(a.redirectToKey)return n(function(){e.transitionTo("app.organization-"+a.redirectToKey,t)});b(r,t.organizationId,null,null)}]},e)),r.state("app.organization-type-"+a.key,angular.extend({},{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/:type/"+a.key,onEnter:["$state","$stateParams","$timeout","filterService",function(e,t,n,r){return"session"===t.type?n(function(){e.transitionTo("app.session-organization-events",t)}):a.redirectToKey?n(function(){e.transitionTo("app.organization-type-"+a.redirectToKey,t)}):void b(r,t.organizationId,null,t.type)}],onExit:y},e)),r.state("app.type-"+a.key,angular.extend({},{url:"/type/:type/"+a.key,onEnter:["$state","$stateParams","$timeout","filterService",function(e,t,n,r){return"session"===t.type?n(function(){e.transitionTo("app.session-events",t)}):a.redirectToKey?n(function(){e.transitionTo("app.type-"+a.redirectToKey,t)}):void b(r,null,null,t.type)}],onExit:y},e))}),["authService","$location","$state","$timeout",function(e,t,n,r){if(!t.search().code)return r(function(){e.isAuthenticated()?n.transitionTo("app.type-frequent",{type:"error"}):n.transitionTo("auth.login")})}]);r.state("loading",{url:"",template:null,onEnter:v}),r.state("loading-slash",{url:"/",template:null,onEnter:v}),r.state("otherwise",{url:"*path",templateUrl:"app/not-found.tpl.html",onEnter:["$stateParams",function(e){f.createNotFound(e.path).setProperty("$stateParams",e).submit()}]})}]).run(["$http","$rootScope","$state","authService","editableOptions","$location","rateLimitService","Restangular","stateService","USE_SSL","$window",function(i,r,o,a,e,t,s,n,l,c,u){u.top.location.hostname!==u.self.location.hostname&&(u.top.location.href=u.self.location.href),("boolean"==typeof c&&c||"true"===c)&&"https"!==t.protocol()&&(u.location.href=t.absUrl().replace("http","https")),e.theme="bs3",n.setErrorInterceptor(function(e,t,n){function r(e){return"status"===o.current.name||0!==e.status&&503!==e.status?401===e.status?(l.save(["auth."]),o.go("auth.login"),1):409===e.status:(l.save(["auth.","status"]),o.go("status",{redirect:!0}),1)}s.updateFromResponseHeader(e);var a=o.current.name;return!(!a||!a.startsWith("auth.")||401!==e.status)||("status"===a||0!==e.status&&503!==e.status?!r(e):(i(e.config).then(n,function(e){r(e)||t.reject(e)}),!1))}),r.page={setTitle:function(e){this.title=e?e+" - Exceptionless":"Exceptionless"}},r.$on("$stateChangeStart",function(e,t,n){t&&t.data&&t.data.requireAuthentication&&(a.isAuthenticated()||(e.preventDefault(),l.saveRequested(["auth."],t.name,n),o.transitionTo("auth.login")),r.page.setTitle(t.title))})}])}(),function(){"use strict";angular.module("exceptionless.admin",["restangular"]).factory("adminService",["Restangular",function(t){return{changePlan:function(e){return t.one("admin").customPOST(null,"change-plan",e)}}}])}(),function(){"use strict";angular.module("exceptionless.analytics",["angular-locker","angulartics","angulartics.google.tagmanager"]).config(["$analyticsProvider",function(e){e.registerPageTrack(function(e){window.fbq&&fbq("track","PageView")}),e.registerEventTrack(function(e,t){window.fbq&&(t=t||{},-1===["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration"].indexOf(e)?fbq("trackCustom",e,t):fbq("track",e,t))})}]).factory("analyticsService",["$analytics","locker",function(n,e){var r=e.driver("session").namespace("analytics");return{addPaymentInfo:function(){return n.eventTrack("AddPaymentInfo")},completeRegistration:function(e){var t={};return e&&(e.domain||e.medium||e.type||e.campaign||e.content||e.keyword)&&(t={marketing_domain:e.domain,marketing_medium:e.medium,marketing_type:e.type,marketing_campaign:e.campaign,marketing_content:e.content,marketing_keyword:e.keyword},r.put("registration",t)),n.eventTrack("CompleteRegistration",t)},getRegistrationQueryStringData:function(){return r.get("registration")||{}},initiateCheckout:function(){return n.eventTrack("InitiateCheckout")},lead:function(e){return n.eventTrack("Lead",e)},purchase:function(e){return n.eventTrack("Purchase",e)}}}])}(),function(){"use strict";angular.module("exceptionless.auth",["restangular","satellizer","ui.router","exceptionless","exceptionless.state"]).factory("authService",["$auth","$ExceptionlessClient","$rootScope","$state","stateService","Restangular",function(r,a,i,o,s,l){function n(e){a.config.setUserIdentity({identity:e.email,data:{InviteToken:e.invite_token}}),a.submitSessionStart(),i.$emit("auth:login",{})}return{authenticate:function(e,t){return r.authenticate(e,t||{}).then(function(){i.$emit("auth:login",{})})},cancelResetPassword:function(e){return l.one("auth","cancel-reset-password").one(e).post()},changePassword:function(e){return l.one("auth","change-password").customPOST(e).then(function(e){return r.setToken(e.data.token),e})},forgotPassword:function(e){return l.one("auth","forgot-password").one(e).get()},getToken:function(){return r.getToken()},isAuthenticated:function(){return r.isAuthenticated()},isEmailAddressAvailable:function(e){return l.one("auth","check-email-address").one(e).get()},login:function(e){return r.login(e).then(function(){n(e)})},logout:function(t,n){function e(){function e(){if(a.submitSessionEnd(),a.config.setUserIdentity(),i.$emit("auth:logout",{}),t)return s.save(["auth."]),o.go("auth.login",n)}return s.clear(),r.logout().then(e,e)}return l.one("auth","logout").get().then(e,e)},resetPassword:function(e){return l.one("auth","reset-password").customPOST(e)},signup:function(t){return r.signup(t).then(function(e){return r.setToken(e.data.token),n(t),e})},unlink:function(e,t){return l.one("auth","unlink").one(e).customPOST({value:t}).then(function(e){return r.setToken(e.data.token),e})}}}])}(),function(){"use strict";angular.module("exceptionless.auto-active",[]).directive("autoActive",["$location","$timeout",function(o,s){return{restrict:"A",scope:!1,link:function(t,e,r){function n(){function n(e){e+="(?=\\?|$)";return o.absUrl().match(e)}o.path()&&(angular.forEach(e.find("li"),function(e){var t=e.querySelector("a");t&&t.href&&(n(t.href)?angular.element(e).addClass("active"):angular.element(e).removeClass("active"))}),r)&&r.href&&(n(r.href)?e.addClass("active"):e.removeClass("active"))}function a(){var e=s(n,100);t.$on("$destroy",function(){s.cancel(e)})}a();var i=t.$on("$locationChangeSuccess",a);t.$on("$destroy",function(){i()})}}}])}(),function(){"use strict";angular.module("exceptionless.autofocus",[]).directive("autofocus",["$timeout",function(a){return{restrict:"A",scope:!1,link:function(e,t,n){var r=a(function(){t[0].focus()});e.$on("$destroy",function(){a.cancel(r)})}}}])}(),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).angularStripe=e()}(function(){return function r(a,i,o){function s(n,e){if(!i[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=i[n]={exports:{}};a[n][0].call(t.exports,function(e){var t=a[n][1][e];return s(t||e)},t,t.exports,r,a,i,o)}return i[n].exports}for(var l="function"==typeof require&&require,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,n,t){!function(e){"use strict";e="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null;function t(t){return function(e){if("function"!=typeof t)throw new Error(e||"$q is not a function")}}n.exports=e.module("assert-q-constructor",[]).factory("assertQConstructor",t).name,t.$inject=["$q"]}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(n,r,e){!function(e){"use strict";var t=n("./promisify");r.exports=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).module("promisify",[]).service("promisify",t).name}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./promisify":3}],3:[function(r,i,e){!function(e){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=r("assert-function"),u=r("to-array");function t(t,c){function r(s,l){function e(){var o=arguments;return t(function(e,t){var r,a,i,n=c.$apply.bind(c);try{s.apply(l,u(o).concat((r=n,a=e,i=t,function(e,t){var n=arguments;r(function(){return e?i(e):n.length<=2?a(t):void a(u(n,1))})})))}catch(e){setTimeout(function(){n(function(){t(e)})})}})}return l=l||{},"string"==typeof s&&(s=l[s]),n(s),e.__isPromisifed__=!0,e}return a.extend(r,{promisifyAll:function(n){return a.forEach(n,function(e,t){t+="Async",e&&"function"==typeof e&&!e.__isPromisifed__&&(n[t]=r(e,n))})}})}(i.exports=t).$inject=["$q","$rootScope"]}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"assert-function":10,"to-array":31}],4:[function(e,t,n){var r=e("is-number"),a=e("array-slice");t.exports=function(e,t){if(Array.isArray(e))return 0===e.length?null:(e=a(e,e.length-(r(t)?+t:1)),1==+t||null==t?e[0]:e);throw new Error("array-last expects an array as the first argument.")}},{"array-slice":6,"is-number":5}],5:[function(e,t,n){"use strict";t.exports=function(e){return!!+e||0===e||"0"===e}},{}],6:[function(e,t,n){"use strict";function i(e,t,n){e=e.length>>>0;return t=null==t?n||0:t<0?Math.max(e+t,0):Math.min(t,e)}t.exports=function(e,t,n){var r=e.length>>>0,a=[];for(t=i(e,t),n=i(e,n,r);t<n;)a.push(e[t++]);return a}},{}],7:[function(e,t,n){"use strict";var r=e("./raw"),a=[],i=[],o=r.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function s(e){var t=a.length?a.pop():new l;t.task=e,r(t)}function l(){this.task=null}t.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(i.push(e),o())}finally{this.task=null,a[a.length]=this}}},{"./raw":8}],8:[function(e,c,t){!function(e){"use strict";function t(e){r.length||(n(),0),r[r.length]=e}c.exports=t;var n,r=[],a=0;function i(){for(;a<r.length;){var e=a;if(a+=1,r[e].call(),1024<a){for(var t=0,n=r.length-a;t<n;t++)r[t]=r[t+a];r.length-=a,a=0}}r.length=0,a=0,0}var o,s,e=e.MutationObserver||e.WebKitMutationObserver;function l(r){return function(){var e=setTimeout(n,0),t=setInterval(n,50);function n(){clearTimeout(e),clearInterval(t),r()}}}n="function"==typeof e?(o=1,e=new e(e=i),s=document.createTextNode(""),e.observe(s,{characterData:!0}),function(){o=-o,s.data=o}):l(i),t.requestFlush=n,t.makeRequestCallFromTimer=l}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){"use strict";var r=e("assert-ok"),a=e("simple-format"),i=e("print-value");t.exports=function(e,t){r(e===t,a("expected `%s` to equal `%s`",i(e),i(t)))}},{"assert-ok":11,"print-value":27,"simple-format":29}],10:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected function, got: "+e)}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){if(!e)throw new Error(t||"Expected true, got "+e)}},{}],12:[function(e,t,n){"use strict";var r=e("to-array");t.exports=function(e){return e=Array.isArray(e)?e:r(arguments),function(){var t=arguments;return e.map(function(e){return e.apply(null,t)})}}},{"to-array":31}],13:[function(e,c,t){!function(e){"use strict";function a(){return l((Math.random()*n<<0).toString(s),r)}function i(){return t=t<n?t:0,++t-1}function o(){var e=(new Date).getTime().toString(s),t=o.fingerprint(),n=a()+a();return"c"+e+l(i().toString(s),r)+t+n}var t=0,r=4,s=36,n=Math.pow(s,r),l=function(e,t){e="000000000"+e;return e.substr(e.length-t)};o.slug=function(){var e=(new Date).getTime().toString(36),t=o.fingerprint().slice(0,1)+o.fingerprint().slice(-1),n=a().slice(-2),r=i().toString(36).slice(-4);return e.slice(-2)+r+t+n},o.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return o.globalCount=function(){return e},e},o.fingerprint=function(){return l((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+o.globalCount().toString(36),4)},e.register?e.register("cuid",o):void 0!==c?c.exports=o:e.cuid=o}(this.applitude||this)},{}],14:[function(e,t,n){var r=e("wrappy"),a=(t.exports=r(function(n){var r=!0;return a(function(){r=!1}),function(){var e=arguments,t=this;r?a(function(){n.apply(t,e)}):n.apply(t,e)}}),e("asap"))},{asap:7,wrappy:32}],15:[function(e,t,n){"use strict";var o=e("is-obj");function s(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){for(var a=t[r];"\\"===a[a.length-1]&&void 0!==t[r+1];)a=a.slice(0,-1)+".",a+=t[++r];n.push(a)}return n}t.exports.get=function(e,t){if(o(e)&&"string"==typeof t)for(var n=s(t),r=0;r<n.length;r++){var a=Object.getOwnPropertyDescriptor(e,n[r])||Object.getOwnPropertyDescriptor(Object.prototype,n[r]);if(a&&!a.enumerable)return;if(null==(e=e[n[r]])){if(r!==n.length-1)return;break}}return e},t.exports.set=function(e,t,n){if(o(e)&&"string"==typeof t)for(var r=s(t),a=0;a<r.length;a++){var i=r[a];o(e[i])||(e[i]={}),a===r.length-1&&(e[i]=n),e=e[i]}},t.exports.delete=function(e,t){if(o(e)&&"string"==typeof t)for(var n=s(t),r=0;r<n.length;r++){var a=n[r];if(r===n.length-1)return void delete e[a];e=e[a]}},t.exports.has=function(e,t){if(!o(e)||"string"!=typeof t)return!1;for(var n=s(t),r=0;r<n.length;r++)if(void 0===(e=e[n[r]]))return!1;return!0}},{"is-obj":18}],16:[function(e,t,n){"use strict";var a=e("assert-function");t.exports=function(){var r=[];function e(){for(var e=arguments,t=0,n=r.length;t<n;t++)r[t].apply(null,e)}return e.add=function(n){return a(n),r.push(n),function(){for(var e=0,t=r.length;e<t;e++)if(r[e]===n)return void r.splice(e,1)}},e}},{"assert-function":10}],17:[function(e,t,n){!function(e){e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};t.exports=e}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}},{}],19:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],20:[function(e,t,n){"use strict";var r=e("isarray");t.exports=function(e){return null!=e&&"object"==typeof e&&!r(e)}},{isarray:19}],21:[function(e,t,n){function a(r,a){var i=[],o=[];return null==a&&(a=function(e,t){return i[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,i.indexOf(t)).join(".")+"]"}),function(e,t){var n;return 0<i.length?(~(n=i.indexOf(this))?i.splice(n+1):i.push(this),~n?o.splice(n,1/0,e):o.push(e),~i.indexOf(t)&&(t=a.call(this,e,t))):i.push(t),null==r?t:r.call(this,e,t)}}(n=t.exports=function(e,t,n,r){return JSON.stringify(e,a(t,r),n)}).getSerialize=a},{}],22:[function(e,t,n){"use strict";var r=e("assert-ok"),a=e("assert-equal"),s=e("dot-prop"),l=e("to-array"),c=e("array-last"),u=e("dezalgo"),d=e("call-all-fns");t.exports=function(e,t){r(Array.isArray(e),"methods are required"),a(typeof t,"function","load fn is required");var n=null,i=null,o=[];return t(function(e,t){i=e,n=t,d(o)(e,t),o=null}),e.reduce(function(e,t){var a;return s.set(e,t,(a=t,function(){var r=arguments,e=function(e,t){var n;return e?"function"==typeof(n=c(l(r)))?n(e):void 0:s.get(t,a).apply(null,r)};e=u(e),n||i?e(i,n):o.push(e)})),e},{})}},{"array-last":4,"assert-equal":9,"assert-ok":11,"call-all-fns":12,dezalgo:14,"dot-prop":23,"to-array":31}],23:[function(e,t,n){"use strict";var o=e("is-obj");function s(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){for(var a=t[r];"\\"===a[a.length-1];)a=a.slice(0,-1)+".",a+=t[++r];n.push(a)}return n}t.exports.get=function(e,t){if(o(e)&&"string"==typeof t)for(var n=s(t),r=0;r<n.length&&void 0!==(e=e[n[r]]);r++);return e},t.exports.set=function(e,t,n){if(o(e)&&"string"==typeof t)for(var r=s(t),a=0;a<r.length;a++){var i=r[a];o(e[i])||(e[i]={}),a===r.length-1&&(e[i]=n),e=e[i]}},t.exports.delete=function(e,t){if(o(e)&&"string"==typeof t)for(var n=s(t),r=0;r<n.length;r++){var a=n[r];if(r===n.length-1)return void delete e[a];e=e[a]}},t.exports.has=function(e,t){if(!o(e)||"string"!=typeof t)return!1;for(var n=s(t),r=0;r<n.length;r++)if(void 0===(e=e[n[r]]))return!1;return!0}},{"is-obj":18}],24:[function(e,t,n){"use strict";var r=e("load-script"),a=e("global/window"),i=e("xtend"),o=e("assert-ok"),s=e("dezalgo"),l=e("ear"),c=e("query-extend"),u=e("cuid"),d=(t.exports=function(t,n){if(o(t,"options required"),o(t.url,"url required"),o(t.global,"global required"),o(n,"callback required"),t=i(t),n=s(n),f(t))return n(null,f(t));var e;(n=p(t,n))&&(t.jsonp&&(e=function(e,t){var n=u();return a[n]=function(){t(null,f(e)),delete a[n]},n}(t,n),t.url=c(t.url,{callback:e})),r(t.url,t,function(e){if(e)return n(e);if(!t.jsonp){e=f(t);if(!e)return n(new Error("expected: `window."+t.global+"`, actual: `"+e+"`"));n(null,e)}}))},{});function p(t,e){if(!n())return r(l()),n().add(e),function(e,t){n()(e,t),r(l())};function n(){return d[t.global]}function r(e){d[t.global]=e}n().add(e)}function f(e){return a[e.global]}},{"assert-ok":11,cuid:13,dezalgo:14,ear:16,"global/window":17,"load-script":25,"query-extend":28,xtend:33}],25:[function(e,t,n){function l(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function c(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,n){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");if("function"==typeof t&&(n=t,t={}),n=n||function(){},a.type=(t=t||{}).type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t&&!t.async),a.src=e,t.attrs){var i,o=a,s=t.attrs;for(i in s)o.setAttribute(i,s[i])}t.text&&(a.text=""+t.text),("onload"in a?l:c)(a,n),a.onload||l(a,n),r.appendChild(a)}},{}],26:[function(e,t,n){"use strict";t.exports=function(e){var t=1,n="",r=e.split("%"),a=r.length;0<a&&(n+=r[0]);for(var i,o=1;o<a;o++)"s"===r[o][0]||"d"===r[o][0]?(i=arguments[t++],n+="d"===r[o][0]?Math.floor(i):i):r[o][0]?n+="%"+r[o][0]:n+="%"+r[++o][0],n+=r[o].substring(1);return n}},{}],27:[function(e,t,n){"use strict";var r=e("isobject"),a=e("json-stringify-safe");function i(e){return a(e,null,"")}t.exports=function(e){var t;return(r(t=e)||Array.isArray(t)?i:String)(e)}},{isobject:20,"json-stringify-safe":21}],28:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n,r=arguments[t];for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}function a(){var e=Array.prototype.slice.call(arguments,0),t=!0===e[e.length-1],o="";return e.length?(t&&e.pop(),e=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(t(e[r],r));return n}(e,function(e){var r,t,n,a,i;return"string"==typeof e?(n=(t=e).lastIndexOf("?"),i=void 0,(a=-1!==n)&&0<n?i=t.substring(0,n):!a&&t&&0<t.length&&(i=t),(i={base:i,query:a?t.substring(n+1):void 0}).base&&(o=i.base),r={},(a=i.query)&&c(a.split("&"),function(e){var e=e.split("="),t=s(e[0]),n=decodeURIComponent(t.val),e=e[1]&&decodeURIComponent(e[1]);"array"===t.type?(r[n]||(r[n]=[]),r[n].push(e)):"string"===t.type&&(r[n]=e)}),r):e}),t?r.apply({},e):o+function(e){var t,n,r=[];for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?r.push(encodeURIComponent(n)):(t=encodeURIComponent(n),l(e[n])?c(e[n],function(e){r.push(t+"[]="+encodeURIComponent(e))}):r.push(t+"="+encodeURIComponent(e[n]))));return r.length?"?"+r.join("&"):""}(r.apply({},e))):o}var i,s,l,c;i=this,s=function(e){var t=e.indexOf("[");return-1===t?{type:"string",val:e}:{type:"array",val:e.substr(0,t)}},l=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},void 0!==t&&t.exports?t.exports=a:i.queryExtend=a},{}],29:[function(e,t,n){"use strict";var r=e("pff"),a=e("to-array"),i=/%[sdj]/;t.exports=function(e){return i.test(e)?r.apply(null,arguments):a(arguments).join(" ")}},{pff:26,"to-array":31}],30:[function(e,t,n){"use strict";var s=e("xtend/mutable"),l=e("dot-prop"),r=a.methods={async:["card.createToken","bankAccount.createToken","piiData.createToken","bitcoinReceiver.createReceiver","bitcoinReceiver.pollReceiver","bitcoinReceiver.getReceiver"],sync:["setPublishableKey","card.validateCardNumber","card.validateExpiry","card.validateCVC","card.cardType","bankAccount.validateRoutingNumber","bankAccount.validateAccountNumber","bitcoinReceiver.cancelReceiverPoll"]};function a(i){if("function"!=typeof i)throw new Error("Stripe.js must be provided");var o={};return r.async.forEach(function(e){var t,r,n=e.split("."),a=n[0],n=n[1];l.set(o,e,(t=n,r=i[a],function(){var e=Array.prototype.slice.call(arguments),n=e.pop();r[t].apply(r,e.concat(function(e,t){if(t.error)return n(s(new Error,t.error,{status:e}));n(null,t)}))}))}),r.sync.forEach(function(e){l.set(o,e,l.get(i,e))}),o}t.exports=a},{"dot-prop":15,"xtend/mutable":34}],31:[function(e,t,n){t.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},{}],32:[function(e,t,n){t.exports=function e(a,t){if(a&&t)return e(a)(t);if("function"!=typeof a)throw new TypeError("need wrapper function");Object.keys(a).forEach(function(e){n[e]=a[e]});return n;function n(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=a.apply(this,e),r=e[e.length-1];return"function"==typeof n&&n!==r&&Object.keys(r).forEach(function(e){n[e]=r[e]}),n}}},{}],33:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n,r=arguments[t];for(n in r)a.call(r,n)&&(e[n]=r[n])}return e};var a=Object.prototype.hasOwnProperty},{}],34:[function(e,t,n){t.exports=function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)a.call(r,n)&&(e[n]=r[n])}return e};var a=Object.prototype.hasOwnProperty},{}],35:[function(e,t,n){"use strict";var i=e("lazy-async"),o=e("dot-prop"),s=e("load-script-global"),l=e("stripe-errback");t.exports=function(e,r){var t=l.methods.async.concat(l.methods.sync),a=i(t,function(a){s({url:e,global:"Stripe"},function(e,t){if(e)return a(e);var n,r;(e=l(t)).setPublishableKey=(n=e.setPublishableKey,r=e,function(){var e=Array.prototype.pop.call(arguments);n.apply(r,arguments),e()}),a(null,e)})});return t.reduce(function(e,t){var n=o.get(a,t);return o.set(e,t,r(n)),e},{})}},{"dot-prop":15,"lazy-async":22,"load-script-global":24,"stripe-errback":30}],36:[function(e,t,n){"use strict";var a=e("./lazy");t.exports=function(){var n=null,r=null;this.url="https://js.stripe.com/v2/",this.setPublishableKey=function(e){n=e},this.$get=function(e,t){return r||(r=a(this.url,e)).setPublishableKey(n),r},this.$get.$inject=["promisify","$exceptionHandler"]}},{"./lazy":35}],37:[function(r,a,e){!function(e){"use strict";var e="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,t=r("./provider");function n(e){e("angular-stripe: For Angular <= 1.2 support, first load https://github.com/bendrucker/angular-q-constructor")}a.exports=e.module("angular-stripe",[r("angular-q-promisify"),r("angular-assert-q-constructor")]).provider("stripe",t).run(n).name,n.$inject=["assertQConstructor"]}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./provider":36,"angular-assert-q-constructor":1,"angular-q-promisify":2}]},{},[37])(37)}),function(){"use strict";angular.module("exceptionless.billing",["angularPayments","angular-stripe","ui.bootstrap","dialogs.main","app.config","exceptionless","exceptionless.admin","exceptionless.analytics","exceptionless.autofocus","exceptionless.dialog","exceptionless.notification","exceptionless.organization","exceptionless.promise-button","exceptionless.user","exceptionless.refresh"])}(),function(){"use strict";angular.module("exceptionless.billing").factory("billingService",["$ExceptionlessClient","analyticsService","dialogs","dialogService","$q",function(n,t,r,a,i){var o="exceptionless.billing.billingService";function s(e){return t.initiateCheckout(),n.createFeatureUsage(o+".changePlan").setProperty("OrganizationId",e).submit(),r.create("components/billing/change-plan-dialog.tpl.html","ChangePlanDialog as vm",e).result}return{changePlan:s,confirmUpgradePlan:function(e,t){return n.createFeatureUsage(o+".confirmUpgradePlan").setMessage(e).setProperty("OrganizationId",t).submit(),a.confirm(e,"Upgrade Plan").then(function(){return s(t)},function(){return n.createFeatureUsage(o+".confirmUpgradePlan.cancel").setMessage(e).setProperty("OrganizationId",t).submit(),i.reject("cancelled")})}}}])}(),function(){"use strict";angular.module("exceptionless.billing").controller("ChangePlanDialog",["$uibModalInstance","adminService","analyticsService","Common","$ExceptionlessClient","$intercom","INTERCOM_APPID","notificationService","organizationService","stripe","STRIPE_PUBLISHABLE_KEY","userService","translateService","$window","data",function(r,n,a,t,i,e,o,s,l,c,u,d,p,f,h){var m=this;function g(){a.lead(b()),i.createFeatureUsage(m._source+".cancel").setProperty("CurrentPlan",m.currentPlan).setProperty("CouponId",m.coupon).setProperty("IsNewCard",P()).setProperty("OrganizationId",m.currentOrganization.id).submit(),r.dismiss("cancel")}function v(){var e=t.parseExpiry(m.card.expiry),e={number:m.card.number,cvc:m.card.cvc,exp_month:e.month,exp_year:e.year,name:m.card.name};return c.card.createToken(e).then(function(e){return a.addPaymentInfo(),e})}function b(){return{content_name:m.currentPlan.name,content_ids:[m.currentPlan.id],content_type:"product",currency:"USD",value:m.currentPlan.price}}function y(e){function t(e){e.data.success?(a.purchase(b()),i.createFeatureUsage(m._source+".save").markAsCritical().setMessage(e.data.message).setProperty("CurrentPlan",m.currentPlan).setProperty("CouponId",m.coupon).setProperty("IsNewCard",P()).setProperty("OrganizationId",m.currentOrganization.id).submit(),r.close(m.currentPlan),s.success(p.T("Thanks! Your billing plan has been successfully changed."))):(a.lead(b()),m.paymentMessage=p.T("An error occurred while changing plans.")+" "+p.T("Message:")+" "+e.data.message,i.createException(new Error(e.data.message)).markAsCritical().setSource(m._source+".save.error").setProperty("CurrentPlan",m.currentPlan).setProperty("CouponId",m.coupon).setProperty("IsNewCard",P()).setProperty("OrganizationId",m.currentOrganization.id).submit())}function n(e){e.error&&e.error.message?m.paymentMessage=e.error.message:m.paymentMessage=p.T("An error occurred while changing plans."),a.lead(b()),i.createException(new Error(m.paymentMessage)).markAsCritical().setSource(m._source+".save.error").setProperty("CurrentPlan",m.currentPlan).setProperty("CouponId",m.coupon).setProperty("IsNewCard",P()).setProperty("OrganizationId",m.currentOrganization.id).submit()}if(e&&m.currentPlan){if(m.paymentMessage=null,m.currentOrganization.plan_id!==m._freePlanId||m.currentPlan.id!==m._freePlanId){if(_()||m.currentPlan.id===m._freePlanId)return w(_()).then(t,n);if(0<m.currentPlan.price&&P())try{return v().then(function(e){return w(!1,{stripeToken:e.id,last4:e.card.last4,couponId:m.coupon}).then(t,n)},n)}catch(e){return m.paymentMessage=p.T("An error occurred while changing plans."),i.createException(e).markAsCritical().setSource(m._source+".save.error").setProperty("CurrentPlan",m.currentPlan).setProperty("CouponId",m.coupon).setProperty("IsNewCard",P()).setProperty("OrganizationId",m.currentOrganization.id).submit(),null}return w(!1,{couponId:m.coupon}).then(t,n)}g()}}function $(){return m.card.mode=C()?"existing":"new",x()}function w(e,t){return e?n.changePlan({organizationId:m.currentOrganization.id,planId:m.currentPlan.id}):l.changePlan(m.currentOrganization.id,angular.extend({},{planId:m.currentPlan.id},t))}function k(){return m.organizations=[],l.getAll({},!1).then(function(e){return angular.forEach(e.data.plain(),function(e,t){m.organizations.push(e)}),m.organizations}).then(function(){if(h&&!m.organizations.filter(function(e){return e.id===h})[0])return l.getById(h,!1).then(function(e){return m.organizations.push(e.data.plain()),m.organizations})}).then(function(){m.currentOrganization=m.organizations.filter(function(e){return e.id===(m.currentOrganization.id||h)})[0],m.currentOrganization||(m.currentOrganization=0<m.organizations.length?m.organizations[0]:{}),m.card.mode=C()?"existing":"new"},function(e){s.error(p.T("An error occurred while loading your organizations.")+" "+m._contactSupport),i.createFeatureUsage(m._source+".getOrganizations.error").markAsCritical().setMessage(e&&e.data&&e.data.message).submit(),g()})}function x(){return l.getPlans(m.currentOrganization.id).then(function(e){m.plans=e.data.plain();var e=m.plans.filter(function(e){return e.id===m.currentOrganization.plan_id})[0]||m.plans[0],t=m.plans.indexOf(e);return m.currentPlan=m.plans.length>t+1?m.plans[t+1]:e,m.plans},function(e){s.error(p.T("An error occurred while loading available billing plans.")+" "+m._contactSupport),i.createFeatureUsage(m._source+".getPlans.error").markAsCritical().setMessage(e&&e.data&&e.data.message).submit(),g()})}function S(){return d.getCurrentUser().then(function(e){return m.user=e.data.plain(),m.card.name||(m.card.name=m.user.full_name),m.user},function(e){s.error(p.T("An error occurred while loading your user account.")+" "+m._contactSupport),i.createFeatureUsage(m._source+".getUser.error").markAsCritical().setMessage(e&&e.data&&e.data.message).submit(),g()})}function _(){return d.hasAdminRole(m.user)}function C(){return!!m.currentOrganization.card_last4}function E(){return!!u}function T(){return m.currentPlan&&m.currentPlan.id===m._freePlanId&&m.currentOrganization.plan_id!==m._freePlanId}function P(){return m.card&&"new"===m.card.mode}function D(){return m.currentPlan&&0!==m.currentPlan.price}function M(){i.submitFeatureUsage(m._source+".showIntercom"),o?e.showNewMessage():f.open("https://exceptionless.com","_blank")}this.$onInit=function(){m._source="exceptionless.billing.ChangePlanDialog",m._contactSupport=p.T("Please contact support for more information."),m._freePlanId="EX_FREE",m.cancel=g,m.card={},m.changeOrganization=$,m.coupon=null,m.currentOrganization={},m.currentPlan={},m.getPlans=x,m.hasAdminRole=_,m.hasExistingCard=C,m.isBillingEnabled=E,m.isCancellingPlan=T,m.isNewCard=P,m.isPaidPlan=D,m.organizations=[],m.paymentMessage=u?null:p.T("Billing is currently disabled."),m.plans=[],m.save=y,m.showIntercom=M,m.stripe={},i.submitFeatureUsage(m._source),k().then(x).then(S)}}])}(),function(){"use strict";angular.module("exceptionless.date-filter",["ui.bootstrap","dialogs.main","exceptionless","exceptionless.autofocus","exceptionless.date-range-parser","exceptionless.date-range-picker","exceptionless.refresh"])}(),function(){"use strict";angular.module("exceptionless.date-filter").controller("CustomDateRangeDialog",["$ExceptionlessClient","$uibModalInstance","data",function(e,t,n){var r=this;function a(){e.submitFeatureUsage(r._source+".cancel"),t.dismiss("cancel")}function i(){r.range.start&&r.range.end&&(angular.isObject(r.range.start)||(r.range.start=moment(r.range.start)),angular.isObject(r.range.end)||(r.range.end=moment(r.range.end)),0!==r.range.start.diff(r.range.end,"seconds")&&0!==r.maxDate.diff(r.range.end,"seconds")||(r.range.end=r.range.end.endOf("day")),e.createFeatureUsage(r._source+".save").setProperty("Range",r.range).submit(),t.close(r.range))}this.$onInit=function(){r._source="exceptionless.date-filter.CustomDateRangeDialog",r.cancel=a,r.maxDate=moment(),r.minDate=moment(new Date(2012,1,1)),r.range={start:n.start,end:n.end},r.save=i,e.submitFeatureUsage(r._source)}}])}(),function(){"use strict";angular.module("exceptionless.date-filter").directive("dateFilter",["$interval","dateRangeParserService",function(e,f){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/date-filter/date-filter-directive.tpl.html",controller:["$interval","$scope","dialogs","filterService","translateService",function(t,n,r,a,i){var o=this;function s(){var e=a.getTime();if("last hour"===e)return"Last Hour";if("last 24 hours"===e)return"Last 24 Hours";if("last week"!==e){if("last 30 days"===e)return"Last 30 Days";if("all"===e)return"All Time";e=f.parse(e);if(e&&e.start&&e.end)return moment(e.start).twix(moment(e.end)).format({dayFormat:i.T("DayFormat")});d("last week")}return"Last Week"}function l(e){var t,n=a.getTime();return n&&"Custom"===e?(t=f.parse(n))&&t.start&&t.end:e===n}function c(){return"all"!==a.getTime()}function u(){var e=a.getTimeRange();return r.create("components/date-filter/custom-date-range-dialog.tpl.html","CustomDateRangeDialog as vm",{start:e.start||moment().subtract(7,"days"),end:e.end||moment()}).result.then(function(e){return d(e.start.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.end.format("YYYY-MM-DDTHH:mm:ss")),e}).catch(function(e){})}function d(e){a.setTime(e)}function p(){o.filteredDisplayName=s()}this.$onInit=function(){var e=t(p,6e4);n.$on("$destroy",function(){t.cancel(e)}),o.hasFilter=c,o.isActive=l,o.filteredDisplayName=s(),o.isDropDownOpen=!1,o.setCustomFilter=u,o.setFilter=d,o.updateFilterDisplayName=p}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.date-range-parser",[]).factory("dateRangeParserService",function(){var r=/(\d{4}-\d{2}-\d{2}(?:T(?:\d{2}:\d{2}:\d{2}|\d{2}:\d{2}|\d{2}))?)/g;return{parse:function(e){if(!e)return null;for(var t,n=[];t=r.exec(e);)n.push(t[0]);return 2===n.length?{start:n[0],end:n[1]}:null}}})}(),function(){"use strict";angular.module("exceptionless.date-range-picker",["exceptionless.autofocus"]).directive("dateRangePicker",function(){return{restrict:"E",scope:{format:"=",maxDate:"=",minDate:"=",range:"=",showDropdowns:"=",timePicker:"=",timePickerSeconds:"=",timePicker12Hour:"="},templateUrl:"components/date-range-picker/date-range-picker-directive.tpl.html",controller:["$scope","translateService",function(e,t){var n=e;this.$onInit=function(){n.applyLabel=t.T("Apply"),n.cancelLabel=t.T("Cancel")}}],link:function(n,t){var r=n,e=r.format||"YYYY-MM-DD",e={endDate:r.range.end,format:e,maxDate:r.maxDate,minDate:r.minDate,showDropdowns:!!r.showDropdowns,startDate:r.range.start,timePicker:!!r.timePicker,timePicker12Hour:!!r.timePicker12Hour,timePickerSeconds:!!r.timePickerSeconds,timePickerIncrement:r.timePickerIncrement||1,locale:{applyLabel:r.applyLabel,cancelLabel:r.cancelLabel}},a=n.$watch(r.range,function(e){e&&(t.data("daterangepicker").setStartDate(e.start),t.data("daterangepicker").setEndDate(e.end))});n.$on("$destroy",function(){a()}),t.daterangepicker(e,function(e,t){n.$apply(function(){r.range={start:e,end:t}})}),t.data("daterangepicker").setStartDate(r.range.start),t.data("daterangepicker").setEndDate(r.range.end)}}})}(),function(){"use strict";angular.module("exceptionless.dialog",["ui.bootstrap","dialogs.main","exceptionless.autofocus"])}(),function(){"use strict";angular.module("exceptionless.dialog").factory("dialogService",["dialogs",function(n){return{confirm:function(e,t){return n.create("components/dialog/confirm-dialog.tpl.html","confirmDialog as vm",{message:e,confirmButtonText:t}).result},confirmDanger:function(e,t){return n.create("components/dialog/confirm-dialog.tpl.html","confirmDialog as vm",{message:e,confirmButtonText:t,danger:!0}).result},viewJSON:function(e,t){return n.create("components/dialog/json-dialog.tpl.html","jsonDialog as vm",{copyButtonText:t,json:e}).result}}}])}(),function(){"use strict";angular.module("exceptionless.dialog").controller("confirmDialog",["$uibModalInstance","$translate","data",function(e,t,n){var r=this;function a(){e.dismiss("cancel")}function i(){e.close("confirm")}this.$onInit=function(){r.confirmButtonText=angular.isDefined(n.confirmButtonText)?n.confirmButtonText:t.instant("DIALOGS_YES"),r.danger=angular.isDefined(n.danger)&&!0===n.danger,r.header=angular.isDefined(n.header)?n.header:t.instant("DIALOGS_CONFIRMATION"),r.message=angular.isDefined(n.message)?n.message:t.instant("DIALOGS_CONFIRMATION_MSG"),r.cancel=a,r.confirm=i}}])}(),function(){"use strict";angular.module("exceptionless.dialog").controller("jsonDialog",["$uibModalInstance","$translate","clipboard","data",function(e,t,n,r){var a=this;function i(){e.dismiss("close")}function o(){n.copyText(a.json),e.close("copy")}this.$onInit=function(){a.copyButtonText=angular.isDefined(r.copyButtonText)?r.copyButtonText:t.instant("Copy to Clipboard"),a.header=angular.isDefined(r.header)?r.header:t.instant("DIALOGS_JSON"),a.json=r.json,a.close=i,a.copy=o,a.showCopyButton=n.supported}}])}(),function(){"use strict";angular.module("exceptionless.duration",[]).directive("duration",["$interval",function(a){return{restrict:"AE",scope:{value:"=",period:"="},link:function(t,n){function r(){var e;"number"==typeof t.value?(e=moment.duration(t.value,t.period||"seconds"),n.text(e.humanize())):n.text("never")}r(),t.$watch("value",function(e){r()});var e=a(r,15e3);t.$on("$destroy",function(){a.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.error",[]).factory("errorService",function(){function t(e){return e&&e.data?e.data["@target"]:null}return{getExceptions:function(e){for(var t=[],n=e;n;)t.push(n),n=n.inner;return t},getTargetInfoExceptionType:function(e){return(e=t(e))&&e.ExceptionType?e.ExceptionType:null},getTargetInfoMethod:function(e){return(e=t(e))&&e.Method?e.Method:null},getTargetInfoMessage:function(e){return(e=t(e))&&e.Message?e.Message:null}}})}(),function(){"use strict";angular.module("exceptionless.event",["restangular","exceptionless.filter","exceptionless.objectid"]).factory("eventService",["filterService","objectIDService","organizationService","Restangular",function(a,e,r,i){return{calculateAveragePerHour:function(e,t){var n=a.getTimeRange(),t=(n.start=moment.max([n.start,moment(a.getOldestPossibleEventDate()),moment(r.getOldestPossibleEventDate(t))].filter(function(e){return!!e})),n.end=n.end||moment(),e/n.end.diff(n.start,"hours",!0));return!isNaN(parseFloat(t))&&isFinite(t)?t:0},count:function(e,t,n){return e=a.apply(e&&0<e.length?{aggregations:e}:{},t),e=angular.isFunction(n)?n(e):e,((t=a.getOrganizationId())?i.one("organizations",t):(n=a.getProjectId())?i.one("projects",n):i).one("events","count").get(e)},getAll:function(e,t){t=(t=angular.isFunction(t)?t:function(e){return e})(a.apply(e));return((e=a.getOrganizationId())?i.one("organizations",e):(e=a.getProjectId())?i.one("projects",e):i).all("events").getList(t)},getAllSessions:function(e,t){t=(t=angular.isFunction(t)?t:function(e){return e})(a.apply(e,!1));return((e=a.getOrganizationId())?i.one("organizations",e):(e=a.getProjectId())?i.one("projects",e):i).one("events").all("sessions").getList(t)},getById:function(e,t,n){return n=angular.isFunction(n)?n:function(e){return e},i.one("events",e).get(n(a.apply(t)))},getByReferenceId:function(e,t){return i.one("events","by-ref").all(e).getList(a.apply(t,!1))},getBySessionId:function(e,t,n,r){return r=angular.isFunction(r)?r:function(e){return e},i.one("projects",e).one("events","sessions").all(t).getList(r(a.apply(n,!1)))},getByStackId:function(e,t){return i.one("stacks",e).all("events").getList(a.apply(t,!1))},markCritical:function(e){return i.one("events",e).one("mark-critical").post()},markNotCritical:function(e){return i.one("events",e).one("mark-critical").remove()},remove:function(e){return i.one("events",e).remove()}}}])}(),function(){"use strict";angular.module("exceptionless.events",["checklist-model","ui.bootstrap","dialogs.main","exceptionless","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.relative-time","exceptionless.summary","exceptionless.timeago"])}(),function(){"use strict";angular.module("exceptionless.events").factory("eventsActionsService",["$ExceptionlessClient","dialogService","eventService","notificationService","translateService","$q",function(r,e,a,i,o,s){var l="exceptionless.events.eventsActionsService",t={name:"Delete",run:function(n){return r.createFeatureUsage(l+".delete").setProperty("count",n.length).submit(),e.confirmDanger(o.T("Are you sure you want to delete these events?"),o.T("DELETE EVENTS")).then(function(){var e=s.defer(),t=_.chunk(n,10).reduce(function(e,t){return e.then(a.remove(t.join(",")))},e.promise).then(function(){i.info(o.T("Successfully queued the events for deletion."))},function(){r.createFeatureUsage(l+".delete.error").setProperty("count",n.length).submit(),i.error(o.T("An error occurred while deleting the events."))});return e.resolve(),t}).catch(function(e){})}};return{getActions:function(){return[t]}}}])}(),function(){"use strict";angular.module("exceptionless.events").directive("events",["linkService",function(e){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/events/events-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","$translate","eventsActionsService","filterService","linkService","notificationService","paginationService","translateService",function(r,a,i,e,t,n,o,s,l,c,u){var d=this;function p(e){return 0<=moment(e.date).diff(d.settings.relativeTo,"milliseconds")?t.instant("after")+" ":""}function f(e){return moment(e.date).diff(d.settings.relativeTo,"milliseconds")<0?" "+t.instant("before"):""}function h(t){var e;return!(d.refreshing||!t)&&((e=d.settings.canRefresh)?e(d.events,t):"PersistentEvent"===t.type?!!t.deleted&&(t.id&&d.events?0<d.events.filter(function(e){return e.id===t.id}).length:o.includedInProjectOrOrganizationFilter({organizationId:t.organization_id,projectId:t.project_id})):"Stack"===t.type?o.includedInProjectOrOrganizationFilter({organizationId:t.organization_id,projectId:t.project_id}):"Organization"===t.type||"Project"===t.type?o.includedInProjectOrOrganizationFilter({organizationId:t.id,projectId:t.id}):!t)}function m(t){return d.refreshing=!0,d.loading=0===d.events.length,d.currentOptions=t||d.settings.options,d.settings.get(d.currentOptions).then(function(e){d.events=e.data.plain(),d.selectedIds=d.selectedIds.filter(function(t){return 0<d.events.filter(function(e){return e.id===t}).length});var t=s.getLinksQueryParameters(e.headers("link"));return d.previous=t.previous,d.next=t.next,d.pageSummary=c.getCurrentPageSummary(e.data,d.currentOptions.page,d.currentOptions.limit),0===d.events.length&&d.currentOptions.page&&1<d.currentOptions.page?m():d.events},function(e){return 404!==e.status&&e.data&&l.error("Error loading events: "+(e.data.message||e.data)),r.createLog(d._source+".get","Error while loading events","Error").setProperty("options",t).setProperty("response",e).submit(),d.events=[],d.previous=null,d.next=null,e}).finally(function(){d.refreshing=!1,d.loading=!1})}function g(e,t){var n=t.ctrlKey||t.metaKey||2===t.which;r.createFeatureUsage(d._source+".open").setProperty("id",e).setProperty("_blank",n).submit(),n?a.open(i.href("app.event",{id:e},{absolute:!0}),"_blank"):i.go("app.event",{id:e}),t.preventDefault()}function v(){return r.createFeatureUsage(d._source+".nextPage").setProperty("next",d.next).submit(),m(d.next)}function b(){return r.createFeatureUsage(d._source+".previousPage").setProperty("previous",d.previous).submit(),m(d.previous)}function y(e){0===d.selectedIds.length?l.info(null,u.T("Please select one or more events")):e.run(d.selectedIds).then(function(){d.selectedIds=[]})}function $(){d.events&&0===d.events.length||(0<d.selectedIds.length?d.selectedIds=[]:d.selectedIds=d.events.map(function(e){return e.id}))}function w(){d.settings.sortByDateDescending=!d.sortByDateDescending,d.sortByDateDescending=d.settings.sortByDateDescending;var e=d.currentOptions,t=d.sortByDateDescending?"-":"+";e.sort=t+"date",m(e)}this.$onInit=function(){d._source=d.settings.source+".events",d.actions=d.settings.hideActions?[]:n.getActions(),d.afterRelativeText=p,d.beforeRelativeText=f,d.canRefresh=h,d.currentEventId=d.settings.eventId,d.events=[],d.get=m,d.hasFilter=o.hasFilter,d.hideSessionStartTime=d.settings.hideSessionStartTime||!1,d.refreshing=!0,d.loading=!0,d.open=g,d.nextPage=v,d.previousPage=b,d.timeHeaderText=d.settings.timeHeaderText||"Date",d.relativeTo=function(){return d.settings.relativeTo},d.toggleDateSort=w,d.sortByDateDescending=void 0===d.settings.sortByDateDescending||d.sortByDateDescending,d.save=y,d.selectedIds=[],d.showType=d.settings.summary?d.settings.summary.showType:!o.getEventType(),d.showIPAddress=d.settings.summary?d.settings.summary.showIPAddress:"404"===o.getEventType(),d.updateSelection=$,m()}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.filter",["angular-locker","exceptionless.date-range-parser","exceptionless.objectid","exceptionless.organization"])}(),function(){"use strict";angular.module("exceptionless.filter").factory("filterService",["$rootScope","dateRangeParserService","filterStoreService","objectIDService","organizationService",function(n,t,r,a,e){var i,o,s,l,c,u="last week",d=r.getTimeFilter()||u;function p(e){var t={organization_id:o,project_id:s,type:i,status:c};n.$emit("filterChanged",angular.extend(t,f(e)))}function f(e){var t,n,r={},a=v(),a=(a&&angular.extend(r,{offset:a}),a=void 0===(a=e)||a,e=[],o&&e.push("organization:"+o),s&&e.push("project:"+s),i&&e.push("type:"+i),c&&e.push("status:"+c),n="*"===(t=l||"").trim(),!a||n||c||-1!==t.search(/\bstatus:/i)||e.push("(status:open OR status:regressed)"),t&&!n&&e.push("("+t+")"),e.join(" ").trim());return a&&angular.extend(r,{filter:a}),d&&"all"!==d&&angular.extend(r,{time:d}),r}function h(){return s}function m(){return o}function g(){return d||u}function v(){var e=(new Date).getTimezoneOffset();return 0!==e?-1*e+"m":void 0}function b(e,t){angular.equals(e,o)||e&&!a.isValid(e)||(o=e,s=null,t)||p()}function y(e,t){angular.equals(e,s)||e&&!a.isValid(e)||(s=e,o=null,t)||p()}function $(e,t){angular.equals(e,l)||(l=e,t)||p()}return n.$on("OrganizationChanged",function(e,t){t.id===o&&t.deleted&&b()}),n.$on("ProjectChanged",function(e,t){t.id===s&&t.deleted&&y()}),{apply:function(e,t){return angular.extend({},f(t),e)},clearFilter:function(){l&&($(null,!1),p())},clearOrganizationAndProjectFilter:function(){(o||s)&&(o=s=null,p())},fireFilterChanged:p,getEventType:function(){return i},getFilter:function(){return l},getProjectId:h,getOrganizationId:m,getOldestPossibleEventDate:function(){var e=a.getDate(o||s);return e?moment(e).subtract(3,"days").toDate():new Date(2012,1,1)},getStatus:function(){return c},getTime:g,getTimeRange:function(){var e=g();return"all"===e?{start:void 0,end:void 0}:"last hour"===e?{start:moment().subtract(1,"hours"),end:void 0}:"last 24 hours"===e?{start:moment().subtract(24,"hours"),end:void 0}:"last week"===e?{start:moment().subtract(7,"days").startOf("day"),end:void 0}:"last 30 days"===e?{start:moment().subtract(30,"days").startOf("day"),end:void 0}:(e=t.parse(e))&&e.start&&e.end?{start:moment(e.start),end:moment(e.end)}:{start:moment().subtract(7,"days").startOf("day"),end:void 0}},getTimeOffset:v,hasFilter:function(){return l||d&&"all"!==d},includedInProjectOrOrganizationFilter:function(e){return!(!e.organizationId&&!e.projectId||(o||s)&&o!==e.organizationId&&s!==e.projectId)},setEventType:function(e,t){angular.equals(e,i)||(i=e,t)||p()},setFilter:$,setOrganizationId:b,setProjectId:y,setStatus:function(e,t){angular.equals(e,c)||(c=e,t)||p()},setTime:function(e,t){angular.equals(e,d)||(d=e||u,r.setTimeFilter(d),t)||p()}}}])}(),function(){"use strict";angular.module("exceptionless.filter").factory("filterStoreService",["$window","locker",function(e,t){var n=t.driver("local").namespace("filter");return{getTimeFilter:function(){return n.get("time")},setTimeFilter:function(e){n.put("time",e)}}}])}(),function(){"use strict";angular.module("exceptionless.intercom",["angular-intercom","app.config","exceptionless.analytics","exceptionless.objectid"]).config(["$intercomProvider","INTERCOM_APPID",function(e,t){t&&(e.appID(t),e.asyncLoading(!0))}])}(),function(){"use strict";angular.module("exceptionless.intercom").directive("intercom",[function(){return{bindToController:!0,restrict:"E",replace:!0,templateUrl:"components/intercom/intercom-directive.tpl.html",controller:["$interval","$scope","analyticsService","authService","filterService","INTERCOM_APPID","$intercom","objectIDService","organizationService","projectService","userService",function(t,n,r,e,a,i,o,s,l,c,u){var d;function p(){var e,t;return d.organizations&&0!==d.organizations.length?(a.getOrganizationId()?e=d.organizations.filter(function(e){return e.id===a.getOrganizationId()})[0]:a.getProjectId()&&(e=d.projects&&a.getProjectId()&&(t=d.projects.filter(function(e){return e.id===a.getProjectId()})[0])?d.organizations.filter(function(e){return e.id===t.organization_id})[0]:null),e||d.organizations[0]):null}function f(){var e,t,n;if(d.user)return e=angular.extend({},r.getRegistrationQueryStringData(),{user_id:d.user.id,user_hash:d.user.hash,name:d.user.full_name,email:d.user.email_address,remote_created_at:s.create(d.user.id).timestamp}),3===(t="2.0.0-dev".split(".")).length&&(e.app_build=parseInt(t[2],10)),(t=p())&&(n=0,angular.forEach(t.usage||[],function(e,t){n+=e.total||0}),e.company={company_id:t.id,name:t.name,remote_created_at:s.create(t.id).timestamp,plan:t.plan_id,monthly_spend:t.billing_price,billing_changed_by_user_id:t.billing_changed_by_user_id,total_events:n},t.subscribe_date)&&(e.company.subscribe_at=moment(t.subscribe_date).unix()),e}function h(t){return l.getAll().then(function(e){return d.organizations=e.data.plain(),!0===t&&$(),d.organizations})}function m(t){return c.getAll().then(function(e){return d.projects=e.data.plain(),!0===t&&$(),d.projects})}function g(t){return u.getCurrentUser().then(function(e){return d.user=e.data.plain(),!0===t&&$(),d.user})}function v(){o.hide()}function b(){return o.boot(f())}function y(){return o.shutdown()}function $(e){return!0===e&&v(),o.update(f())}e.isAuthenticated()&&((d=this).$onInit=function(){var e=t($,9e4);n.$on("$destroy",function(){t.cancel(e)}),d.getOrganizations=h,d.getProjects=m,d.getUser=g,d.hide=v,d.IntercomAppId=i,d.shutdown=y,d.updateIntercom=$,g().then(h).then(m).then(b)})}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.link",[]).factory("linkService",function(){function i(e){return null==e?{}:li.parse(e||{})}return{getLinks:i,getLinksQueryParameters:function(e){var t,n=i(e),r={};for(t in n){var a=n[t];r[t]=function(e){var n=Object.create(null);return"string"==typeof e&&(e=e.trim().replace(/^(\?|#|&)/,""))&&e.split("&").forEach(function(e){var e=e.replace(/\+/g," ").split("="),t=e.shift(),e=0<e.length?e.join("="):void 0,t=decodeURIComponent(t),e=void 0===e?null:decodeURIComponent(e);void 0===n[t]?n[t]=e:Array.isArray(n[t])?n[t].push(e):n[t]=[n[t],e]}),n}(a.slice(a.indexOf("?")))}return r}}})}(),function(){"use strict";angular.module("exceptionless.loading-bar",["cfp.loadingBarInterceptor"]).directive("loadingBar",["$rootScope",function(a){return{bindToController:!0,restrict:"A",link:function(e,t,n){var r=!1;a.$on("cfpLoadingBar:completed",function(){r&&(r=!1,t.addClass("loading-bar-disabled"))}),a.$on("$stateChangeStart",function(){t.removeClass("loading-bar-disabled"),r=!0})}}}])}(),function(){"use strict";angular.module("exceptionless.log-level",["ui.bootstrap","exceptionless.notification","exceptionless.organization","exceptionless.project","exceptionless.refresh","exceptionless.translate"]).directive("logLevel",[function(){return{restrict:"E",replace:!0,scope:{projectId:"=",source:"="},templateUrl:"components/log-level/log-level-directive.tpl.html",controller:["$scope","notificationService","projectService","translateService",function(e,t,n,r){var o=this;function a(){return n.getConfig(o.projectId).then(function(e){e=e.data.plain().settings,o.level=function(e,t){e=e||{};void 0===t&&(t="");return c(e["@@log:"+t])}(e,o.source),o.defaultLevel=function(e,t){e=e||{};void 0===t&&(t="");var n,r=Object.keys(e).sort(function(e,t){return t.length-e.length||e.localeCompare(t)});for(n in r){var a=r[n];if(u(a.toLowerCase(),"@@log:")){var i=a.substring("@@log:".length);if(i.toLowerCase()!==o.source.toLowerCase()&&function(a,e,i){if("string"!=typeof a)return;void 0===i&&(i=!0);var o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;return a=(i?a.toLowerCase():a).replace(o,""),(e||[]).some(function(e){var t,n,r;return"string"==typeof e&&!((e=(i?e.toLowerCase():e).replace(o,"")).length<=0)&&((t="*"===(e=(r="*"===e[0])?e.slice(1):e)[e.length-1])&&(e=e.substring(0,e.length-1)),r&&t?e.length<=a.length&&-1!==a.indexOf(e,0):r?(r=e,-1!==(n=a).indexOf(r,n.length-r.length)):t?u(a,e):a===e)})}(t,[i]))return c(e[a])}}return c(null)}(e,o.source),o.loading=!1},function(){t.error(r.T("An error occurred while loading the projects."))})}function i(e){return!(e&&e.type&&o.projectId&&("Project"!==e.type||e.id&&e.id!==o.projectId))}function s(e){if(!o.loading)return n.setConfig(o.projectId,"@@log:"+o.source,e).then(function(){o.level=e},function(){t.error(r.T("An error occurred while saving the configuration setting."))})}function l(){if(!o.loading)return n.removeConfig(o.projectId,"@@log:"+o.source).then(function(){o.level=null},function(){t.error(r.T("An error occurred while trying to delete the configuration setting."))})}function c(e){switch((e||"").toLowerCase().trim()){case"trace":case"true":case"1":case"yes":return"trace";case"debug":return"debug";case"info":return"info";case"warn":return"warn";case"error":return"error";case"fatal":return"fatal";case"off":case"false":case"0":case"no":return"off";default:return null}}function u(e,t){return e.substring(0,t.length)===t}this.$onInit=function(){o.canRefresh=i,o.loading=!0,o.level=null,o.defaultLevel=null,o.get=a,o.projectId=e.projectId,o.setLogLevel=s,o.setDefaultLogLevel=l,o.source=e.source||"",e.$watch("projectId",function(e){if(e)return o.projectId=e,a()})}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.notification",["toaster"]).factory("notificationService",["toaster",function(n){return{error:function(e,t){n.pop("error",e,t,5e3)},info:function(e,t){n.pop("note",e,t,3e3)},success:function(e,t){n.pop("success",e,t,3e3)},wait:function(e,t){n.pop("wait",e,t,3e3)},warning:function(e,t){n.pop("warning",e,t,3e3)}}}])}(),function(){"use strict";angular.module("exceptionless.object-dump",[])}(),function(){"use strict";angular.module("exceptionless.object-dump").directive("objectDump",["handlebarsService",function(a){return{restrict:"E",scope:{content:"=content",templateKey:"=templateKey"},link:function(t,n){if(void 0!==t.content)try{var e=t.content,r=a.getTemplate(t.templateKey);if("string"==typeof e||e instanceof String)try{e=JSON.parse(t.content)}catch(e){r=a.getTemplate("pre")}n.html(r(e))}catch(e){n.text(t.content)}}}}])}(),function(){"use strict";angular.module("exceptionless.object-dump").factory("handlebarsService",function(){var n=!1,r={__default:"{{> valueDump}}",pre:"{{#ifHasData this}}<pre>{{> valueDump}}</pre>{{/ifHasData}}"},a={};function i(e){return!(null!==e&&("object"==typeof e||e instanceof Object?0<Object.keys(e).length:!("[object Array]"===Object.prototype.toString.call(e)||e instanceof Array)||0<e.length))}function o(e){return{value:e,type:typeof e,isString:"string"==typeof e||e instanceof String,isNumber:"number"==typeof e||e instanceof Number,isBoolean:"boolean"==typeof e||e instanceof Boolean,isArray:"[object Array]"===Object.prototype.toString.call(e)||e instanceof Array,isObject:("object"==typeof e||e instanceof Object)&&null!==e,isNull:null===e,isEmptyValue:i(e),isSimpleType:!("[object Array]"===Object.prototype.toString.call(e)||e instanceof Array||"object"==typeof e||e instanceof Object)}}function s(){t(),e()}function e(){Handlebars.registerHelper("reflect",function(e,t){return t.fn(o(e))}),Handlebars.registerHelper("properties",function(n,e){var r,a=e.fn,i="";return e.data&&(r=Handlebars.createFrame(e.data)),n&&Object.keys(n||{}).forEach(function(e){var t=o(n[e]);t.name=e,i+=a(t,{data:r})}),i}),Handlebars.registerHelper("ifHasData",function(e,t){return i(e)?t.inverse(this):t.fn(this)})}function t(){Handlebars.registerPartial("objectDump",'{{#ifHasData this}}<table class="table table-striped table-bordered table-fixed table-key-value b-t object-dump">\r\n{{#properties this}}  <tr>\r\n    <th>{{name}}</th>\r\n    <td>\r\n      {{#with value}}{{> valueDump}}{{/with}}    </td>\r\n  </tr>\r\n{{/properties}}</table>\r\n{{/ifHasData}}'),Handlebars.registerPartial("arrayDump","{{#ifHasData this}}<ul>\r\n{{#each this}}  <li>{{> valueDump}}</li>\r\n{{/each}}</ul>\r\n{{/ifHasData}}"),Handlebars.registerPartial("valueDump","{{#reflect this}}{{#if isArray}}{{#with value}}{{> arrayDump}}{{/with}}{{else}}{{#if isObject}} {{#with value}}{{> objectDump}}{{/with}}{{else}}{{#if isBoolean}}{{#if value}}True\r\n{{else}}False\r\n{{/if}}{{else}}{{#if isNull}}(Null)\r\n{{else}}{{value}}\r\n{{/if}}{{/if}}{{/if}}{{/if}}{{/reflect}}")}return{getTemplate:function(e){var t;return n||(s(),n=!0),e&&r.hasOwnProperty(e)||(e="__default"),a.hasOwnProperty(e)||(t=Handlebars.compile(r[e]),a[e]=t),a[e]},isEmpty:i,reflect:o,registerDefaults:s,registerHelpers:e,registerPartials:t,registerTemplate:function(e,t){r[e]=t}}})}(),function(){var s=function(){var e=0,t=Math.floor(32767*Math.random()),n=Math.floor(16777216*Math.random());if("undefined"!=typeof localStorage){var r=parseInt(localStorage.mongoMachineId);0<=r&&r<=16777215&&(n=Math.floor(localStorage.mongoMachineId)),localStorage.mongoMachineId=n}else{var a,i=document.cookie.split("; ");for(a in i){var o=i[a].split("=");if("mongoMachineId"==o[0]&&0<=o[1]&&o[1]<=16777215){n=o[1];break}}}return document.cookie="mongoMachineId="+n+";expires=Tue, 19 Jan 2038 05:00:00 GMT",function(){if(!(this instanceof s))return new s(arguments[0],arguments[1],arguments[2],arguments[3]).toString();"object"==typeof arguments[0]?(this.timestamp=arguments[0].timestamp,this.machine=arguments[0].machine,this.pid=arguments[0].pid,this.increment=arguments[0].increment):"string"==typeof arguments[0]&&24==arguments[0].length?(this.timestamp=Number("0x"+arguments[0].substr(0,8)),this.machine=Number("0x"+arguments[0].substr(8,6)),this.pid=Number("0x"+arguments[0].substr(14,4)),this.increment=Number("0x"+arguments[0].substr(18,6))):4==arguments.length&&null!=arguments[0]?(this.timestamp=arguments[0],this.machine=arguments[1],this.pid=arguments[2],this.increment=arguments[3]):(this.timestamp=Math.floor((new Date).valueOf()/1e3),this.machine=n,this.pid=t,this.increment=e++,16777215<e&&(e=0))}}();s.prototype.getDate=function(){return new Date(1e3*this.timestamp)},s.prototype.toArray=function(){for(var e=this.toString(),t=[],n=0;n<12;n++)t[n]=parseInt(e.slice(2*n,2*n+2),16);return t},s.prototype.toString=function(){var e=this.timestamp.toString(16),t=this.machine.toString(16),n=this.pid.toString(16),r=this.increment.toString(16);return"00000000".substr(0,8-e.length)+e+"000000".substr(0,6-t.length)+t+"0000".substr(0,4-n.length)+n+"000000".substr(0,6-r.length)+r},"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=s:exports).ObjectId=s:this.ObjectId=s}.call(this),function(){"use strict";angular.module("exceptionless.objectid",[]).factory("objectIDService",function(){function t(e){return new ObjectId(e)}function n(e){return!(!e||!("number"==typeof e||e instanceof Number||12===e.length||24===e.length))&&(!("string"==typeof e||e instanceof String)||24!==e.length||/^[0-9a-fA-F]{24}$/i.test(e))}return{create:t,isValid:n,getDate:function(e){if(n(e))return t(e).getDate()}}})}(),function(){"use strict";angular.module("exceptionless.organization",["restangular"]).factory("organizationService",["$cacheFactory","$rootScope","objectIDService","Restangular",function(e,t,n,r){var a=e("http:organization"),i=(t.$on("cache:clear",a.removeAll),t.$on("cache:clear-organization",a.removeAll),t.$on("auth:logout",a.removeAll),t.$on("OrganizationChanged",a.removeAll),t.$on("ProjectChanged",a.removeAll),t.$on("StackChanged",function(e,t){t.added&&a.removeAll()}),r.withConfig(function(e){e.setDefaultHttpFields({cache:a})}));function o(e){if(e){if(1<e.length)return new Date(1e3*e.reduce(function(e,t){return Math.min(n.create(e.id).timestamp,n.create(t.id).timestamp)}));if(1===e.length)return n.getDate(e[0].id)}return new Date(2012,1,1)}function s(e,n){var t=n=n||moment().diff(new Date(2012,1,1),"days");return e&&(1<e.length?t=e.reduce(function(e,t){return Math.max(0<e.retention_days?e.retention_days:n,0<t.retention_days?t.retention_days:n)}):1===e.length&&(t=e[0].retention_days)),t<=0?new Date(2012,1,1):moment().subtract(t,"days").toDate()}return{addUser:function(e,t){return r.one("organizations",e).one("users",t).post()},create:function(e){return r.all("organizations").post({name:e})},changePlan:function(e,t){return r.one("organizations",e).customPOST(null,"change-plan",t)},getOldestCreationDate:o,getOldestRetentionStartDate:s,getOldestPossibleEventDate:function(e,t){return moment.max([moment(o(e)).subtract(3,"days"),moment(s(e,t))]).toDate()},getAll:function(e,t){return(void 0===t||t?i:r).all("organizations").getList(e||{})},getById:function(e,t){return(void 0===t||t?i:r).one("organizations",e).get()},getInvoice:function(e){return r.one("organizations","invoice").one(e).get()},getInvoices:function(e,t){return r.one("organizations",e).all("invoices").getList(t||{})},getPlans:function(e){return i.one("organizations",e).all("plans").getList()},isNameAvailable:function(e){return r.one("organizations","check-name").get({name:encodeURIComponent(e)})},remove:function(e){return r.one("organizations",e).remove()},removeUser:function(e,t){return r.one("organizations",e).one("users",t).remove()},update:function(e,t){return r.one("organizations",e).patch(t)}}}])}(),function(){"use strict";angular.module("exceptionless.organization-notifications",["angular-intercom","app.config","exceptionless.billing","exceptionless.filter","exceptionless.notification","exceptionless.organization","exceptionless.project","exceptionless.refresh","exceptionless.search"]).directive("organizationNotifications",function(){return{restrict:"E",replace:!0,scope:{organizationId:"=",ignoreFree:"=",ignoreConfigureProjects:"=",requiresPremium:"="},templateUrl:"components/organization-notifications/organization-notifications-directive.tpl.html",controller:["$scope","billingService","filterService","INTERCOM_APPID","$intercom","notificationService","organizationService","projectService","searchService","translateService","STRIPE_PUBLISHABLE_KEY",function(s,t,n,e,r,a,i,o,l,c,u){var d=this;function p(){return i.getAll().then(function(e){return d.organizations=e.data.plain(),d.organizations}).then(function(){var t=f();if(t&&!d.organizations.filter(function(e){return e.id===t})[0])return i.getById(t,!0).then(function(e){return d.organizations.push(e.data.plain()),d.organizations})}).then(g).then(h).then(m)}function f(){return s.organizationId||n.getOrganizationId()||(d.projects&&n.getProjectId()&&(e=d.projects.filter(function(e){return e.id===n.getProjectId()})[0])?e.organization_id:null);var e}function h(){return d.filterUsesPremiumFeatures=!1,l.validate(n.getFilter()).then(function(e){return d.filterUsesPremiumFeatures=!0===e.data.uses_premium_features,d.filterUsesPremiumFeatures})}function m(){d.exceededRequestLimitOrganizations=[],d.freeOrganizations=[],d.hourlyOverageOrganizations=[],d.monthlyOverageOrganizations=[],d.projectsRequiringConfiguration=[],d.organizationsWithoutPremiumFeatures=[],d.organizationsWithNoProjects=[],d.suspendedForBillingOrganizations=[],d.suspendedForAbuseOrOverageOrNotActiveOrganizations=[],d.suspendedOrganizations=[];var t,i=f(),o=(t=s.organizationId||n.getOrganizationId())?d.projects.filter(function(e){return e.organization_id===t}):n.getProjectId()?d.projects.filter(function(e){return e.id===n.getProjectId()}):d.projects;angular.forEach(d.organizations,function(t){if(!i||t.id===i)if(!0===t.is_suspended)d.suspendedOrganizations.push(t),"Billing"===t.suspension_code?d.suspendedForBillingOrganizations.push(t):1===t.billing_status&&"Abuse"!==t.suspension_code&&"Overage"!==t.suspension_code||d.suspendedForAbuseOrOverageOrNotActiveOrganizations.push(t);else{var e=o.filter(function(e){return!1===e.is_configured}).length===o.length,n=d.filterUsesPremiumFeatures&&!t.has_premium_features,r=s.requiresPremium&&!t.has_premium_features;if(!n&&!r||e||d.organizationsWithoutPremiumFeatures.push(t),!0===t.is_over_monthly_limit)d.monthlyOverageOrganizations.push(t);else if(!0===t.is_throttled||!0===t.is_over_hourly_limit)d.hourlyOverageOrganizations.push(t);else if(!0===t.is_over_request_limit)d.exceededRequestLimitOrganizations.push(t);else if(0===o.length)d.organizationsWithNoProjects.push(t);else{if(!s.ignoreConfigureProjects&&e){var a=!1;if(angular.forEach(o,function(e){e.organization_id===t.id&&!1===e.is_configured&&(d.projectsRequiringConfiguration.push(e),a=!0)}),a)return}n||r||s.ignoreFree||"EX_FREE"!==t.plan_id||d.freeOrganizations.push(t)}}}),d.hasNotifications=!0}function g(){return o.getAll().then(function(e){return d.projects=e.data.plain(),d.projects})}function v(){return d.exceededRequestLimitOrganizations&&0<d.exceededRequestLimitOrganizations.length}function b(){return d.freeOrganizations&&0<d.freeOrganizations.length}function y(){return d.hourlyOverageOrganizations&&0<d.hourlyOverageOrganizations.length}function $(){return d.monthlyOverageOrganizations&&0<d.monthlyOverageOrganizations.length}function w(){return d.projectsRequiringConfiguration&&0<d.projectsRequiringConfiguration.length}function k(){return d.organizations&&0<d.organizations.length}function x(){return d.organizationsWithoutPremiumFeatures&&0<d.organizationsWithoutPremiumFeatures.length}function S(){return d.organizationsWithNoProjects&&0<d.organizationsWithNoProjects.length}function _(){return d.suspendedForBillingOrganizations&&0<d.suspendedForBillingOrganizations.length}function C(){return d.suspendedForAbuseOrOverageOrNotActiveOrganizations&&0<d.suspendedForAbuseOrOverageOrNotActiveOrganizations.length}function E(){return d.suspendedOrganizations&&0<d.suspendedOrganizations.length}function T(){return e}function P(){return h().then(m)}function D(e){if(u)return!(e=!(e=!(e=!(e=e||f())&&E()?d.suspendedOrganizations[0].id:e)&&$()?d.monthlyOverageOrganizations[0].id:e)&&y()?d.hourlyOverageOrganizations[0].id:e)&&b()&&(e=d.freeOrganizations[0].id),t.changePlan(e).catch(function(e){});a.error(c.T("Billing is currently disabled."))}function M(){r.showNewMessage()}this.$onInit=function(){d.exceededRequestLimitOrganizations=[],d.freeOrganizations=[],d.get=p,d.getOrganizationNotifications=m,d.hasExceededRequestLimitOrganizations=v,d.hasFreeOrganizations=b,d.hasHourlyOverageOrganizations=y,d.hasMonthlyOverageOrganizations=$,d.hasNotifications=!1,d.hasProjectsRequiringConfiguration=w,d.hasOrganizations=k,d.hasOrganizationsWithoutPremiumFeatures=x,d.hasOrganizationsWithNoProjects=S,d.hasSuspendedForBillingOrganizations=_,d.hasSuspendedForAbuseOrOverageOrNotActiveOrganizations=C,d.hasSuspendedOrganizations=E,d.isIntercomEnabled=T,d.onFilterChanged=P,d.organizations=[],d.organizationsWithoutPremiumFeatures=[],d.organizationsWithNoProjects=[],d.hourlyOverageOrganizations=[],d.monthlyOverageOrganizations=[],d.projects=[],d.projectsRequiringConfiguration=[],d.showChangePlanDialog=D,d.showIntercom=M,d.suspendedForBillingOrganizations=[],d.suspendedForAbuseOrOverageOrNotActiveOrganizations=[],d.suspendedOrganizations=[],p()}}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.pagination",[]).factory("paginationService",function(){return{getCurrentPageSummary:function(e,t,n){return(t=((t=t?parseInt(t,10):1)-1)*(n=n?parseInt(n,10):100)+1)+"-"+(e&&0<e.length?t+e.length-1:t)}}})}(),function(){"use strict";angular.module("exceptionless.project",["restangular","satellizer","app.config"]).config(["$authProvider","SLACK_APPID",function(e,t){t&&e.oauth2({name:"slack",authorizationEndpoint:"https://slack.com/oauth/authorize",clientId:t,redirectUri:window.location.origin,requiredUrlParams:["client_id","scope"],optionalUrlParams:["redirect_uri","state","team"],scope:["incoming-webhook"],scopeDelimiter:" ",display:"popup",popupOptions:{width:580,height:630},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}})}])}(),function(){"use strict";angular.module("exceptionless.project").factory("projectService",["$auth","$cacheFactory","$rootScope","Restangular",function(e,t,n,r){var a=t("http:project"),i=(n.$on("cache:clear",a.removeAll),n.$on("cache:clear-project",a.removeAll),n.$on("auth:logout",a.removeAll),n.$on("OrganizationChanged",a.removeAll),n.$on("ProjectChanged",a.removeAll),n.$on("StackChanged",function(e,t){t.added&&a.removeAll()}),r.withConfig(function(e){e.setDefaultHttpFields({cache:a})}));return{addSlack:function(t){return e.link("slack").then(function(e){return r.one("projects",t).post("slack",null,{code:e.code})})},create:function(e,t){return r.all("projects").post({organization_id:e,name:t,delete_bot_data_enabled:!0})},demoteTab:function(e,t){return r.one("projects",e).one("promotedtabs").remove({name:t})},getAll:function(e,t){return(void 0===t||t?i:r).all("projects").getList(angular.extend({},{limit:1e3},e))},getById:function(e,t){return(void 0===t||t?i:r).one("projects",e).get()},getByOrganizationId:function(e,t,n){return(void 0===n||n?i:r).one("organizations",e).all("projects").getList(t||{})},getConfig:function(e){return i.one("projects",e).one("config").get()},getNotificationSettings:function(e,t){return i.one("users",t).one("projects",e).one("notifications").get()},getIntegrationNotificationSettings:function(e,t){return i.one("projects",e).one(t,"notifications").get()},isNameAvailable:function(e,t){return r.one("organizations",e).one("projects","check-name").get({name:encodeURIComponent(t)})},promoteTab:function(e,t){return r.one("projects",e).post("promotedtabs",null,{name:t})},remove:function(e){return r.one("projects",e).remove()},removeConfig:function(e,t){return r.one("projects",e).one("config").remove({key:t})},removeData:function(e,t){return r.one("projects",e).one("data").remove({key:t})},removeNotificationSettings:function(e,t){return r.one("users",t).one("projects",e).one("notifications").remove()},removeSlack:function(e){return r.one("projects",e).one("slack").remove()},resetData:function(e){return r.one("projects",e).one("reset-data").get()},setConfig:function(e,t,n){return r.one("projects",e).post("config",{value:n},{key:t},{})},setData:function(e,t,n){return r.one("projects",e).post("data",{value:n},{key:t},{})},setNotificationSettings:function(e,t,n){return r.one("users",t).one("projects",e).post("notifications",n)},setIntegrationNotificationSettings:function(e,t,n){return r.one("projects",e).one(t).post("notifications",n)},update:function(e,t){return r.one("projects",e).patch(t)}}}])}(),function(){"use strict";angular.module("exceptionless.project-filter",["angular.filter","exceptionless.auto-active","exceptionless.organization","exceptionless.project","exceptionless.refresh","exceptionless.show-on-hover-parent"]).directive("projectFilter",[function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/project-filter/project-filter-directive.tpl.html",controller:["$rootScope","$scope","$state","$stateParams","$window","debounce","filterService","notificationService","organizationService","projectService","urlService","translateService",function(r,a,e,n,i,o,s,t,l,c,u,d){var p=this;function f(){var t={organizations:{},projects:{all:y()?u.buildFilterUrl({route:b(),routePrefix:"session"}):$()?u.buildFilterUrl({moduleName:"app.reports",route:"status"},{status:s.getStatus()}):u.buildFilterUrl({route:b(),type:n.type})}};return p.organizations.forEach(function(e){t.organizations[e.id]=(e=e,y()?u.buildFilterUrl({route:b(),routePrefix:"session",organizationId:e.id}):$()?u.buildFilterUrl({moduleName:"app.reports",route:"status",organizationId:e.id},{status:s.getStatus()}):u.buildFilterUrl({route:b(),organizationId:e.id,type:n.type}))}),p.projects.forEach(function(e){t.projects[e.id]=(e=e,y()?u.buildFilterUrl({route:b(),routePrefix:"session",projectId:e.id}):$()?u.buildFilterUrl({moduleName:"app.reports",route:"status",projectId:e.id},{status:s.getStatus()}):u.buildFilterUrl({route:b(),projectId:e.id,type:n.type}))}),t}function h(){return l.getAll().then(function(e){return p.organizations=e.data.plain(),s.getOrganizationId()&&!p.organizations.filter(function(e){return e.id===s.getOrganizationId()})&&s.setOrganizationId(),k(),p.isLoadingOrganizations=!1,e},function(){p.isLoadingOrganizations=!1,t.error(d.T("An error occurred while loading your organizations."))}).then(m)}function m(){return c.getAll().then(function(e){return p.projects=e.data.plain(),s.getProjectId()&&!p.projects.filter(function(e){return e.id===s.getProjectId()})&&s.setProjectId(),k(),p.isLoadingProjects=!1,e},function(){p.isLoadingProjects=!1,t.error(d.T("An error occurred while loading your projects."))})}function g(){var n=p.filter&&p.filter.toLocaleLowerCase();return p.organizations.filter(function(t){return!n||t.name.toLocaleLowerCase().includes(n)||p.projects.find(function(e){return e.organization_id===t.id&&e.name.toLocaleLowerCase().includes(n)})?t:null})}function v(t){var n=p.filter&&p.filter.toLocaleLowerCase();return p.projects.filter(function(e){return e.organization_id===t&&(!n||e.name.toLocaleLowerCase().includes(n)||e.organization_name.toLocaleLowerCase().includes(n))?e:null})}function b(){return e.current.name.endsWith("frequent")?"frequent":e.current.name.endsWith("new")?"new":e.current.name.endsWith("users")?"users":"events"}function y(){return e.current.name.contains("app.session-")||"app.session.events"===e.current.name}function $(){return e.current.name.contains("app.reports.")}function w(){return 20<=p.projects.length||20<=p.organizations.length}function k(){p.filteredDisplayName=function(){var t=s.getOrganizationId();if(t){var e=p.organizations.filter(function(e){return e.id===t})[0];if(e)return e.name}var n=s.getProjectId();if(n){e=p.projects.filter(function(e){return e.id===n})[0];if(e)return e.name}return d.T("All Projects")}(),p.urls=f()}this.$onInit=function(){var e=o(function(){p.filterDropDownMaxHeight=angular.element(i).height()-100},150),t=angular.element(i),n=(t.bind("resize",e),r.$on("$stateChangeSuccess",k),a.$on("$destroy",function(){n(),t.unbind("resize",e)}));p.filteredDisplayName="Loading",p.get=h,p.getFilteredOrganizations=g,p.getFilteredProjectsByOrganizationId=v,p.filter="",p.isLoadingOrganizations=!0,p.isLoadingProjects=!0,p.organizations=[],p.projects=[],p.showSearch=w,p.urls=f(),p.update=k,e(),h()}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.projects",["exceptionless","exceptionless.dialog","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.project","exceptionless.refresh","exceptionless.validators"]).directive("projects",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/projects/projects-directive.tpl.html",controller:["$ExceptionlessClient","$window","$scope","$state","dialogService","filterService","linkService","notificationService","paginationService","projectService","translateService",function(r,a,e,i,t,n,o,s,l,c,u){var d=this;function p(e,n){return d.loading=0===d.projects.length,d.currentOptions=e||d.settings.options,d.settings.get(d.currentOptions,n).then(function(e){d.projects=e.data.plain();var t=o.getLinksQueryParameters(e.headers("link"));return d.previous=t.previous,d.next=t.next,d.pageSummary=l.getCurrentPageSummary(e.data,d.currentOptions.page,d.currentOptions.limit),0===d.projects.length&&d.currentOptions.page&&1<d.currentOptions.page?p(null,n):d.projects},function(){return d.projects=[],d.previous=null,d.next=null,d.pageSummary=l.getCurrentPageSummary(d.projects,d.currentOptions.page,d.currentOptions.limit),d.projects}).finally(function(){d.loading=!1})}function f(){return d.projects&&0<d.projects.length}function h(t){var e;return!t||!t.type||(e=d.settings.organization,"Organization"===t.type?!f()&&t.id===e||0<d.projects.filter(function(e){return t.id===e.organization_id}).length:"Project"===t.type?!f()&&t.organization_id===e||0<d.projects.filter(function(e){return t.id?t.id===e.id:(t.organization_id=e.organization_id,t.organization_id)}).length:"PersistentEvent"===t.type&&!t.updated&&(!f()&&t.organization_id===e||0<d.projects.filter(function(e){return t.project_id?t.project_id===e.id:(t.organization_id=e.organization_id,t.organization_id)}).length))}function m(e,t){var n=t.ctrlKey||t.metaKey||2===t.which;r.createFeatureUsage(d._source+".open").setProperty("id",e).setProperty("_blank",n).submit(),n?a.open(i.href("app.project.manage",{id:e},{absolute:!0}),"_blank"):i.go("app.project.manage",{id:e}),t.preventDefault()}function g(){return r.createFeatureUsage(d._source+".nextPage").setProperty("next",d.next).submit(),p(d.next)}function v(){return r.createFeatureUsage(d._source+".previousPage").setProperty("previous",d.previous).submit(),p(d.previous)}function b(e){return r.createFeatureUsage(d._source+".remove").setProperty("project",e).submit(),t.confirmDanger(u.T("Are you sure you want to delete this project?"),u.T("Delete Project")).then(function(){return c.remove(e.id).then(function(){d.projects.splice(d.projects.indexOf(e),1),s.info(u.T("Successfully queued the project for deletion.")),r.createFeatureUsage(d._source+".remove.success").setProperty("project",e).submit()},function(){r.createFeatureUsage(d._source+".remove.error").setProperty("project",e).submit(),s.error(u.T("An error occurred while trying to remove the project."))})}).catch(function(e){})}this.$onInit=function(){d._source="exceptionless.projects",d.form={},d.canRefresh=h,d.currentOptions={},d.get=p,d.hasFilter=n.hasFilter,d.hasProjects=f,d.includeOrganizationName=!d.settings.organization,d.loading=!0,d.nextPage=g,d.open=m,d.previousPage=v,d.projects=[],d.remove=b,r.submitFeatureUsage(d._source),p()};var y=e.$watch("vm.settings.options.filter",function(e,t){e!==t&&d.get()});e.$on("$destroy",function(){y()})}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.promise-button",[]).directive("promiseButton",["$compile",function(a){return{restrict:"A",scope:{promiseButton:"&",promiseButtonBusyText:"@",promiseButtonBusySpinnerClass:"@"},templateUrl:"components/promise-button/promise-button-directive.tpl.html",transclude:!0,link:function(t,e,n){function r(){t.running=!1}e.attr("ng-click","start()"),e.removeAttr("promise-button"),e.find("[ng-transclude]").removeAttr("ng-transclude"),t.running=!1,t.start=function(){var e;t.running||(e=t.promiseButton())&&e.finally&&(t.running=!0,e.finally(r))},a(e)(t)}}}])}(),function(){"use strict";angular.module("exceptionless.rate-limit",["restangular"]).run(["rateLimitService","Restangular",function(o,e){e.addResponseInterceptor(function(e,t,n,r,a,i){return o.updateFromResponseHeader(a),e})}])}(),function(){"use strict";angular.module("exceptionless.rate-limit").directive("rateLimit",function(){return{restrict:"E",replace:!0,scope:{organizationId:"=",ignoreFree:"=",ignoreConfigureProjects:"="},templateUrl:"components/rate-limit/rate-limit-directive.tpl.html",controller:["rateLimitService",function(e){var t=this;function n(){return e.rateLimitExceeded()}this.$onInit=function(){t.rateLimitExceeded=n}}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.rate-limit").factory("rateLimitService",["$rootScope",function(e){var n,r,a=!1;return{rateLimitExceeded:function(){return a},updateFromResponseHeader:function(e){var t=parseInt(e.headers("X-RateLimit-Limit"),10),t=(n=isNaN(t)?-1:t,parseInt(e.headers("X-RateLimit-Remaining"),10));r=isNaN(t)?-1:t,a=0<n&&r<=0}}}])}(),function(){"use strict";angular.module("exceptionless.refresh",["debounce"]).directive("refreshOn",["$parse","$rootScope","debounce",function(o,s,r){return{restrict:"AE",link:function(a,e,i){function t(e,n,r){var t=s.$on(e,function(e,t){r&&!a.$eval(r,{data:t})||n(a,{data:t})});a.$on("$destroy",function(){t(),i.refreshStopping&&o(i.refreshStopping)(a)})}var n;i.refreshAction&&(n=o(i.refreshAction),i.refreshDebounce?n=r(n,parseInt(i.refreshDebounce||1e3,10),!0):i.refreshThrottle&&(n=_.throttle(n,parseInt(i.refreshThrottle||1e3,10))),i.refreshOn&&angular.forEach(i.refreshOn.split(" "),function(e){t(e,n,i.refreshIf)}),i.refreshAlways)&&angular.forEach(i.refreshAlways.split(" "),function(e){t(e,n)})}}}])}(),function(){"use strict";angular.module("exceptionless.relative-time",[]).directive("relativeTime",["$interval",function(n){return{restrict:"AE",scope:{to:"=",date:"="},link:function(r,a){function t(){var e=moment(r.to),t=moment(r.date),n=!!r.to&&e.isValid()&&1<e.year()&&!!r.date&&t.isValid()&&1<t.year();a.text(n?t.to(e,!0):"never")}t(),r.$watch("to",function(e){t()}),r.$watch("date",function(e){t()});var e=n(t,6e4);r.$on("$destroy",function(){n.cancel(e)})}}}])}(),function(){"use strict";angular.module("exceptionless.release-notification",["exceptionless.refresh"]).directive("releaseNotification",[function(){return{restrict:"E",templateUrl:"components/release-notification/release-notification-directive.tpl.html",controller:["$window",function(t){var n=this;function e(e){e&&(e.critical&&t.location.reload(),n.releaseNotificationMessage=e.message)}this.$onInit=function(){n.processReleaseNotification=e,n.releaseNotificationMessage=""}}],controllerAs:"rvm"}}])}(),function(){"use strict";angular.module("angular-rickshaw",["debounce"]).directive("rickshaw",["$compile","$window","debounce",function(c,e,i){return{restrict:"E",scope:{options:"=options",features:"=features"},link:function(o,s){var l;var n=i(function(){if(o.options&&o.options.series&&o.options.series[0]&&o.options.series[0].data){var e,t=angular.element(s),n=(t.empty(),c('<div class="chart-holder-small"></div>')(o)),r=(t.append(n),n=n[0],(e=angular.copy(o.options)).element=n,e);if(l=new Rickshaw.Graph(r),o.features&&o.features.hover&&(n={graph:l,xFormatter:o.features.hover.xFormatter,yFormatter:o.features.hover.yFormatter,formatter:o.features.hover.formatter,onRender:o.features.hover.onRender},new(o.features.hover.render?Rickshaw.Class.create(Rickshaw.Graph.HoverDetail,{render:o.features.hover.render}):Rickshaw.Graph.HoverDetail)(n)),o.features&&o.features.palette)for(var a=new Rickshaw.Color.Palette({scheme:o.features.palette}),i=0;i<r.series.length;i++)r.series[i].color=a.color();o.features&&o.features.range&&new Rickshaw.Graph.RangeSelector({graph:l,selectionCallback:o.features.range.onSelection}),l.render(),o.features&&o.features.xAxis&&(e={graph:l},o.features.xAxis.element&&(e.element=o.features.xAxis.element),o.features.xAxis.orientation&&(e.orientation=o.features.xAxis.orientation),o.features.xAxis.pixelsPerTick&&(e.pixelsPerTick=o.features.xAxis.pixelsPerTick),(n=o.features.xAxis.timeFixture)&&(o.features.xAxis.overrideTimeFixtureCustomFormatters&&(n.units[2].formatter=function(e){return moment(e).format("MMM")},n.units[3].formatter=function(e){return moment(e).format("MMM D")},n.units[4].formatter=function(e){return moment(e).format("MMM D")},n.units[5].formatter=function(e){return moment(e).format("ha")},n.units[6].formatter=function(e){return moment(e).format("h:mma")},n.units[7].formatter=function(e){return moment(e).format("h:mma")},n.units[8].formatter=function(e){return moment(e).format("h:mma")},n.units[8].formatter=function(e){return moment(e).format("h:mma")},n.units[8].formatter=function(e){return moment(e).format("h:mma")},n.units[8].formatter=function(e){return moment(e).format("h:mma")}),e.timeFixture=n),o.features.xAxis.timeUnit&&(n=new Rickshaw.Fixtures.Time,e.timeUnit=n.unit(o.features.xAxis.timeUnit)),o.features.xAxis.ticks&&(e.ticks=o.features.xAxis.ticks),o.features.xAxis.tickValues&&(e.tickValues=o.features.xAxis.tickValues),o.features.xAxis.tickSize&&(e.tickSize=o.features.xAxis.tickSize),o.features.xAxis.ticksTreatment&&(e.ticksTreatment=o.features.xAxis.ticksTreatment),new(e.orientation||e.pixelsPerTick||e.ticks||e.tickValues||e.tickSize||e.element?Rickshaw.Graph.Axis.X:Rickshaw.Graph.Axis.Time)(e).render()),o.features&&o.features.yAxis&&(n={graph:l},o.features.yAxis.element&&(n.element=o.features.yAxis.element),o.features.yAxis.orientation&&(n.orientation=o.features.yAxis.orientation),o.features.yAxis.pixelsPerTick&&(n.pixelsPerTick=o.features.yAxis.pixelsPerTick),o.features.yAxis.ticks&&(n.ticks=o.features.yAxis.ticks),o.features.yAxis.tickValues&&(n.tickValues=o.features.yAxis.tickValues),o.features.yAxis.tickSize&&(n.tickSize=o.features.yAxis.tickSize),o.features.yAxis.ticksTreatment&&(n.ticksTreatment=o.features.yAxis.ticksTreatment),o.features.yAxis.tickFormat&&(n.tickFormat=Rickshaw.Fixtures.Number[o.features.yAxis.tickFormat]),o.features.yAxis.ticksTreatment&&(n.ticksTreatment=o.features.yAxis.ticksTreatment),new Rickshaw.Graph.Axis.Y(n).render()),o.features&&o.features.legend&&(e=c("<div></div>")(o),t.append(e),n=new Rickshaw.Graph.Legend({graph:l,element:e[0]}),o.features.legend.toggle&&new Rickshaw.Graph.Behavior.Series.Toggle({graph:l,legend:n}),o.features.legend.highlight)&&new Rickshaw.Graph.Behavior.Series.Highlight({graph:l,legend:n})}},150),t=o.$watch(function(){return o.options.series?o.options.series.length:0},function(e,t){angular.equals(e,t)||n()}),r=o.$watch(function(){return o.options.series&&o.options.series[0]&&o.options.series[0].data?o.options.series[0].data:o.options.series},function(e,t){angular.equals(e,t)||n()}),a=angular.element(e);a.bind("resize",n),o.$on("$destroy",function(e){t(),r(),a.unbind("resize",n)})},template:'<div class="rickshaw-container"></div>'}}])}(),function(){"use strict";Rickshaw.namespace("Rickshaw.Graph.RangeSelector"),Rickshaw.Graph.RangeSelector=Rickshaw.Class.create({initialize:function(e){this.element=e.element;var t=this.graph=e.graph,e=(t._selectionCallback=e.selectionCallback,this.position={},this.selectionBox=$('<div class="rickshaw_range_selector"></div>')),n=$('<div class="rickshaw_range_selector_loader"></div>');e.insertBefore(t.element.firstChild),n.insertBefore(t.element.firstChild),this._addListeners(),t.onUpdate(function(){this.update()}.bind(this))},_addListeners:function(){var r=this.graph,a=this.position,i=this.selectionBox,o=!1;r.element.addEventListener("mousedown",function(e){e.stopPropagation();var t,n=this.startPointX=e.layerX;i.css({left:e.layerX,height:"100%",width:0}),o=!0,t=n,r.element.addEventListener("mousemove",function(e){if(!0!==o)return!1;e.stopPropagation(),a.x=e.layerX,e=Math.max(a.x,t)-Math.min(a.x,t),a.minX=Math.min(a.x,t),a.maxX=a.minX+e,i.css({transition:"none",opacity:"1",width:e,height:"100%",left:a.minX,top:"0"})},!1)},!0),document.body.addEventListener("keyup",function(e){o&&!1!==o&&(e.stopPropagation(),27===e.keyCode)&&(o=!1,i.css({transition:"opacity 0.2s ease-out",opacity:"0",width:0,height:0}))},!0),document.body.addEventListener("mouseup",function(e){o&&!1!==o&&(o=!1,a.coordMinX=Math.round(r.x.invert(a.minX)),a.coordMaxX=Math.round(r.x.invert(a.maxX)),i.css({transition:"opacity 0.2s ease-out",width:0,height:0,opacity:"0"}),!r._selectionCallback||isNaN(a.coordMinX)||isNaN(a.coordMaxX)||this.startPointX===e.layerX||a.coordMinX===a.coordMaxX||0!==e.button||r._selectionCallback(a),this.startPointX=0)},!1)},update:function(){var e=this.graph,t=this.position;null===e.window.xMin&&(t.coordMinX=e.dataDomain()[0]),null===e.window.xMax&&(t.coordMaxX=e.dataDomain()[1])}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.DottedLine"),Rickshaw.Graph.Renderer.DottedLine=Rickshaw.Class.create(Rickshaw.Graph.Renderer.Line,{name:"dotted_line",_styleSeries:function(e){var t=Rickshaw.Graph.Renderer.Line.prototype._styleSeries.call(this,e);return d3.select(e.path).style("stroke-dasharray","3, 2"),t}})}(),function(){"use strict";angular.module("exceptionless.search",["restangular"]).factory("searchService",["$cacheFactory","$timeout","$q","Restangular",function(e,n,r,t){var a=e("http:search"),i=t.withConfig(function(e){e.setDefaultHttpFields({cache:a})});return{validate:function(e){var t;return!e||e.trim&&"*"===e.trim()?(t=r.defer(),n(function(){t.resolve({data:{is_valid:!0,uses_premium_features:!1}})},0),t.promise):i.one("search","validate").get({query:e})}}}])}(),function(){"use strict";angular.module("exceptionless.search-filter",["ngMessages","exceptionless","exceptionless.autofocus","exceptionless.refresh","exceptionless.validators"])}(),function(){"use strict";angular.module("exceptionless.search-filter").directive("searchFilter",function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"components/search-filter/search-filter-directive.tpl.html",controller:["filterService",function(t){var e=this;function n(e){t.setFilter(e)}function r(){e.filter=t.getFilter()}this.$onInit=function(){e.searchFilterForm={},e.setSearchFilter=n,e.updateFilter=r,r()}}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.semver",[]).directive("semver",function(){return{restrict:"A",scope:!1,require:"?ngModel",link:function(e,t,n,a){a.$parsers.push(function(e){var t,n,r;return e&&/^(\d+)\.(\d+)\.?(\d+)?\.?(\d+)?$/.test(e)&&(t="",r=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,(n=/^(\d+)\.(\d+)$/).test(e)?t=e.replace(n,"$1.$2.0"):r.test(e)&&(t=e.replace(r,"$1.$2.$3-$4")),""!==t)&&(a.$setViewValue(t),a.$render()),e})}}})}(),function(){"use strict";angular.module("exceptionless.show-on-hover-parent",[]).directive("showOnHoverParent",function(){return{restrict:"A",link:function(e,t){t.parent().bind("mouseenter",function(){t.show()}),t.parent().bind("mouseleave",function(){t.hide()}),t.hide()}}})}(),function(){"use strict";angular.module("exceptionless.simple-error",[]).factory("simpleErrorService",function(){return{getExceptions:function(e){for(var t=[],n=e;n;)t.push(n),n=n.inner;return t}}})}(),function(){"use strict";angular.module("exceptionless.simple-stack-trace",["ngSanitize","exceptionless","exceptionless.simple-error"]).directive("simpleStackTrace",["$ExceptionlessClient","$sanitize","$sce","simpleErrorService",function(e,t,n,r){function a(e,t){return function(e,t){for(var n="",r=0;r<e.length;r++){t&&(n+='<span class="ex-header">'),0<r&&(n+=" ---\x3e ");var a=!!e[r].type;a&&(n+=t?'<span class="ex-type">'+i(e[r].type)+"</span>: ":e[r].type+": "),e[r].message&&(n+=t?'<span class="ex-message">'+i(e[r].message)+"</span>":e[r].message),a&&(n+=t?"</span>":"\r\n")}return n}(e,t)+function(e,t){for(var n="",r=0;r<e.length;r++){var a=e[r].stack_trace;a&&(t?(n+='<div class="stack-frame">'+i(a.replace(" ","")),r<e.length-1&&(n+="<div>--- End of inner exception stack trace ---</div>"),n+="</div>"):(n+=a.replace(" ",""),r<e.length-1&&(n+="--- End of inner exception stack trace ---")))}return n}(e.reverse(),t)}function i(e){return e&&e.replace?n.trustAsHtml(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")):e}return{bindToController:!0,restrict:"E",replace:!0,scope:{exception:"=",textStackTrace:"=?"},template:'<pre class="stack-trace"><code ng-bind-html="vm.stackTrace"></code></pre>',controller:[function(){var t=this;this.$onInit=function(){var e=r.getExceptions(t.exception);t.stackTrace=n.trustAsHtml(a(e,!0)),t.textStackTrace=a(e,!1)}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.stack",["restangular","exceptionless.filter"]).factory("stackService",["filterService","Restangular",function(n,r){return{addLink:function(e,t){return r.one("stacks",e).one("add-link").customPOST({value:t},void 0,void 0,{})},changeStatus:function(e,t){return r.one("stacks",e).post("change-status",null,{status:t})},getAll:function(e){var e=n.apply(e),t=n.getOrganizationId();return(t?r.one("organizations",t):(t=n.getProjectId())?r.one("projects",t):r).all("stacks").getList(e)},getById:function(e){return r.one("stacks",e).get()},getFrequent:function(e){var e=n.apply(e),t=n.getOrganizationId();return(t?r.one("organizations",t):(t=n.getProjectId())?r.one("projects",t):r).one("stacks").all("frequent").getList(e)},getUsers:function(e){var e=n.apply(e),t=n.getOrganizationId();return(t?r.one("organizations",t):(t=n.getProjectId())?r.one("projects",t):r).one("stacks").all("users").getList(e)},getNew:function(e){var e=n.apply(e),t=n.getOrganizationId();return(t?r.one("organizations",t):(t=n.getProjectId())?r.one("projects",t):r).one("stacks").all("new").getList(e)},markCritical:function(e){return r.one("stacks",e).one("mark-critical").post()},markNotCritical:function(e){return r.one("stacks",e).one("mark-critical").remove()},markFixed:function(e,t){return r.one("stacks",e).post("mark-fixed",null,{version:t})},markSnoozed:function(e,t){return r.one("stacks",e).post("mark-snoozed",null,{snoozeUntilUtc:t})},promote:function(e){return r.one("stacks",e).one("promote").post()},remove:function(e){return r.one("stacks",e).remove()},removeLink:function(e,t){return r.one("stacks",e).one("remove-link").customPOST({value:t},void 0,void 0,{})}}}])}(),function(){"use strict";angular.module("exceptionless.stack-dialog",["ui.bootstrap","dialogs.main","exceptionless.autofocus","exceptionless.semver","exceptionless.validators"])}(),function(){"use strict";angular.module("exceptionless.stack-dialog").factory("stackDialogService",["dialogs",function(e){return{markFixed:function(){return e.create("components/stack-dialog/mark-fixed-dialog.tpl.html","MarkFixedDialog as vm").result}}}])}(),function(){"use strict";angular.module("exceptionless.stack-dialog").controller("MarkFixedDialog",["$ExceptionlessClient","$uibModalInstance",function(t,n){var r=this;function e(){n.dismiss("cancel")}function a(e){!1!==e&&(t.createFeatureUsage(r._source+".save").setProperty("version",r.data.version).submit(),n.close(r.data.version))}this.$onInit=function(){r._source="app.stack-dialog.MarkFixedDialog",r.cancel=e,r.data={},r.markFixedForm={},r.save=a,t.submitFeatureUsage(r._source)}}])}(),function(){"use strict";angular.module("exceptionless.stack-trace",["ngSanitize","exceptionless","exceptionless.error"]).directive("stackTrace",["$ExceptionlessClient","$sanitize","$sce","errorService",function(e,t,n,r){function o(e,t){var n;return e?(n=[],e.declaring_namespace&&n.push(e.declaring_namespace),e.declaring_type&&n.push(e.declaring_type),n.push(e.name||"<anonymous>"),n="at "+n.join(".").replace("+","."),e.generic_arguments&&0<e.generic_arguments.length&&(n+="["+e.generic_arguments.join(",")+"]"),n+=function(e){for(var t,n,r,a="(",i=0;i<(e||[]).length;i++)0<i&&(a+=", "),a+=(t=e[i],r=n=void 0,n="",r=[],t.type_namespace&&r.push(t.type_namespace),t.type&&r.push(t.type),n+=r.join(".").replace("+","."),t.generic_arguments&&0<t.generic_arguments.length&&(n+="["+t.generic_arguments.join(",")+"]"),t.name&&(n+=" "+t.name),n);return a+")"}(e.parameters),e.data&&(0<e.data.ILOffset||0<e.data.NativeOffset)&&(n+=" at offset "+e.data.ILOffset||e.data.NativeOffset),e.file_name&&(n+=" in "+e.file_name,0<e.line_number&&(n+=":line "+e.line_number),0<e.column)&&(n+=":col "+e.column),t?s(n+"\r\n"):n+"\r\n"):"<null>\r\n"}function a(e,t){return e?function(e,t){for(var n="",r=0;r<e.length;r++){t&&(n+='<span class="ex-header">'),0<r&&(n+=" ---\x3e ");var a=!!e[r].type;a&&(n+=t?'<span class="ex-type">'+s(e[r].type)+"</span>: ":e[r].type+": "),e[r].message&&(n+=t?'<span class="ex-message">'+s(e[r].message)+"</span>":e[r].message),a&&(n+=t?"</span>":"\r\n")}return n}(e,t)+function(e,t){for(var n="",r=0;r<e.length;r++){var a=e[r].stack_trace;if(a){t&&(n+='<div class="stack-frame">');for(var i=0;i<a.length;i++)n+=t?s(o(a[i],t)):o(a[i],t);r<e.length-1&&(n+=t?"<div>--- End of inner exception stack trace ---</div>":"--- End of inner exception stack trace ---"),t&&(n+="</div>")}}return n}(e.reverse(),t):null}function s(e){return e&&e.replace?n.trustAsHtml(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")):e}return{bindToController:!0,restrict:"E",replace:!0,scope:{exception:"=",textStackTrace:"=?"},template:'<pre class="stack-trace"><code ng-bind-html="vm.stackTrace"></code></pre>',controller:[function(){var t=this;this.$onInit=function(){var e=r.getExceptions(t.exception);t.stackTrace=n.trustAsHtml(a(e,!0)),t.textStackTrace=a(e,!1)}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("exceptionless.stacks",["angular-filters","checklist-model","ui.bootstrap","dialogs.main","exceptionless","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.summary","exceptionless.stack-dialog","exceptionless.timeago"])}(),function(){"use strict";angular.module("exceptionless.stacks").factory("stacksActionsService",["$ExceptionlessClient","dialogService","stackDialogService","stackService","notificationService","translateService","$q",function(n,t,e,r,a,i,o){var s="exceptionless.stacks.stacksActionsService";function l(t,n){return function(e){return t(e,n)}}function c(e,n,t,r){var a=o.defer(),e=_.chunk(e,10).reduce(function(e,t){return e.then(n(t.join(",")))},a.promise).then(t,r);return a.resolve(),e}var u={name:"Mark Open",run:function(e){return n.createFeatureUsage(s+".mark-open").setProperty("count",e.length).submit(),c(e,l(r.changeStatus,"open"),function(){a.info(i.T("Successfully marked the stacks as open."))},function(){n.createFeatureUsage(s+".mark-open.error").setProperty("count",e.length).submit(),a.error(i.T("An error occurred while marking stacks as open."))})}},d={name:"Delete",run:function(e){return n.createFeatureUsage(s+".delete").setProperty("count",e.length).submit(),t.confirmDanger(i.T("Are you sure you want to delete these stacks (includes all stack events)?"),i.T("DELETE STACKS")).then(function(){return c(e,r.remove,function(){a.info(i.T("Successfully queued the stacks for deletion."))},function(){n.createFeatureUsage(s+".delete.error").setProperty("count",e.length).submit(),a.error(i.T("An error occurred while deleting the stacks."))})}).catch(function(e){})}},p={name:"Mark Fixed",run:function(t){return n.createFeatureUsage(s+".mark-fixed").setProperty("count",t.length).submit(),e.markFixed().then(function(e){return c(t,l(r.markFixed,e),function(){a.info(i.T("Successfully marked the stacks as fixed."))},function(){n.createFeatureUsage(s+".mark-fixed.error").setProperty("count",t.length).submit(),a.error(i.T("An error occurred while marking stacks as fixed."))})}).catch(function(e){})}},f={name:"Mark Ignored",run:function(e){return n.createFeatureUsage(s+".mark-ignored").setProperty("count",e.length).submit(),c(e,l(r.changeStatus,"ignored"),function(){a.info(i.T("Successfully marked the stacks as ignored."))},function(){n.createFeatureUsage(s+".mark-ignored.error").setProperty("count",e.length).submit(),a.error(i.T("An error occurred while marking stacks as ignored."))})}},h={name:"Mark Discarded",run:function(e){return n.createFeatureUsage(s+".mark-discarded").setProperty("count",e.length).submit(),c(e,l(r.changeStatus,"discarded"),function(){a.info(i.T("Successfully marked the stacks as discarded."))},function(){n.createFeatureUsage(s+".mark-discarded.error").setProperty("count",e.length).submit(),a.error(i.T("An error occurred while marking stacks as discarded."))})}};return{getActions:function(){return[u,p,f,h,d]}}}])}(),function(){"use strict";angular.module("exceptionless.stacks").directive("stacks",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/stacks/stacks-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","linkService","filterService","notificationService","paginationService","stacksActionsService","translateService",function(r,a,i,e,n,t,o,s,l,c){var u=this;function d(e){return e&&"Stack"===e.type?t.includedInProjectOrOrganizationFilter({organizationId:e.organization_id,projectId:e.project_id}):e&&"Organization"===e.type||"Project"===e.type?t.includedInProjectOrOrganizationFilter({organizationId:e.id,projectId:e.id}):!e}function p(t){return u.loading=0===u.stacks.length,u.currentOptions=t||u.settings.options,u.settings.get(u.currentOptions).then(function(e){u.stacks=e.data.plain(),u.selectedIds=u.selectedIds.filter(function(t){return 0<u.stacks.filter(function(e){return e.id===t}).length});var t=n.getLinksQueryParameters(e.headers("link"));return u.previous=t.previous,u.next=t.next,u.pageSummary=s.getCurrentPageSummary(e.data,u.currentOptions.page,u.currentOptions.limit),0===u.stacks.length&&u.currentOptions.page&&1<u.currentOptions.page?p():u.stacks},function(e){return 404!==e.status&&e.data&&o.error("Error loading stacks: "+(e.data.message||e.data)),r.createLog(u._source+".get","Error while loading stacks","Error").setProperty("options",t).setProperty("response",e).submit(),u.stacks=[],u.previous=null,u.next=null,e}).finally(function(){u.loading=!1})}function f(e,t){var n=t.ctrlKey||t.metaKey||2===t.which;r.createFeatureUsage(u._source+".open").setProperty("id",e).setProperty("_blank",n).submit(),n?a.open(i.href("app.stack",{id:e},{absolute:!0}),"_blank"):i.go("app.stack",{id:e}),t.preventDefault()}function h(){return r.createFeatureUsage(u._source+".nextPage").setProperty("next",u.next).submit(),p(u.next)}function m(){return r.createFeatureUsage(u._source+".previousPage").setProperty("previous",u.previous).submit(),p(u.previous)}function g(e){0===u.selectedIds.length?o.info(null,c.T("Please select one or more stacks")):e.run(u.selectedIds).then(function(){u.selectedIds=[]})}function v(){u.stacks&&0===u.stacks.length||(0<u.selectedIds.length?u.selectedIds=[]:u.selectedIds=u.stacks.map(function(e){return e.id}))}this.$onInit=function(){u._source=u.settings.source+".stacks",u.actions=l.getActions(),u.canRefresh=d,u.get=p,u.hasFilter=t.hasFilter,u.loading=!0,u.nextPage=h,u.open=f,u.previousPage=m,u.save=g,u.selectedIds=[],u.showStatus=u.settings.summary?u.settings.showStatus:!t.getStatus(),u.showType=u.settings.summary?u.settings.showType:!t.getEventType(),u.stacks=[],u.updateSelection=v,p()}}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.state",["angular-locker","ui.router"]).factory("stateService",["$location","$state","locker",function(a,i,e){var o=e.driver("session").namespace("state");function r(e){e&&e.filter(function(e){return i.current.name.startsWith(e)})[0]||o.has("name")||(o.put("name",i.current.name),o.put("params",i.params))}return{clear:function(){o.forget(["name","params"])},restore:function(e,t){var n=o.pull("name"),r=o.pull("params")||{};return n?i.go(n,r):e?i.go(e,t||{}):a.path("/")},saveRequested:function(e,t,n){r(e),t&&!o.get("name",!1)&&(o.put("name",t),o.put("params",n))},save:r}}])}(),function(){"use strict";angular.module("exceptionless.status",["restangular"]).factory("statusService",["Restangular","BASE_URL",function(e,t){return{about:function(){return e.oneUrl("HealthChecks",t+"/api/v2/about").get()},get:function(){return e.oneUrl("HealthChecks",t+"/health").get()}}}])}(),function(){"use strict";angular.module("exceptionless.system-notification",["exceptionless.refresh"]).directive("systemNotification",[function(n){return{restrict:"E",templateUrl:"components/system-notification/system-notification-directive.tpl.html",controller:function(){var t=this;function e(e){e&&(t.systemNotificationMessage=e.message||n)}this.$onInit=function(){t.processSystemNotification=e,t.systemNotificationMessage=n}},controllerAs:"svm"}}])}(),function(){"use strict";angular.module("exceptionless.summary",["exceptionless.truncate"]).directive("summary",function(){return{restrict:"E",scope:{source:"=",showStatus:"=",showType:"="},template:'<ng-include src="templateUrl" />',link:function(e){var t=e.source&&e.source.data&&e.source.data.Level?e.source.data.Level.toLowerCase():null;e.isLevelSuccess="trace"===t||"debug"===t,e.isLevelInfo="info"===t,e.isLevelWarning="warn"===t,e.isLevelError="error"===t,e.showBadge=e.showStatus&&e.source.status&&"open"!==e.source.status,e.badgeClass="label-"+(e.source.status||"open"),e.templateUrl="components/summary/templates/"+e.source.template_key+".tpl.html"}}})}(),function(){"use strict";angular.module("exceptionless.timeago",[]).directive("timeago",["$interval",function(a){return{restrict:"AE",scope:{date:"="},link:function(t,n){function e(){var e=moment(t.date);n.text(t.date&&e.isValid()&&1<e.year()?e.fromNow():"never")}e(),t.$watch("date",function(){e()});var r=a(e,15e3);t.$on("$destroy",function(){a.cancel(r)})}}}])}(),function(){"use strict";angular.module("exceptionless.token",["restangular"]).factory("tokenService",["Restangular",function(n){return{create:function(e){return e={organization_id:e.organization_id,project_id:e.project_id,scopes:["client"]},n.all("tokens").post(e)},getById:function(e){return n.one("tokens",e).get()},getByOrganizationId:function(e,t){return n.one("organizations",e).all("tokens").getList(t||{})},getByProjectId:function(e,t){return n.one("projects",e).all("tokens").getList(t||{})},getProjectDefault:function(e){return n.one("projects",e).one("tokens","default").get()},remove:function(e){return n.one("tokens",e).remove()},update:function(e,t){return n.one("tokens",e).patch(t)}}}])}(),function(){"use strict";angular.module("exceptionless.truncate",["debounce"]).directive("truncate",["$window","$timeout","debounce",function(d,p,f){return{restrict:"A",link:function(e,t,n){var r,a,i,o=angular.element(t),s=n.lines||1,l=(1===s&&(i=!0,r=o.css("overflow"),a=o.css("whitespace"),r=r||"initial",a=a||"initial",o.css("overflow","hidden"),o.css("white-space","nowrap")),f(function(){i&&(i=!1,o.css("overflow",r),o.css("white-space",a)),o.trunk8({lines:s,tooltip:void 0===n.overwriteTooltip||!0===n.overwriteTooltip})},100)),c=p(l,100),u=angular.element(d);u.bind("resize",l),e.$on("$destroy",function(e){p.cancel(c),u.unbind("resize",l)})}}}])}(),function(){"use strict";angular.module("exceptionless.user",["restangular"]).factory("userService",["$cacheFactory","$rootScope","Restangular",function(e,t,n){var r=e("http:user"),a=(t.$on("cache:clear",r.removeAll),t.$on("cache:clear-user",r.removeAll),t.$on("auth:logout",r.removeAll),t.$on("UserChanged",r.removeAll),n.withConfig(function(e){e.setDefaultHttpFields({cache:r})}));function i(e,t){return!!e&&!!e.roles&&-1!==e.roles.indexOf(t)}return{addAdminRole:function(e){return n.one("users",e).one("admin-role").post()},getCurrentUser:function(e){return(void 0===e||e?a:n).one("users","me").get()},getById:function(e){return n.one("users",e).get()},getByOrganizationId:function(e,t){return n.one("organizations",e).all("users").getList(t||{})},hasAdminRole:function(e){return i(e,"global")},hasRole:i,removeAdminRole:function(e){return n.one("users",e).one("admin-role").remove()},removeCurrentUser:function(){return n.one("users","me").remove()},resendVerificationEmail:function(e){return n.one("users",e).one("resend-verification-email").get()},update:function(e,t){return n.one("users",e).patch(t)},updateEmailAddress:function(e,t){return n.one("users",e).one("email-address",t).post()},verifyEmailAddress:function(e){return n.one("users","verify-email-address").one(e).get()}}}])}(),function(){"use strict";angular.module("exceptionless.users",["exceptionless","exceptionless.dialog","exceptionless.link","exceptionless.notification","exceptionless.organization","exceptionless.pagination","exceptionless.refresh","exceptionless.user"]).directive("users",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"components/users/users-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","dialogService","linkService","notificationService","organizationService","paginationService","userService","translateService",function(r,e,t,a,i,o,n,s,l,c){var u=this;function d(e,n){return u.currentOptions=e||u.settings.options,u.settings.get(u.currentOptions,n).then(function(e){u.users=e.data.plain();var t=i.getLinksQueryParameters(e.headers("link"));return u.previous=t.previous,u.next=t.next,u.pageSummary=s.getCurrentPageSummary(e.data,u.currentOptions.page,u.currentOptions.limit),0===u.users.length&&u.currentOptions.page&&1<u.currentOptions.page?d(null,n):u.users})}function p(e){return l.hasAdminRole(e)}function f(){return u.users&&0<u.users.length}function h(){return r.createFeatureUsage(u._source+".nextPage").setProperty("next",u.next).submit(),d(u.next)}function m(){return r.createFeatureUsage(u._source+".previousPage").setProperty("previous",u.previous).submit(),d(u.previous)}function g(e){return r.createFeatureUsage(u._source+".remove").setProperty("user",e).submit(),a.confirmDanger(c.T("Are you sure you want to remove this user from your organization?"),c.T("Remove User")).then(function(){return n.removeUser(u.settings.organizationId,e.email_address).then(function(){r.createFeatureUsage(u._source+".remove.success").setProperty("user",e).submit()},function(){r.createFeatureUsage(u._source+".remove.error").setProperty("user",e).submit(),o.error(c.T("An error occurred while trying to remove the user."))})}).catch(function(e){})}function v(e){return n.addUser(u.settings.organizationId,e.email_address).catch(function(){o.error(c.T("An error occurred while trying to resend the notification."))})}function b(n){r.createFeatureUsage(u._source+".updateAdminRole").setProperty("user",n).submit();var e=l.hasAdminRole(n)?"Are you sure you want to remove the admin role from this user?":"Are you sure you want to add the admin role for this user?";return a.confirmDanger(c.T(e),c.T(l.hasAdminRole(n)?"Remove":"Add")).then(function(){function e(){r.createFeatureUsage(u._source+".updateAdminRole.success").setProperty("user",n).submit()}function t(){r.createFeatureUsage(u._source+".updateAdminRole.error").setProperty("user",n).submit(),o.error(c.T(l.hasAdminRole(n)?"An error occurred while remove the admin role.":"An error occurred while add the admin role."))}return(l.hasAdminRole(n)?l.removeAdminRole(n.id):l.addAdminRole(n.id)).then(e,t)}).catch(function(e){})}this.$onInit=function(){u._source="exceptionless.users",u.currentOptions={},u.get=d,u.hasAdminRole=p,u.hasUsers=f,u.nextPage=h,u.open=open,u.previousPage=m,u.remove=g,u.resendNotification=v,u.updateAdminRole=b,u.users=[],r.submitFeatureUsage(u._source),d()}}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("exceptionless.url",[]).factory("urlService",["$state",function(a){return{buildFilterUrl:function(e,t){var n=[],r={},e=(e.routePrefix&&n.push(e.routePrefix),e.organizationId?(n.push("organization"),r.organizationId=e.organizationId):e.projectId&&(n.push("project"),r.projectId=e.projectId),e.type&&(n.push("type"),r.type=e.type),n.push(e.route),e.moduleName||"app"),t=angular.extend({},t||{},r);return a.href(e+"."+n.join("-"),t,{absolute:!0})},buildUrl:function(e,t,n,r,a){if(!t)return null;var i=(e?"https://":"http://")+t;if(80!==n&&443!==n&&(i+=":"+n),r&&(0!==r.indexOf("/")&&(i+="/"),i+=r),a&&0<Object.keys(a).length){var o,s=!0;for(o in a)s?(i+="?",s=!1):i+="&",i+=o+"="+a[o]}return i}}}])}(),function(){"use strict";angular.module("exceptionless.ui-nav",[]).directive("uiNav",function(){return{restrict:"AC",link:function(e,t){var r,a=$(window),i=$(".app-aside");t.on("click","a",function(e){r&&r.trigger("mouseleave.nav");var t=$(this);t.parent().siblings(".active").toggleClass("active"),t.next().is("ul")&&t.parent().toggleClass("active")&&e&&e.preventDefault&&e.preventDefault(),t.next().is("ul")||a.width()<768&&$(".app-aside").removeClass("show off-screen")}),t.on("mouseenter","a",function(e){var t,n;r&&r.trigger("mouseleave.nav"),!$(".app-aside-fixed.app-aside-folded").length||a.width()<768||(t=$(e.target),e=$(window).height(),(t=t.is("a")?t:t.closest("a")).next().is("ul")&&(r=t.next(),t.parent().addClass("active"),n=t.parent().position().top+50,r.css("top",n),n+r.height()>e&&r.css("bottom",0),e<n+150&&r.css("bottom",e-n-50).css("top","auto"),r.appendTo(i),r.on("mouseleave.nav",function(e){$(".dropdown-backdrop").remove(),r.appendTo(t.parent()),r.off("mouseleave.nav").css("top","auto").css("bottom","auto"),t.parent().removeClass("active")}),$(".smart").length)&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(e){e&&e.trigger("mouseleave.nav")}))}),i.on("mouseleave",function(e){r&&r.trigger("mouseleave.nav")})}}})}(),function(){"use strict";angular.module("exceptionless.ui-scroll",[]).directive("uiScroll",["$location","$anchorScroll",function(r,a){return{restrict:"AC",link:function(e,t,n){t.on("click",function(e){r.hash(n.uiScroll),a()})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-shift",[]).directive("uiShift",["$timeout",function(u){return{restrict:"A",link:function(e,t,n){var r,a=$(t),i=$(window),o=a.prev(),s=i.width();function l(){u(function(){var e=n.uiShift,t=n.target;a.hasClass("in")||a[e](t).addClass("in")})}function c(){r&&r.prepend(t),r||a.insertAfter(o),a.removeClass("in")}o.length||(r=a.parent()),(s<768?l:c)(),i.resize(function(){s!==i.width()&&u(function(){(i.width()<768?l:c)(),s=i.width()})})}}}])}(),function(){"use strict";angular.module("exceptionless.ui-toggle-class",[]).directive("uiToggleClass",function(){return{restrict:"AC",link:function(e,t,n){t.on("click",function(e){e&&e.preventDefault&&e.preventDefault();var e=n.uiToggleClass.split(","),i=n.target&&n.target.split(",")||new Array(t),o=0;angular.forEach(e,function(e){var t=i[i.length&&o];if(-1!==e.indexOf("*")){for(var n=t,r=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),a=" "+$(n)[0].className+" ";r.test(a);)a=a.replace(r," ");$(n)[0].className=$.trim(a)}$(t).toggleClass(e),o++}),$(t).toggleClass("active")})}}})}(),function(){"use strict";angular.module("exceptionless.validators",["exceptionless.auth","exceptionless.organization","exceptionless.project","exceptionless.search"])}(),function(){"use strict";angular.module("exceptionless.validators").directive("emailAddressAvailableValidator",["$timeout","$q","authService",function(a,i,o){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$asyncValidators.unique=function(e){var t=i.defer();return r.$pristine?a(function(){t.resolve(!0)},0):o.isEmailAddressAvailable(e).then(function(e){201===e.status?t.reject(""):t.resolve(!0)},function(e){e&&e.status<0?t.resolve(!0):t.reject("An error occurred while validating the email address.")}),t.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("organizationNameAvailableValidator",["$timeout","$q","organizationService",function(a,i,o){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$asyncValidators.unique=function(e){var t=i.defer();return r.$pristine?a(function(){t.resolve(!0)},0):o.isNameAvailable(e).then(function(e){201===e.status?t.reject(""):t.resolve(!0)},function(){t.reject("An error occurred while validating the organization name.")}),t.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("projectNameAvailableValidator",["$timeout","$q","projectService",function(a,i,o){return{restrict:"A",require:"ngModel",scope:{organizationId:"="},link:function(n,e,t,r){r.$asyncValidators.unique=function(e){var t=i.defer();return r.$pristine?a(function(){t.resolve(!0)},0):"__newOrganization"===n.organizationId?t.resolve(!0):o.isNameAvailable(n.organizationId,e).then(function(e){201===e.status?t.reject(""):t.resolve(!0)},function(){t.reject("An error occurred while validating the project name.")}),t.promise},n.$watch("organizationId",function(){r.$validate()})}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("searchFilterValidator",["$timeout","$q","searchService",function(a,i,o){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$asyncValidators.valid=function(e){var t=i.defer();return r.$pristine?a(function(){t.resolve(!0)},0):o.validate(e).then(function(e){e.data.is_valid||t.reject(e.data.message),t.resolve(!0)},function(){t.reject("An error occurred while validating the search filter.")}),t.promise}}}}])}(),function(){"use strict";angular.module("exceptionless.validators").directive("semanticVersionValidator",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$validators.semver=function(e,t){return"string"!=typeof t||0===(t=t.trim()).length||!(256<t.length)&&new RegExp("^v?(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][a-zA-Z0-9-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][a-zA-Z0-9-]*))*))?(?:\\+([0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*))?$").test(t)}}}})}(),function(){"use strict";angular.module("exceptionless.web-hook",["checklist-model","ngMessages","restangular","ui.bootstrap","dialogs.main","exceptionless","exceptionless.autofocus"])}(),function(){"use strict";angular.module("exceptionless.web-hook").controller("AddWebHookDialog",["$ExceptionlessClient","$uibModalInstance","translateService",function(t,n,e){var r=this;function a(){t.submitFeatureUsage(r._source+".cancel"),n.dismiss("cancel")}function i(){return r.data.event_types&&0<r.data.event_types.length}function o(e){e&&(t.createFeatureUsage(r._source+".save").setProperty("WebHook",r.data).submit(),n.close(r.data))}this.$onInit=function(){r._source="exceptionless.web-hook.AddWebHookDialog",r.addWebHookForm={},r.cancel=a,r.data={},r.eventTypes=[{key:"NewError",name:e.T("New Error"),description:e.T("Occurs when a new error that has never been seen before is reported to your project.")},{key:"CriticalError",name:e.T("Critical Error"),description:e.T("Occurs when an error that has been marked as critical is reported to your project.")},{key:"StackRegression",name:e.T("Regression"),description:e.T("Occurs when an event that has been marked as fixed has reoccurred in your project.")},{key:"NewEvent",name:e.T("New Event"),description:e.T("Occurs when a new event that has never been seen before is reported to your project.")},{key:"CriticalEvent",name:e.T("Critical Event"),description:e.T("Occurs when an event that has been marked as critical is reported to your project.")},{key:"StackPromoted",name:e.T("Promoted"),description:e.T("Used to promote event stacks to external systems.")}],r.hasEventTypeSelection=i,r.save=o,t.submitFeatureUsage(r._source)}}])}(),function(){"use strict";angular.module("exceptionless.web-hook").factory("webHookService",["Restangular",function(n){return{create:function(e){return n.all("webhooks").post(e)},getAll:function(e){return n.all("webhooks").getList(e||{})},getById:function(e){return n.one("webhooks",e).get()},getByOrganizationId:function(e,t){return n.one("organizations",e).all("webhooks").getList(t||{})},getByProjectId:function(e,t){return n.one("projects",e).all("webhooks").getList(t||{})},remove:function(e){return n.one("webhooks",e).remove()}}}])}(),function(){"use strict";angular.module("exceptionless.translate",["pascalprecht.translate"]).factory("translateService",["$translate",function(i){return{T:function(e,t,n,r,a){return e&&i.instant(e,t,n,r,a)}}}])}(),function(){"use strict";angular.module("exceptionless.websocket",["app.config","exceptionless","exceptionless.auth"]).factory("websocketService",["$ExceptionlessClient","$rootScope","$timeout","authService","BASE_URL",function(e,t,n,r,a){o.prototype.connect=function(t){var n=this,e=(this.ws=new WebSocket(this.url,this.protocols),this.onconnecting(),this.ws),r=setTimeout(function(){n.timedOut=!0,e.close(),n.timedOut=!1},this.timeoutInterval);this.ws.onopen=function(e){clearTimeout(r),n.readyState=WebSocket.OPEN,t=!1,n.onopen(e)},this.ws.onclose=function(e){clearTimeout(r),n.ws=null,n.forcedClose?(n.readyState=WebSocket.CLOSED,n.onclose(e)):(n.readyState=WebSocket.CONNECTING,n.onconnecting(),t||n.timedOut||n.onclose(e),setTimeout(function(){n.connect(!0)},n.reconnectInterval))},this.ws.onmessage=function(e){n.onmessage(e)},this.ws.onerror=function(e){n.onerror(e)}},o.prototype.send=function(e){if(this.ws)return this.ws.send(e);throw new Error("INVALID_STATE_ERR : Pausing to reconnect websocket")},o.prototype.close=function(){return!!this.ws&&(this.forcedClose=!0,this.ws.close(),!0)},o.prototype.refresh=function(){return!!this.ws&&(this.ws.close(),!0)};var i=o;function o(e,t){void 0===t&&(t=[]),this.reconnectInterval=1e3,this.timeoutInterval=2e3,this.forcedClose=!1,this.timedOut=!1,this.protocols=[],this.onopen=function(e){},this.onclose=function(e){},this.onconnecting=function(){},this.onmessage=function(e){},this.onerror=function(e){},this.url=e,this.protocols=t,this.readyState=WebSocket.CONNECTING,this.connect(!1)}var s,l;function c(e){(s||l)&&u(),l=n(function(){(s=new i(function(){var e=a+"/api/v2/push?access_token="+r.getToken(),t=/^(https?):\/\//;if(a.startsWith("https:"))return e.replace(t,"wss://");return e.replace(t,"ws://")}())).onmessage=function(e){e=e.data?JSON.parse(e.data):null;e&&e.type&&(e.message&&0<=e.message.change_type&&(e.message.added=0===e.message.change_type,e.message.updated=1===e.message.change_type,e.message.deleted=2===e.message.change_type),t.$emit(e.type,e.message),"UserMembershipChanged"===e.type)&&e.message&&e.message.organization_id&&(t.$emit("OrganizationChanged",e.message),t.$emit("ProjectChanged",e.message))}},e||1e3)}function u(){l&&(n.cancel(l),l=null),s&&(s.close(),s=null)}return{start:function(){c(1)},startDelayed:c,stop:u}}])}(),function(){"use strict";angular.module("app").controller("App",["$rootScope","$scope","$state","$stateParams","$window","authService","billingService","$ExceptionlessClient","filterService","hotkeys","INTERCOM_APPID","$intercom","locker","notificationService","organizationService","websocketService","stateService","statusService","SLACK_APPID","STRIPE_PUBLISHABLE_KEY","urlService","userService","translateService",function(n,r,c,u,a,t,i,o,d,s,e,l,p,f,h,m,g,v,b,y,w,k,x){var S=this;function _(){function n(e,t){return w.buildFilterUrl({route:e,projectId:d.getProjectId(),organizationId:d.getOrganizationId(),type:t})}function e(t,e,n){var r=angular.extend({},e,{type:n});return 0<s.filter(function(e){return!!(t.includes("app.type-"+e,r)||t.includes("app.project-type-"+e,r)||t.includes("app.organization-type-"+e,r))}).length}var r,t,a,i,o,s=["frequent","new","users","events"],l=(S.urls=(r={events:{},frequent:{},users:{},new:{},reports:{}},[void 0,"error","log","404","usage"].forEach(function(e){var t=e||"all";r.events[t]=n("events",e),r.frequent[t]=n("frequent",e),r.users[t]=n("users",e),r.new[t]=n("new",e)}),r.reports.sessions=w.buildFilterUrl({route:"events",routePrefix:"session",projectId:d.getProjectId(),organizationId:d.getOrganizationId()}),["regressed","fixed","snoozed","ignored","discarded"].forEach(function(e){r.reports[e]=w.buildFilterUrl({moduleName:"app.reports",route:"status",projectId:d.getProjectId(),organizationId:d.getOrganizationId()},{status:e})}),r),{all:(i=c,o=u,0<s.filter(function(e){return!!(i.includes("app."+e,o)||i.includes("app.project-"+e,o)||i.includes("app.organization-"+e,o))}).length),error:e(c,u,"error"),log:e(c,u,"log"),404:e(c,u,"404"),usage:e(c,u,"usage"),settings:(a=u,(t=c).includes("app.project.list",a)||t.includes("app.organization.list",a)||t.includes("app.account.manage",a)||t.includes("app.admin.dashboard",a)),reports:(t=u,(a=c).includes("app.session.events",t)||a.includes("app.session-events",t)||a.includes("app.session-project-events",t)||a.includes("app.session-organization-events",t)||a.current.name.contains("app.reports."))});Object.keys(l).some(function(e){return l[e]})?S.isMenuActive=l:0===Object.keys(S.isMenuActive).length&&(l.all=!0,S.isMenuActive=l)}function C(e){if(y)return i.changePlan(e).catch(function(e){});f.error(x.T("Billing is currently disabled."))}function E(){return v.about().then(function(e){var t=e.data.plain();return S.apiVersionNumber=t&&t.informational_version.split("+")[0],e})}function T(){return h.getAll().then(function(e){return S.organizations=e.data.plain(),S.canChangePlan=!!y&&0<S.organizations.length,e})}function P(e){return e&&"User"===e.type&&e.deleted&&e.id===S.user.id?(f.error(x.T("Your user account was deleted. Please create a new account.")),t.logout(!0)):k.getCurrentUser().then(function(e){return S.user=e.data.plain(),o.config.setUserIdentity({identity:S.user.email_address,name:S.user.full_name,data:{user:S.user}}),e})}function D(){return t.isAuthenticated()&&e}function M(){return m.startDelayed(1e3)}function A(){D()&&(o.submitFeatureUsage(S._source+".showIntercom"),l.showNewMessage())}function O(){S.isSideNavCollapsed=!S.isSideNavCollapsed,S._store.put("sideNavCollapsed",S.isSideNavCollapsed)}this.$onInit=function(){var e;function t(e){o.createFeatureUsage(S._source+".hotkeys"+e).addTags("hotkeys").submit()}navigator.userAgent.match(/MSIE/i)&&angular.element(a.document.body).addClass("ie"),e=(e=a).navigator.userAgent||e.navigator.vendor||e.opera,/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)&&angular.element(a.document.body).addClass("smart"),n.$on("$stateChangeSuccess",_),r.$on("$destroy",m.stop),S._source="app.App",S._store=p.driver("local").namespace("app"),S.apiVersionNumber="",S.canChangePlan=!1,S.changePlan=C,S.urls={events:{},frequent:{},users:{},new:{},reports:{}},S.getOrganizations=T,S.getUser=P,S.isMenuActive={},S.isIntercomEnabled=D,S.isSlackEnabled=!!b,S.isSideNavCollapsed=!0===S._store.get("sideNavCollapsed"),S.organizations=[],S.showIntercom=A,S.toggleSideNavCollapsed=O,S.user={},D()&&s.bindTo(r).add({combo:"c",description:x.T("Chat with Support"),callback:function(){t("Support"),A()}}),s.bindTo(r).add({combo:"g w",description:x.T("Go To Documentation"),callback:function(){t("Documentation"),a.open("https://exceptionless.com/docs/","_blank")}}).add({combo:"s",description:x.T("Focus Search Bar"),callback:function(e){e.preventDefault(),t("SearchBar"),$("#search").focus().select()}}).add({combo:"g a",description:x.T("Go To My Account"),callback:function(){t("Account"),c.go("app.account.manage",{tab:"general"})}}).add({combo:"g n",description:x.T("Go To Notifications"),callback:function(){t("Notifications"),c.go("app.account.manage",{tab:"notifications"})}}).add({combo:"g d",description:x.T("Go To Most Frequent"),callback:function(){t("Most Frequent"),a.open(S.eventsUrl.all,"_self")}}).add({combo:"g o",description:x.T("Go To Organizations"),callback:function(){t("Organizations"),c.go("app.organization.list")}}).add({combo:"g p",description:x.T("Go To Projects"),callback:function(){t("Projects"),c.go("app.project.list")}}).add({combo:"g+g",description:x.T("Go To GitHub project"),callback:function(){t("GitHub"),a.open("https://github.com/exceptionless/Exceptionless","_blank")}}).add({combo:"g s",description:x.T("Go to public Discord channel"),callback:function(){t("Discord"),a.open("https://discord.gg/6HxgFCx","_blank")}}),_(),P().then(T).then(M).then(E)}}])}(),function(){"use strict";angular.module("app").controller("app.Events",["$ExceptionlessClient","$filter","$stateParams","eventService","filterService","notificationService","organizationService","stackService","translateService",function(n,i,e,o,r,t,a,s,l){var c=this;function u(e){return e&&"PersistentEvent"===e.type||"Stack"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.organization_id,projectId:e.project_id}):e&&"Organization"===e.type||"Project"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.id,projectId:e.id}):!e}function d(){return a.getAll().then(function(e){return c._organizations=e.data.plain(),c._organizations}).then(p).catch(function(e){})}function p(){var e=r.getTimeOffset();return o.count("date:(date"+(e?"^"+e:"")+" cardinality:stack sum:count~1) cardinality:stack terms:(first @include:true) sum:count~1",!0).then(function(e){function t(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].value||n}function n(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].items||n}var r=n(e=e.data.plain(),"terms_first",[]),a=t(e,"sum_count",0),r=(c.stats={events:i("number")(a,0),stacks:i("number")(t(e,"cardinality_stack",0),0),newStacks:i("number")(0<r.length?r[0].total:0,0),avg_per_hour:i("number")(o.calculateAveragePerHour(a,c._organizations),1)},n(e,"date_date",[]));c.chart.options.series[0].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"cardinality_stack",0),data:e}}),c.chart.options.series[1].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"sum_count",0),data:e}})})}this.$onInit=function(){c._organizations=[],c._source="app.Events",c.canRefresh=u,c.chart={options:{padding:{top:.085},renderer:"stack",series:[{name:l.T("Stacks"),color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:l.T("Events"),color:"rgba(124, 194, 49, .7)",stroke:"rgba(0, 0, 0, 0.15)"}],stroke:!0,unstack:!0},features:{hover:{render:function(e){var t=moment.unix(e.domainX),n=l.T("DateTimeFormat"),r=l.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+" <br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return r.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),n.createFeatureUsage(c._source+".chart.range.onSelection").setProperty("start",t).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},c.get=d,c.events={header:"Events",get:o.getAll,options:{limit:15,mode:"summary"},source:c._source+".Events"},c.stats={events:0,stacks:0,newStacks:0,avg_per_hour:0},c.type=e.type||"all",d()}}])}(),function(){"use strict";angular.module("app").controller("app.Frequent",["$ExceptionlessClient","$filter","$stateParams","eventService","filterService","notificationService","organizationService","stackService","translateService",function(n,i,e,o,r,t,a,s,l){var c=this;function u(e){return e&&"PersistentEvent"===e.type||"Stack"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.organization_id,projectId:e.project_id}):e&&"Organization"===e.type||"Project"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.id,projectId:e.id}):!e}function d(){return a.getAll().then(function(e){return c._organizations=e.data.plain(),c._organizations}).then(p).catch(function(e){})}function p(){var e=r.getTimeOffset();return o.count("date:(date"+(e?"^"+e:"")+" cardinality:stack sum:count~1) cardinality:stack terms:(first @include:true) sum:count~1",!0).then(function(e){function t(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].value||n}function n(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].items||n}var r=n(e=e.data.plain(),"terms_first",[]),a=t(e,"sum_count",0),r=(c.stats={events:i("number")(a,0),stacks:i("number")(t(e,"cardinality_stack",0),0),newStacks:i("number")(0<r.length?r[0].total:0,0),avg_per_hour:i("number")(o.calculateAveragePerHour(a,c._organizations),1)},n(e,"date_date",[]));c.chart.options.series[0].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"cardinality_stack",0),data:e}}),c.chart.options.series[1].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"sum_count",0),data:e}})})}this.$onInit=function(){c._organizations=[],c._source="app.Frequent",c.canRefresh=u,c.chart={options:{padding:{top:.085},renderer:"stack",series:[{name:l.T("Stacks"),color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:l.T("Events"),color:"rgba(124, 194, 49, .7)",stroke:"rgba(0, 0, 0, 0.15)"}],stroke:!0,unstack:!0},features:{hover:{render:function(e){var t=moment.unix(e.domainX),n=l.T("DateTimeFormat"),r=l.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+" <br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return r.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),n.createFeatureUsage(c._source+".chart.range.onSelection").setProperty("start",t).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},c.get=d,c.mostFrequent={header:"Most Frequent",get:o.getAll,options:{limit:15,mode:"stack_frequent"},source:c._source+".Events"},c.stats={events:0,stacks:0,newStacks:0,avg_per_hour:0},c.type=e.type||"all",d()}}])}(),function(){"use strict";angular.module("app").controller("app.New",["$ExceptionlessClient","$filter","$stateParams","eventService","filterService","notificationService","organizationService","stackService","translateService",function(n,i,e,o,r,t,a,s,l){var c=this;function u(e){return e&&"PersistentEvent"===e.type||"Stack"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.organization_id,projectId:e.project_id}):e&&"Organization"===e.type||"Project"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.id,projectId:e.id}):!e}function d(){return a.getAll().then(function(e){return c._organizations=e.data.plain(),c._organizations}).then(p).catch(function(e){})}function p(){var e=r.getTimeOffset();return o.count("date:(date"+(e?"^"+e:"")+" cardinality:stack sum:count~1) cardinality:stack terms:(first @include:true) sum:count~1",!0).then(function(e){function t(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].value||n}function n(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].items||n}var r=n(e=e.data.plain(),"terms_first",[]),a=t(e,"sum_count",0),r=(c.stats={events:i("number")(a,0),stacks:i("number")(t(e,"cardinality_stack",0),0),newStacks:i("number")(0<r.length?r[0].total:0,0),avg_per_hour:i("number")(o.calculateAveragePerHour(a,c._organizations),1)},n(e,"date_date",[]));c.chart.options.series[0].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"cardinality_stack",0),data:e}}),c.chart.options.series[1].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"sum_count",0),data:e}})})}this.$onInit=function(){c._organizations=[],c._source="app.New",c.canRefresh=u,c.chart={options:{padding:{top:.085},renderer:"stack",series:[{name:l.T("Stacks"),color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:l.T("Events"),color:"rgba(124, 194, 49, .7)",stroke:"rgba(0, 0, 0, 0.15)"}],stroke:!0,unstack:!0},features:{hover:{render:function(e){var t=moment.unix(e.domainX),n=l.T("DateTimeFormat"),r=l.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+" <br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return r.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),n.createFeatureUsage(c._source+".chart.range.onSelection").setProperty("start",t).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},c.get=d,c.newest={header:"New Stacks",get:o.getAll,options:{limit:15,mode:"stack_new"},source:c._source+".Events"},c.stats={events:0,stacks:0,newStacks:0,avg_per_hour:0},c.type=e.type||"all",d()}}])}(),function(){"use strict";angular.module("app").controller("app.Users",["$ExceptionlessClient","$filter","$stateParams","eventService","filterService","notificationService","organizationService","stackService","translateService",function(n,i,e,o,r,t,a,s,l){var c=this;function u(e){return e&&"PersistentEvent"===e.type||"Stack"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.organization_id,projectId:e.project_id}):e&&"Organization"===e.type||"Project"===e.type?r.includedInProjectOrOrganizationFilter({organizationId:e.id,projectId:e.id}):!e}function d(){return a.getAll().then(function(e){return c._organizations=e.data.plain(),c._organizations}).then(p).catch(function(e){})}function p(){var e=r.getTimeOffset();return o.count("date:(date"+(e?"^"+e:"")+" cardinality:stack sum:count~1) cardinality:stack terms:(first @include:true) sum:count~1",!0).then(function(e){function t(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].value||n}function n(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].items||n}var r=n(e=e.data.plain(),"terms_first",[]),a=t(e,"sum_count",0),r=(c.stats={events:i("number")(a,0),stacks:i("number")(t(e,"cardinality_stack",0),0),newStacks:i("number")(0<r.length?r[0].total:0,0),avg_per_hour:i("number")(o.calculateAveragePerHour(a,c._organizations),1)},n(e,"date_date",[]));c.chart.options.series[0].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"cardinality_stack",0),data:e}}),c.chart.options.series[1].data=r.map(function(e){return{x:moment(e.key).unix(),y:t(e,"sum_count",0),data:e}})})}this.$onInit=function(){c._organizations=[],c._source="app.MostUsers",c.canRefresh=u,c.chart={options:{padding:{top:.085},renderer:"stack",series:[{name:l.T("Stacks"),color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:l.T("Events"),color:"rgba(124, 194, 49, .7)",stroke:"rgba(0, 0, 0, 0.15)"}],stroke:!0,unstack:!0},features:{hover:{render:function(e){var t=moment.unix(e.domainX),n=l.T("DateTimeFormat"),r=l.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+" <br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return r.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),n.createFeatureUsage(c._source+".chart.range.onSelection").setProperty("start",t).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},c.get=d,c.mostUsers={header:"Most Users",get:o.getAll,options:{limit:15,mode:"stack_users"},source:c._source+".Events"},c.stats={events:0,stacks:0,newStacks:0,avg_per_hour:0},c.type=e.type||"all",d()}}])}(),function(){"use strict";angular.module("app.auth",["directives.inputMatch","ngMessages","satellizer","ui.router","app.config","exceptionless","exceptionless.analytics","exceptionless.auth","exceptionless.autofocus","exceptionless.notification","exceptionless.project","exceptionless.rate-limit","exceptionless.user","exceptionless.validators"]).config(["$authProvider","$stateProvider","BASE_URL","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID",function(e,t,n,r,a,i,o){e.baseUrl=n+"/api/v2",e.facebook({clientId:r}),e.google({clientId:a}),e.github({clientId:i}),e.live({clientId:o,scope:["wl.emails"]}),t.state("auth",{abstract:!0,template:'<ui-view autoscroll="true" />'}),t.state("auth.forgot-password",{title:"Forgot Password",url:"/forgot-password",controller:"auth.ForgotPassword",controllerAs:"vm",templateUrl:"app/auth/forgot-password.tpl.html"}),t.state("auth.login",{title:"Login",url:"/login?token",controller:"auth.Login",controllerAs:"vm",templateUrl:"app/auth/login.tpl.html"}),t.state("auth.logout",{title:"Logout",url:"/logout",template:null,controller:"auth.Logout"}),t.state("auth.reset-password",{title:"Reset Password",url:"/reset-password/:token?cancel",controller:"auth.ResetPassword",controllerAs:"vm",templateUrl:"app/auth/reset-password.tpl.html"}),t.state("auth.signup",{title:"Signup",url:"/signup?token",controller:"auth.Signup",controllerAs:"vm",templateUrl:"app/auth/signup.tpl.html"})}])}(),function(){"use strict";angular.module("app.auth").controller("auth.ForgotPassword",["$ExceptionlessClient","$state","translateService","authService","notificationService",function(n,t,r,a,i){var o=this;function e(e){if(e)return n.createFeatureUsage(o._source+".resetPassword").setUserIdentity(o.email).submit(),a.forgotPassword(o.email).then(function(){return n.createFeatureUsage(o._source+".resetPassword.success").setUserIdentity(o.email).submit(),i.info(r.T("ResetPassword_Success_Message")),t.go("auth.login")},function(e){n.createFeatureUsage(o._source+".resetPassword.error").setUserIdentity(o.email).setProperty("response",e).submit();var t=r.T("ResetPassword_Failed_Message");e.data&&e.data.message&&(t+=" "+r.T("Message:")+" "+e.data.message),i.error(t)})}this.$onInit=function(){o._source="app.auth.ForgotPassword",o.email=null,o.resetPassword=e}}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Login",["$ExceptionlessClient","$state","$stateParams","translateService","authService","BASE_URL","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","ENABLE_ACCOUNT_CREATION","notificationService","projectService","stateService",function(n,t,e,r,a,i,o,s,l,c,u,d,p,f){var h=this;function m(e){var t=r.T("Loggin_Failed_Message");if(e.data&&e.data.message)t+=" "+r.T("Message:")+" "+e.data.message;else if(e.status<0)return r.T("Unable_to_connect_to")+" "+i+".";return t}function g(t){return a.authenticate(t,{InviteToken:h.token}).then(function(){return n.createFeatureUsage(h._source+".authenticate").setProperty("InviteToken",h.token).addTags(t).submit(),y()},function(e){n.createFeatureUsage(h._source+".authenticate.error").setProperty("InviteToken",h.token).setProperty("response",e).addTags(t).submit(),d.error(m(e))})}function v(e){if(!e)return!!(o||l||s||c);switch(e){case"facebook":return!!o;case"github":return!!l;case"google":return!!s;case"live":return!!c;default:return!1}}function b(e){if(e)return a.login(h.user).then(function(){return n.submitFeatureUsage(h._source+".login"),y()},function(e){n.createFeatureUsage(h._source+".login.error").setUserIdentity(h.user.email).submit(),d.error(m(e))})}function y(){return p.getAll().then(function(e){return e.data&&0<e.data.length?f.restore():(f.clear(),t.go("app.project.add"))},function(){return f.restore("app.project.add")})}a.isAuthenticated()&&a.logout(),this.$onInit=function(){h._source="app.auth.Login",h.authenticate=g,h.isExternalLoginEnabled=v,h.enableAccountCreation=!!u,h.login=b,h.loginForm={},h.token=e.token,h.user={invite_token:h.token}}}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Logout",["$state","authService",function(e,t){this.$onInit=function(){t.isAuthenticated()&&t.logout(),e.go("auth.login")}}])}(),function(){"use strict";angular.module("app.auth").controller("auth.ResetPassword",["$ExceptionlessClient","$state","$stateParams","authService","notificationService","translateService",function(n,t,e,r,a,i){var o=this;function s(e){if(e)return n.createFeatureUsage(o._source+".changePassword").setProperty("ResetToken",o._resetToken).submit(),r.resetPassword(o.data).then(function(){return n.createFeatureUsage(o._source+".changePassword.success").setProperty("ResetToken",o._resetToken).submit(),a.info(i.T("You have successfully changed your password.")),t.go("auth.login")},function(e){n.createFeatureUsage(o._source+".changePassword.error").setProperty("ResetToken",o._resetToken).setProperty("response",e).submit();var t=i.T("An error occurred while trying to change your password.");e.data&&e.data.message&&(t+=" "+i.T("Message:")+" "+e.data.message),a.error(t)})}function l(){function e(){return t.go("auth.login")}n.createFeatureUsage(o._source+".cancelResetPassword").setProperty("ResetToken",o._resetToken).submit(),r.cancelResetPassword(o._resetToken).then(function(){n.createFeatureUsage(o._source+".cancelResetPassword.success").setProperty("ResetToken",o._resetToken).submit()},function(e){n.createFeatureUsage(o._source+".cancelResetPassword.error").setProperty("ResetToken",o._resetToken).setProperty("response",e).submit()}).then(e,e)}this.$onInit=function(){o._source="app.auth.ResetPassword",o._cancelResetToken="true"===e.cancel,o._resetToken=e.token,o.changePassword=s,o.data={password_reset_token:o._resetToken},o._cancelResetToken&&l()}}])}(),function(){"use strict";angular.module("app.auth").controller("auth.Signup",["$ExceptionlessClient","$location","$state","$stateParams","$timeout","analyticsService","authService","BASE_URL","ENABLE_ACCOUNT_CREATION","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","stateService","translateService",function(r,a,t,e,i,o,s,n,l,c,u,d,p,f,h,m,g){var v=this;function b(e){var t=g.T("An error occurred while signing up.  Please contact support for more information.");if(e.data&&e.data.message)t+=" "+g.T("Message:")+" "+e.data.message;else if(e.status<0)return g.T("Unable_to_connect_to")+" "+n+".";return t}function y(t){return s.authenticate(t,{InviteToken:v.token}).then(function(){return o.completeRegistration(a.search()),r.createFeatureUsage(v._source+".authenticate").setProperty("InviteToken",v.token).addTags(t).submit(),w()},function(e){r.createFeatureUsage(v._source+".authenticate.error").setProperty("InviteToken",v.token).setProperty("response",e).addTags(t).submit(),f.error(b(e))})}function $(e){if(!e)return!!(c||d||u||p);switch(e){case"facebook":return!!c;case"github":return!!d;case"google":return!!u;case"live":return!!p;default:return!1}}function w(){return h.getAll().then(function(e){return e.data&&0<e.data.length?m.restore():(m.clear(),t.go("app.project.add"))},function(){return m.restore("app.project.add")})}function k(e){function t(){v._canSignup=!0}function n(e){var t=i(function(){i.cancel(t),k(!0)},e||100)}return!v.signupForm||v.signupForm.$invalid?(t(),!e&&n(1e3)):!v.user.email||v.signupForm.$pending?n():v._canSignup?(v._canSignup=!1,s.signup(v.user).then(function(){return o.completeRegistration(a.search()),r.submitFeatureUsage(v._source+".signup"),w()},function(e){r.createFeatureUsage(v._source+".signup.error").setUserIdentity(v.user.email).submit(),f.error(b(e))}).then(t,t)):void 0}s.isAuthenticated()&&s.logout(!0,e),this.$onInit=function(){v._source="app.auth.Signup",v._canSignup=!!l,v.authenticate=y,v.isExternalLoginEnabled=$,v.signup=k,v.signupForm={},v.token=e.token,v.user={invite_token:v.token}}}])}(),function(){"use strict";angular.module("app.account",["directives.inputMatch","ngMessages","ui.bootstrap","ui.router","exceptionless","exceptionless.auth","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.project","exceptionless.promise-button","exceptionless.user","exceptionless.validators"]).config(["$stateProvider",function(e){e.state("app.account",{abstract:!0,url:"/account",template:'<ui-view autoscroll="true" />'}),e.state("app.account.manage",{title:"My Account",url:"/manage?projectId&tab",controller:"account.Manage",controllerAs:"vm",templateUrl:"app/account/manage.tpl.html"}),e.state("app.account.verify",{title:"Verify Account",url:"/verify?token",template:null,controller:"account.Verify"})}])}(),function(){"use strict";angular.module("app.account").controller("account.Manage",["$stateParams","$timeout","authService","billingService","dialogService","FACEBOOK_APPID","GOOGLE_APPID","GITHUB_APPID","LIVE_APPID","notificationService","projectService","userService","translateService",function(n,r,t,e,a,i,o,s,l,c,u,d,p){var f=this;function h(e){return t.authenticate(e).catch(function(e){var t=p.T("An error occurred while adding external login.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)})}function m(e){if(e)return t.changePassword(f.password).then(function(){c.info(p.T("You have successfully changed your password.")),f.password={},f.passwordForm.$setUntouched(!0),f.passwordForm.$setPristine(!0)},function(e){var t=p.T("An error occurred while trying to change your password.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)})}function g(e){return e&&"User"===e.type&&e.deleted&&e.id===f.user.id?(c.error(p.T("Your user account was deleted. Please create a new account.")),t.logout(!0)):d.getCurrentUser().then(function(e){return f.user=e.data.plain(),f.user.o_auth_accounts=f.user.o_auth_accounts||[],f.hasLocalAccount=!0===f.user.has_local_account,f.user},function(e){var t=p.T("An error occurred while loading your user profile.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)}).then(b).then(v)}function v(){if(f.emailNotificationSettings=null,f.currentProject.id)return u.getNotificationSettings(f.currentProject.id,f.user.id).then(function(e){return f.emailNotificationSettings=e.data.plain(),f.emailNotificationSettings},function(){c.error(p.T("An error occurred while loading the notification settings."))})}function b(){return u.getAll().then(function(e){f.projects=e.data.plain();var t=f.currentProject.id||n.projectId;return f.currentProject=f.projects.filter(function(e){return e.id===t})[0],f.currentProject||(f.currentProject=0<f.projects.length?f.projects[0]:{}),f.hasPremiumFeatures=f.currentProject&&f.currentProject.has_premium_features,f.projects},function(){c.error(p.T("An error occurred while loading the projects."))})}function y(){return a.confirmDanger(p.T("Are you sure you want to delete your account?"),p.T("DELETE ACCOUNT")).then(function(){return d.removeCurrentUser().then(function(){c.info(p.T("Successfully removed your user account.")),t.logout()},function(e){c.error(p.T("An error occurred while trying remove your user account.")+" "+e.data.message)})}).catch(function(e){})}function $(){return f.user.email_notifications_enabled&&f.emailNotificationSettings&&f.hasPremiumFeatures}function w(e){if(!e)return!!(i||s||o||l);switch(e){case"facebook":return!!i;case"github":return!!s;case"google":return!!o;case"live":return!!l;default:return!1}}function k(){return d.resendVerificationEmail(f.user.id).catch(function(e){var t=p.T("An error occurred while sending your verification email.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)})}function x(e){function t(){f._canSaveEmailAddress=!0}function n(e){var t=r(function(){r.cancel(t),x(!0)},e||100)}return!f.emailAddressForm||f.emailAddressForm.$invalid?(t(),!e&&n(1e3)):!f.user.email_address||f.emailAddressForm.$pending?n():f._canSaveEmailAddress?(f._canSaveEmailAddress=!1,d.updateEmailAddress(f.user.id,f.user.email_address).then(function(e){f.user.is_email_address_verified=e.data.is_verified},function(e){var t=p.T("An error occurred while saving your email address.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)}).then(t,t)):void 0}function S(){return u.setNotificationSettings(f.currentProject.id,f.user.id,f.emailNotificationSettings).catch(function(e){var t=p.T("An error occurred while saving your notification settings.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)})}function _(){return d.update(f.user.id,{email_notifications_enabled:f.user.email_notifications_enabled}).catch(function(e){var t=p.T("An error occurred while saving your email notification preferences.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)})}function C(e){if(e)return d.update(f.user.id,f.user).catch(function(e){var t=p.T("An error occurred while saving your full name.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)})}function E(){return e.changePlan(f.currentProject?f.currentProject.organization_id:null).catch(function(e){})}function T(e){return t.unlink(e.provider,e.provider_user_id).then(function(){f.user.o_auth_accounts.splice(f.user.o_auth_accounts.indexOf(e),1)},function(e){var t=p.T("An error occurred while removing the external login.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),c.error(t)})}this.$onInit=function(){switch(f.activeTabIndex=0,f.authenticate=h,f._canSaveEmailAddress=!0,f.changePassword=m,f.currentProject={},f.deleteAccount=y,f.emailAddressForm={},f.emailNotificationSettings=null,f.getEmailNotificationSettings=v,f.hasLocalAccount=!1,f.get=g,f.hasPremiumFeatures=!1,f.hasPremiumEmailNotifications=$,f.isExternalLoginEnabled=w,f.password={},f.passwordForm={},f.projects=[],f.resendVerificationEmail=k,f.saveEmailAddress=x,f.saveEmailNotificationSettings=S,f.saveEnableEmailNotification=_,f.saveUser=C,f.showChangePlanDialog=E,f.unlink=T,f.user={},n.tab){case"notifications":f.activeTabIndex=1;break;case"password":f.activeTabIndex=2;break;case"external":f.activeTabIndex=3;break;default:f.activeTabIndex=0}g()}}])}(),function(){"use strict";angular.module("app.account").controller("account.Verify",["$ExceptionlessClient","$rootScope","$state","$stateParams","notificationService","userService","translateService",function(n,e,t,r,a,i,o){var s=this;function l(){return t.go("app.account.manage")}function c(){return n.createFeatureUsage(s._source+".verify").setProperty("Token",s._token).submit(),i.verifyEmailAddress(s._token).then(function(){n.createFeatureUsage(s._source+".verify.success").setProperty("Token",s._token).submit(),e.$emit("UserChanged"),a.info(o.T("Successfully verified your account."))},function(e){n.createFeatureUsage(s._source+".verify.error").setProperty("Token",s._token).setProperty("response",e).submit();var t=o.T("An error occurred while verifying your account.");e&&e.data&&e.data.message&&(t+=" "+o.T("Message:")+" "+e.data.message),a.error(t)})}this.$onInit=function(){s._source="app.account.Verify",s._token=r.token,c().finally(l)}}])}(),function(){"use strict";angular.module("app.admin",["ui.router"]).config(["$stateProvider",function(e){e.state("app.admin",{abstract:!0,url:"/admin",template:'<ui-view autoscroll="true"/>'}),e.state("app.admin.dashboard",{title:"Admin Dashboard",url:"/dashboard",controller:"admin.Dashboard",controllerAs:"vm",templateUrl:"app/admin/dashboard.tpl.html"})}])}(),function(){"use strict";angular.module("app.admin").controller("admin.Dashboard",[function(){}])}(),function(){"use strict";angular.module("app.event",["angular-clipboard","angular-filters","cfp.hotkeys","ui.router","exceptionless","exceptionless.billing","exceptionless.dialog","exceptionless.error","exceptionless.event","exceptionless.events","exceptionless.filter","exceptionless.organization-notifications","exceptionless.link","exceptionless.notification","exceptionless.object-dump","exceptionless.refresh","exceptionless.simple-error","exceptionless.simple-stack-trace","exceptionless.stack-trace","exceptionless.timeago","exceptionless.url"]).config(["$stateProvider",function(e){e.state("app.event",{title:"Event",url:"/event/{id:[0-9a-fA-F]{24}}?tab",controller:"Event",controllerAs:"vm",templateUrl:"app/event/event.tpl.html"}),e.state("app.event-reference",{title:"Event Reference",url:"/event/by-ref/{referenceId:.{8,100}}",controller:"Reference",controllerAs:"vm",templateUrl:"app/event/reference.tpl.html"})}])}(),function(){"use strict";angular.module("app.event").controller("Event",["$ExceptionlessClient","$scope","$state","$stateParams","$timeout","$window","billingService","clipboard","dialogService","errorService","eventService","filterService","hotkeys","linkService","notificationService","projectService","simpleErrorService","urlService","translateService",function(r,a,i,n,t,o,s,l,e,c,u,d,p,f,h,m,g,v,b){var y=this;function $(){w(b.T("Session Events"))}function w(e){for(var t=0;t<y.tabs.length;t++){var n=y.tabs[t];if(n.title===e){"session"===n.template_key&&(y.sessionEventsTabActivated=!0),n.active=!0,y.activeTabIndex=n.index;break}n.active=!1}(y.activeTabIndex<0||y.activeTabIndex>=y.tabs.length)&&(y.tabs[0].active=!0,y.activeTabIndex=0)}function k(e){var n=0,r=[{index:n,title:b.T("Overview"),template_key:"overview"}],a=(y.event.data&&y.event.data["@error"]?r.push({index:++n,title:b.T("Exception"),template_key:"error"}):y.event.data&&y.event.data["@simple_error"]&&r.push({index:++n,title:b.T("Exception"),template_key:"simple-error"}),y.request&&0<Object.keys(y.request).length&&r.push({index:++n,title:b.T(y.isSessionStart?"Browser":"Request"),template_key:"request"}),y.environment&&0<Object.keys(y.environment).length&&r.push({index:++n,title:b.T("Environment"),template_key:"environment"}),[]);angular.forEach(y.event.data,function(e,t){(t="@trace"===t?"Trace Log":t).startsWith("@")||(D(t)?r.push({index:++n,title:t,template_key:"promoted",data:e}):y._knownDataKeys.indexOf(t)<0&&a.push({title:t,data:e}))},r),0<a.length&&r.push({index:++n,title:b.T("Extended Data"),template_key:"extended-data",data:a}),y.referenceId&&r.push({index:++n,title:b.T("Session Events"),template_key:"session"}),y.tabs=r,t(function(){w(e)},1)}function x(e){return e&&"PersistentEvent"===e.type?e.id&&y.event.id?e.id===y.event.id:d.includedInProjectOrOrganizationFilter({organizationId:e.organization_id,projectId:e.project_id}):e&&"Stack"===e.type?d.includedInProjectOrOrganizationFilter({organizationId:e.organization_id,projectId:e.project_id}):e&&"Organization"===e.type||"Project"===e.type?d.includedInProjectOrOrganizationFilter({organizationId:e.id,projectId:e.id}):!e}function S(){h.success(b.T("Copied!"))}function _(t){var e=y.project.promoted_tabs.indexOf(t);if(!(e<0))return r.createFeatureUsage(y._source+".demoteTab").setProperty("id",y._eventId).setProperty("TabName",t).submit(),m.demoteTab(y.project.id,t).then(function(){r.createFeatureUsage(y._source+".promoteTab.success").setProperty("id",y._eventId).setProperty("TabName",t).submit(),y.project.promoted_tabs.splice(e,1),k(b.T("Extended Data"))},function(e){r.createFeatureUsage(y._source+".promoteTab.error").setProperty("id",y._eventId).setProperty("response",e).setProperty("TabName",t).submit(),h.error(b.T("An error occurred promoting tab."))})}function C(){var e=y.tabs.filter(function(e){return e.index===y.activeTabIndex})[0];return e&&0<e.index?e.title:b.T("Overview")}function E(){return y.event.value||moment().diff(y.event.date,"seconds")}function T(){function e(e){if(e&&426===e.status)return s.confirmUpgradePlan(e.data.message).then(T,function(){i.go("app.frequent")});i.go("app.frequent"),h.error(b.T("Cannot_Find_Event",{eventId:n.id}))}return y._eventId||e(),u.getById(y._eventId,{},function(e){return e.filter?e.filter+=" stack:current":e.filter="stack:current",e}).then(function(e){y.event=e.data.plain(),y.event_json=angular.toJson(y.event,!0),y.sessionEvents.relativeTo=y.event.date,y.errorData=(n=y.event,((t=(n=n).data&&n.data["@error"])?c:(t=n.data&&n.data["@simple_error"],g)).getExceptions(t).map(function(e,t,n){var r=e.type||"Unknown";return{title:0===t?"Additional Data":r+" Additional Data",type:r,message:e.message,data:function(e){var n;if(e.data)return n=e.data["@ext"]||{},angular.forEach(e.data,function(e,t){t.startsWith("@")||(n[t]=e)}),n}(e)}}).filter(function(e){return!!e.data})),y.errorType=(n=y.event,(t=n.data&&n.data["@error"])?c.getTargetInfoExceptionType(t)||t.type||"Unknown":(t=n.data&&n.data["@simple_error"])&&t.type?t.type:"Unknown"),y.environment=y.event.data&&y.event.data["@environment"],y.location=function(e){if(e=e.data?e.data["@location"]:null)return[e.locality,e.level1,e.country].filter(function(e){return e&&e.length}).reduce(function(e,t,n){return e+=(0<n?", ":"")+t},"")}(y.event),y.message=function(e){if(e.data&&e.data["@error"]){var t=c.getTargetInfoMessage(e.data["@error"]);if(t)return t}return e.message}(y.event),y.hasError=y.event.data&&(y.event.data["@error"]||y.event.data["@simple_error"]),y.isSessionStart="session"===y.event.type,y.referenceId=y.isSessionStart?y.event.reference_id:null,y.level=y.event.data&&y.event.data["@level"]?y.event.data["@level"].toLowerCase():null,y.isLevelSuccess="trace"===y.level||"debug"===y.level,y.isLevelInfo="info"===y.level,y.isLevelWarning="warn"===y.level,y.isLevelError="error"===y.level,y.request=y.event.data&&y.event.data["@request"],y.hasCookies=y.request&&!!y.request.cookies&&0<Object.keys(y.request.cookies).length,y.hasHeaders=y.request&&!!y.request.headers&&0<Object.keys(y.request.headers).length,y.requestUrl=y.request&&v.buildUrl(y.request.is_secure,y.request.host,y.request.port,y.request.path,y.request.query_string),y.user=y.event.data&&y.event.data["@user"],y.userIdentity=y.user&&y.user.identity,y.userName=y.user&&y.user.name,y.userDescription=y.event.data&&y.event.data["@user_description"],y.userEmail=y.userDescription&&y.userDescription.email_address,y.userDescription=y.userDescription&&y.userDescription.description,y.version=y.event.data&&y.event.data["@version"];var t,n=f.getLinks(e.headers("link"));return y.previous=n.previous?n.previous.split("/").pop():null,y.next=n.next?n.next.split("/").pop():null,p.del("mod+up"),p.del("mod+left"),p.del("mod+right"),p.del("mod+shift+c"),y.event.stack_id&&(p.bindTo(a).add({combo:"mod+up",description:b.T("Go To Stack"),callback:function(){r.createFeatureUsage(y._source+".hotkeys.GoToStack").addTags("hotkeys").setProperty("id",y._eventId).submit(),i.go("app.stack",{id:y.event.stack_id})}}),l.supported)&&p.bindTo(a).add({combo:"mod+shift+c",description:b.T("Copy Event JSON to Clipboard"),callback:function(){r.createFeatureUsage(y._source+".hotkeys.CopyEventJSON").addTags("hotkeys").setProperty("id",y._eventId).submit(),l.copyText(y.event_json),S()}}),y.previous&&p.bindTo(a).add({combo:"mod+left",description:b.T("Previous Occurrence"),callback:function(){r.createFeatureUsage(y._source+".hotkeys.PreviousOccurrence").addTags("hotkeys").setProperty("id",y._eventId).submit(),i.go("app.event",{id:y.previous,tab:y.getCurrentTab()})}}),y.next&&p.bindTo(a).add({combo:"mod+right",description:b.T("Next Occurrence"),callback:function(){r.createFeatureUsage(y._source+".hotkeys.NextOccurrence").addTags("hotkeys").setProperty("id",y._eventId).submit(),i.go("app.event",{id:y.next,tab:y.getCurrentTab()})}}),y.references=[],angular.forEach(y.event.data,function(e,t){"@ref:session"===t&&(y.referenceId=e),t.startsWith("@ref:")&&y.references.push({id:e,name:1<(e=(e=(e=t.slice(5)).replace(/_/g," ").replace(/\s+/g," ").trim()).replace(/([a-z0-9])([A-Z0-9])/g,"$1 $2")).length?e.charAt(0).toUpperCase()+e.slice(1):e})}),y.event},e).catch(function(e){})}function P(){function e(){i.go("app.frequent")}return y.event&&y.event.project_id||e(),m.getById(y.event.project_id,!0).then(function(e){return y.project=e.data.plain(),y.project.promoted_tabs=y.project.promoted_tabs||[],y.project},e)}function D(t){return!(!y.project||!y.project.promoted_tabs)&&0<y.project.promoted_tabs.filter(function(e){return e===t}).length}function M(t){return r.createFeatureUsage(y._source+".promoteTab").setProperty("id",y._eventId).setProperty("TabName",t).submit(),m.promoteTab(y.project.id,t).then(function(){r.createFeatureUsage(y._source+".promoteTab.success").setProperty("id",y._eventId).setProperty("TabName",t).submit(),y.project.promoted_tabs.push(t),k(t)},function(e){r.createFeatureUsage(y._source+".promoteTab.error").setProperty("id",y._eventId).setProperty("response",e).setProperty("TabName",t).submit(),h.error(b.T("An error occurred promoting tab."))})}function A(){return r.createFeatureUsage(y._source+".viewJSON").setProperty("id",y._eventId).submit(),e.viewJSON(y.event_json).then(function(){r.createFeatureUsage(y._source+".viewJSON.success").setProperty("id",y._eventId).submit()},function(){r.createFeatureUsage(y._source+".viewJSON.error").setProperty("id",y._eventId).submit()})}function O(){y.isAccordionVisible=o.innerWidth<768}function I(){var t={};return Object.keys(y.request.headers||{}).sort().forEach(function(e){t[e]=y.request.headers[e].join(",")}),t}this.$onInit=function(){O();var e=angular.element(o),t=(e.bind("resize",O),a.$on("$destroy",function(){t(),e.unbind("resize",O)}));return y._source="app.event.Event",y._eventId=n.id,y._knownDataKeys=["error","@error","@simple_error","@request","@trace","@environment","@user","@user_description","@version","@level","@location","@submission_method","@submission_client","session_id","sessionend","haserror","@stack"],y.activeTabIndex=-1,y.activateTab=w,y.canRefresh=x,y.copied=S,y.demoteTab=_,y.event={},y.event_json="",y.activateSessionEventsTab=$,y.textStackTrace="",y.excludedAdditionalData=["@browser","@browser_version","@browser_major_version","@device","@os","@os_version","@os_major_version","@is_bot"],y.getCurrentTab=C,y.getDuration=E,y.errorData=[],y.errorType="Unknown",y.environment={},y.location="",y.message="",y.isSessionStart=!1,y.level="",y.isLevelSuccess=!1,y.isLevelInfo=!1,y.isLevelWarning=!1,y.isLevelError=!1,y.isPromoted=D,y.request={},y.requestUrl="",y.hasCookies=!1,y.hasHeaders=!1,y.hasError=!1,y.user={},y.userIdentity="",y.userName="",y.userDescription={},y.userEmail="",y.userDescription="",y.version="",y.project={},y.promoteTab=M,y.references=[],y.referenceId=null,y.sessionEvents={eventId:y._eventId,canRefresh:function(e,t){return"PersistentEvent"===t.type?!!t.deleted&&(t.id&&e?0<e.filter(function(e){return e.id===t.id}).length:t.project_id?y.event.project_id===t.project_id:y.event.organization_id===t.organization_id):"Stack"===t.type?t.project_id?y.event.project_id===t.project_id:y.event.organization_id===t.organization_id:"Project"===t.type?y.event.project_id===t.id:"Organization"===t.type&&y.event.organization_id===t.id},get:function(e){return u.getBySessionId(y.event.project_id,y.referenceId,e,function(e){e.filter="-type:heartbeat";var t=(y.isSessionStart?moment.utc(y.event.date):moment.utc(y.event.date).subtract(180,"days")).local(),n=y.event.data&&y.event.data.sessionend?moment.utc(y.event.data.sessionend).add(1,"seconds").local().format("YYYY-MM-DDTHH:mm:ss"):"now";return e.time=t.format("YYYY-MM-DDTHH:mm:ss")+"-"+n,e})},options:{limit:10,mode:"summary"},source:y._source+".Events",timeHeaderText:"Session Time",hideActions:!0,hideSessionStartTime:!0},y.sessionEventsTabActivated=!1,y.sortedHeaders=I,y.viewJSON=A,y.tabs=[],T().then(P).then(function(){k(n.tab)})}}])}(),function(){"use strict";angular.module("exceptionless.event").directive("extendedDataItem",[function(){return{restrict:"E",scope:{canPromote:"=",data:"=",demoteTab:"&",excludedKeys:"=",isPromoted:"=",promoteTab:"&",title:"="},templateUrl:"app/event/extended-data-item-directive.tpl.html",controller:["$scope","notificationService","translateService",function(e,t,r){var a=this;function i(){t.success(r.T("Copied!"))}function o(){return e.demoteTab({tabName:a.title})}function s(){return e.promoteTab({tabName:a.title})}this.$onInit=function(){var n,t;a.copied=i,a.canPromote=!1!==e.canPromote,a.demoteTab=o,a.data=e.data,a.hasData=void 0!==a.data&&!angular.equals({},a.data),a.data_json=a.hasData?angular.toJson(a.data):"",a.filteredData=(n=a.data,t=(t=e.excludedKeys)&&t.length?t:[],"object"==typeof n&&n instanceof Object?Object.keys(n).filter(function(e){return e&&e.length&&t.indexOf(e)<0}).map(function(e){return{key:e,name:e}}).sort(function(e,t){return e.name-t.name}).reduce(function(e,t){return e[t.name]=n[t.key],e},{}):n),a.hasFilteredData=void 0!==a.filteredData&&!angular.equals({},a.filteredData),a.isPromoted=!0===e.isPromoted,a.promoteTab=s,a.showRaw=!1,a.title=r.T(e.title)}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("app.event").controller("Reference",["eventService","$state","$stateParams",function(t,n,r){this.references={get:function(e){return t.getByReferenceId(r.referenceId,e).then(function(e){var t=e.data.plain();return t&&1===t.length&&n.go("app.event",{id:t[0].id}),e})},options:{limit:20,mode:"summary"},source:"app.event.Reference"}}])}(),function(){"use strict";angular.module("app.organization",["angular-rickshaw","ngMessages","ui.bootstrap","ui.router","dialogs.main","app.config","exceptionless","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.filter","exceptionless.organization","exceptionless.pagination","exceptionless.project","exceptionless.projects","exceptionless.refresh","exceptionless.timeago","exceptionless.token","exceptionless.user","exceptionless.users","exceptionless.validators","exceptionless.web-hook"]).config(["$stateProvider",function(e){e.state("app.organization",{abstract:!0,url:"/organization",template:'<ui-view autoscroll="true" />'}),e.state("app.organization.list",{title:"My Organizations",url:"/list",controller:"organization.List",controllerAs:"vm",templateUrl:"app/organization/list/list.tpl.html"}),e.state("app.organization.manage",{title:"Manage Organization",url:"/{id:[0-9a-fA-F]{24}}/manage?tab",controller:"organization.Manage",controllerAs:"vm",templateUrl:"app/organization/manage/manage.tpl.html"}),e.state("app.organization.upgrade",{title:"Upgrade Organization",url:"/{id:[0-9a-fA-F]{24}}/upgrade",controller:"organization.Upgrade",template:null})}])}(),function(){"use strict";angular.module("app.organization").controller("AddOrganizationDialog",["$ExceptionlessClient","$uibModalInstance","$timeout",function(n,r,a){var i=this;function e(){n.submitFeatureUsage(i._source+".cancel"),r.dismiss("cancel")}function o(e){function t(e){var t=a(function(){a.cancel(t),o(!0)},e||100)}return!i.addOrganizationForm||i.addOrganizationForm.$invalid?(i._canSave=!0,!e&&t(1e3)):!i.data.name||i.addOrganizationForm.$pending?t():void(i._canSave&&(i._canSave=!1,n.createFeatureUsage(i._source+".save").setProperty("name",i.data.name).submit(),r.close(i.data.name)))}this.$onInit=function(){i._source="app.organization.AddOrganizationDialog",i._canSave=!0,i.addOrganizationForm={},i.cancel=e,i.data={},i.save=o,n.submitFeatureUsage(i._source)}}])}(),function(){"use strict";angular.module("app.organization").controller("organization.List",["$ExceptionlessClient","$rootScope","$scope","$window","$state","billingService","dialogs","dialogService","filterService","linkService","notificationService","organizationService","paginationService","translateService","STRIPE_PUBLISHABLE_KEY",function(r,e,t,a,i,o,n,s,l,c,u,d,p,f,h){var m=this;function g(){return n.create("app/organization/list/add-organization-dialog.tpl.html","AddOrganizationDialog as vm").result.then(b).catch(function(e){})}function v(e){if(h)return o.changePlan(e).catch(function(e){});u.error(f.T("Billing is currently disabled."))}function b(n){return d.create(n).then(function(e){m.organizations.push(e.data.plain()),m.canChangePlan=!!h&&0<m.organizations.length},function(e){if(426===e.status)return o.confirmUpgradePlan(e.data.message).then(function(){return b(n)}).catch(function(e){});var t=f.T("An error occurred while creating the organization.");e.data&&e.data.message&&(t+=" "+f.T("Message:")+" "+e.data.message),u.error(t)})}function y(e,n){return m.loading=0===m.organizations.length,m.currentOptions=e||m._settings,d.getAll(m.currentOptions,n).then(function(e){m.organizations=e.data.plain(),m.canChangePlan=!!h&&0<m.organizations.length;var t=c.getLinksQueryParameters(e.headers("link"));return m.previous=t.previous,m.next=t.next,m.pageSummary=p.getCurrentPageSummary(e.data,m.currentOptions.page,m.currentOptions.limit),0===m.organizations.length&&m.currentOptions.page&&1<m.currentOptions.page?y(null,n):m.organizations}).finally(function(){m.loading=!1})}function $(e,t){return s.confirmDanger(f.T("Are you sure you want to leave this organization?"),f.T("Leave Organization")).then(function(){return d.removeUser(e.id,t.email_address).then(function(){m.organizations.splice(m.organizations.indexOf(e),1),m.canChangePlan=!!h&&0<m.organizations.length},function(e){var t=f.T("An error occurred while trying to leave the organization.");400===e.status&&(t+=" "+f.T("Message:")+" "+e.data.message),u.error(t)})}).catch(function(e){})}function w(e,t){var n=t.ctrlKey||t.metaKey||2===t.which;r.createFeatureUsage(m._source+".open").setProperty("id",e).setProperty("_blank",n).submit(),n?a.open(i.href("app.organization.manage",{id:e},{absolute:!0}),"_blank"):i.go("app.organization.manage",{id:e}),t.preventDefault()}function k(){return r.createFeatureUsage(m._source+".nextPage").setProperty("next",m.next).submit(),y(m.next)}function x(){return r.createFeatureUsage(m._source+".previousPage").setProperty("previous",m.previous).submit(),y(m.previous)}function S(n){return r.createFeatureUsage(m._source+".remove").setProperty("organization",n).submit(),s.confirmDanger(f.T("Are you sure you want to delete this organization?"),f.T("Delete Organization")).then(function(){return d.remove(n.id).then(function(){m.organizations.splice(m.organizations.indexOf(n),1),m.canChangePlan=!!h&&0<m.organizations.length,u.info(f.T("Successfully queued the organization for deletion.")),r.createFeatureUsage(m._source+".remove.success").setProperty("organization",n).submit()},function(e){var t=f.T("An error occurred while trying to delete the organization.");400===e.status&&(t+=" "+f.T("Message:")+" "+e.data.message),r.createFeatureUsage(m._source+".remove.error").setProperty("organization",n).submit(),u.error(t)})}).catch(function(e){})}this.$onInit=function(){m._source="exceptionless.organization.List",m._settings={mode:"stats"},m.add=g,m.canChangePlan=!1,m.changePlan=v,m.get=y,m.hasFilter=l.hasFilter,m.leave=$,m.loading=!0,m.nextPage=k,m.open=w,m.organizations=[],m.previousPage=x,m.remove=S,r.submitFeatureUsage(m._source),y()}}])}(),function(){"use strict";angular.module("app.organization").controller("AddUserDialog",["$ExceptionlessClient","$uibModalInstance",function(t,n){var r=this;function e(){t.submitFeatureUsage(r._source+".cancel"),n.dismiss("cancel")}function a(e){e&&(t.createFeatureUsage(r._source+".save").setProperty("email",r.data.email).submit(),n.close(r.data.email))}this.$onInit=function(){r._source="app.organization.AddUserDialog",r.cancel=e,r.save=a,t.submitFeatureUsage(r._source)}}])}(),function(){"use strict";angular.module("app.organization").directive("invoices",function(){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"app/organization/manage/invoices-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","linkService","notificationService","paginationService","userService",function(t,n,r,a,e,i,o){var s=this;function l(e,t){return s.currentOptions=e||s.settings.options,s.settings.get(s.currentOptions,t).then(function(e){return s.invoices=e.data.plain(),e=a.getLinksQueryParameters(e.headers("link")),s.previous=e.previous,s.next=e.next,0===s.invoices.length&&(s.previous||s.next)?l(null,t):s.invoices}).catch(function(e){})}function c(e){return o.hasAdminRole(e)}function u(e){t.createFeatureUsage(s.source+".open").setProperty("id",e).submit(),n.open(r.href("payment",{id:e},{absolute:!0}),"_blank")}function d(){return t.createFeatureUsage(s.source+".nextPage").setProperty("next",s.next).submit(),l(s.next)}function p(){return t.createFeatureUsage(s.source+".previousPage").setProperty("previous",s.previous).submit(),l(s.previous)}this.$onInit=function(){s.source="exceptionless.organization.invoices",s.currentOptions={},s.get=l,s.hasAdminRole=c,s.nextPage=d,s.open=u,s.previousPage=p,s.invoices=[],t.submitFeatureUsage(s.source),l()}}],controllerAs:"vm"}})}(),function(){"use strict";angular.module("app.organization").controller("organization.Manage",["$ExceptionlessClient","filterService","$filter","$state","$stateParams","$window","billingService","dialogService","organizationService","projectService","userService","notificationService","translateService","dialogs","STRIPE_PUBLISHABLE_KEY",function(n,r,i,a,e,t,o,s,l,c,u,d,p,f,h){var m=this;function g(){return f.create("app/organization/manage/add-user-dialog.tpl.html","AddUserDialog as vm").result.then(b)}function v(){return o.changePlan(m.organization.id).catch(function(e){})}function b(n){return l.addUser(m._organizationId,n).catch(function(e){if(426===e.status)return o.confirmUpgradePlan(e.data.message,m._organizationId).then(function(){return b(n)}).catch(function(e){});var t=p.T("An error occurred while inviting the user.");e.data&&e.data.message&&(t+=" "+p.T("Message:")+" "+e.data.message),d.error(t)})}function y(e){if(!m._ignoreRefresh){if(!e||"Organization"!==e.type||!e.deleted||e.id!==m._organizationId)return l.getById(m._organizationId,!1).then(function(e){var t,n;return m.organization=e.data.plain(),m.organization.usage=m.organization.usage||[{date:moment.utc().startOf("month").toISOString(),total:0,discarded:0,blocked:0,limit:m.organization.max_events_per_month,too_big:0}],m.hasMonthlyUsage=0<m.organization.max_events_per_month,m.remainingEventLimit=(e=m.organization).max_events_per_month?(t=moment.utc().isBefore(moment.utc(e.bonus_expiration))?e.bonus_events_per_month:0,(n=e.usage&&e.usage[m.organization.usage.length-1])&&moment.utc(n.date).isSame(moment.utc().startOf("month"))?0<(n=n.limit-n.total)?n:0:e.max_events_per_month+t):0,m.canChangePlan=!!h&&m.organization,m.chart.options.series[0].data=m.organization.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.total,data:e}}),m.chart.options.series[1].data=m.organization.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.discarded,data:e}}),m.chart.options.series[2].data=m.organization.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.blocked,data:e}}),m.chart.options.series[3].data=m.organization.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.too_big,data:e}}),m.chart.options.series[4].data=m.organization.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.limit,data:e}}),m.organization},function(){a.go("app.frequent"),d.error(p.T("Cannot_Find_Organization",{organizationId:m._organizationId}))});a.go("app.frequent"),d.error(p.T("Organization_Deleted",{organizationId:m._organizationId}))}}function $(e){return u.hasAdminRole(e)}function w(e){return s.confirmDanger(p.T("Are you sure you want to leave this organization?"),p.T("Leave Organization")).then(function(){return m._ignoreRefresh=!0,l.removeUser(m._organizationId,e.email_address).then(function(){a.go("app.organization.list")},function(e){var t=p.T("An error occurred while trying to leave the organization.");400===e.status&&(t+=" "+p.T("Message:")+" "+e.data.message),d.error(t),m._ignoreRefresh=!1})}).catch(function(e){})}function k(){return s.confirmDanger(p.T('Are you sure you want to delete the "'+m.organization.name+'" organization?'),p.T("Delete Organization")).then(function(){return m._ignoreRefresh=!0,l.remove(m._organizationId).then(function(){d.info(p.T("Successfully queued the organization for deletion.")),a.go("app.organization.list")},function(e){var t=p.T("An error occurred while trying to delete the organization.");400===e.status&&(t+=" "+p.T("Message:")+" "+e.data.message),d.error(t),m._ignoreRefresh=!1})}).catch(function(e){})}function x(e){if(e)return l.update(m._organizationId,m.organization).catch(function(){d.error(p.T("An error occurred while saving the organization."))})}this.$onInit=function(){switch(m._source="organization.Manage",m._ignoreRefresh=!1,m._organizationId=e.id,m.activeTabIndex=0,m.addUser=g,m.canChangePlan=!1,m.changePlan=v,m.chart={options:{padding:{top:.085},renderer:"multi",series:[{name:p.T("Total"),color:"#a4d56f",renderer:"stack"},{name:p.T("Discarded"),color:"#c9c9c9",renderer:"stack"},{name:p.T("Blocked"),color:"#e2e2e2",renderer:"stack"},{name:p.T("Too Big"),color:"#ccc",renderer:"stack"},{name:p.T("Limit"),color:"#a94442",renderer:"dotted_line"}]},features:{hover:{render:function(e){var t=moment.utc(e.domainX,"X"),n=p.T("DateTimeFormat"),r=p.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+"<br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return r.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),n.createFeatureUsage(m._source+".chart.range.onSelection").setProperty("start",t).setProperty("end",e).submit(),a.go("app.organization-frequent",{organizationId:m.organization.id}),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},m.get=y,m.hasAdminRole=$,m.hasMonthlyUsage=!0,m.invoices={get:function(e,t){return l.getInvoices(m._organizationId,e,t)},options:{limit:12},organizationId:m._organizationId},m.leaveOrganization=w,m.next_billing_date=moment.utc().startOf("month").add(1,"months").toDate(),m.organization={},m.organizationForm={},m.projects={get:function(e,t){return c.getByOrganizationId(m._organizationId,e,t)},organization:m._organizationId,options:{limit:10,mode:"stats"}},m.remainingEventLimit=3e3,m.removeOrganization=k,m.save=x,m.users={get:function(e,t){return u.getByOrganizationId(m._organizationId,e,t)},options:{limit:10},organizationId:m._organizationId},e.tab){case"projects":m.activeTabIndex=1;break;case"users":m.activeTabIndex=2;break;case"billing":m.activeTabIndex=3;break;default:m.activeTabIndex=0}y()}}])}(),function(){"use strict";angular.module("app.organization").controller("organization.Upgrade",["$ExceptionlessClient","$state","$stateParams","billingService","organizationService","notificationService","translateService","STRIPE_PUBLISHABLE_KEY",function(e,t,n,r,a,i,o,s){var l=this;function c(){function e(){return t.go("app.organization.manage",{id:l._organizationId})}return r.changePlan(l._organizationId.id).then(e,e)}this.$onInit=function(){return l._organizationId=n.id,e.createFeatureUsage("organization.Upgrade").setProperty("OrganizationId",l._organizationId).submit(),s?(e.submitFeatureUsage("organization.Upgrade"),a.getById(l._organizationId,!1).catch(function(){t.go("app.frequent"),i.error(o.T("Cannot_Find_Organization",{organizationId:l._organizationId}))}).then(c)):(t.go("app.organization.manage",{id:l._organizationId}),i.error(o.T("Billing is currently disabled.")))}}])}(),function(){"use strict";angular.module("app.payment",["ui.router","exceptionless.organization","exceptionless.rate-limit"]).config(["$stateProvider",function(e){e.state("payment",{title:"View Invoice",url:"/payment/:id",controller:"Payment",controllerAs:"vm",parent:null,templateUrl:"app/payment/payment.tpl.html"})}])}(),function(){"use strict";angular.module("app.payment").controller("Payment",["$state","$stateParams","notificationService","organizationService","translateService",function(e,t,n,r,a){var i=this;function o(){r.getInvoice(i._invoiceId).then(function(e){return i.invoice=e.data.plain(),i.invoice},function(){e.go("app.frequent"),n.error(a.T("Cannot_Find_Invoice",{invoiceId:i._invoiceId}))})}this.$onInit=function(){i._invoiceId=t.id,i.invoice={},o()}}])}(),function(){"use strict";angular.module("app.project",["angular-clipboard","ngMessages","ui.bootstrap","ui.router","dialogs.main","xeditable","exceptionless","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.link","exceptionless.log-level","exceptionless.organization-notifications","exceptionless.project","exceptionless.organization","exceptionless.notification","exceptionless.refresh","exceptionless.token","exceptionless.validators"]).config(["$stateProvider",function(e){e.state("app.project",{abstract:!0,url:"/project",template:'<ui-view autoscroll="true" />'}),e.state("app.project.add",{title:"Add Project",url:"/add?{organizationId:[0-9a-fA-F]{24}}",controller:"project.Add",controllerAs:"vm",templateUrl:"app/project/add.tpl.html"}),e.state("app.project.configure",{title:"Configure Project",url:"/:id/configure?redirect",controller:"project.Configure",controllerAs:"vm",templateUrl:"app/project/configure.tpl.html"}),e.state("app.project.list",{title:"My Projects",url:"/list",controller:"project.List",controllerAs:"vm",templateUrl:"app/project/list.tpl.html"}),e.state("app.project.manage",{title:"Manage Project",url:"/{id:[0-9a-fA-F]{24}}/manage",controller:"project.Manage",controllerAs:"vm",templateUrl:"app/project/manage/manage.tpl.html"})}])}(),function(){"use strict";angular.module("app.project").controller("project.Add",["$state","$stateParams","$timeout","billingService","organizationService","projectService","notificationService","translateService",function(t,n,r,a,i,e,o,s){var l=this;function c(e){function t(){l._canAdd=!0}function n(e){var t=r(function(){r.cancel(t),c(!0)},e||100)}return!l.addForm||l.addForm.$invalid?(t(),!e&&n(1e3)):u()&&!l.organization_name||!l.project_name||l.addForm.$pending?n():l._canAdd?(l._canAdd=!1,(u()?function n(r){function e(e){return l.organizations.push(e.data),l.currentOrganization=e.data,e.data}function t(e){if(426===e.status)return a.confirmUpgradePlan(e.data.message).then(function(){return n(r)}).catch(function(e){});var t=s.T("An error occurred while creating the organization.");e.data&&e.data.message&&(t+=" "+s.T("Message:")+" "+e.data.message),o.error(t)}return i.create(r).then(e,t)}(l.organization_name).then(d):d(l.currentOrganization)).then(t,t)):void 0}function u(){return l.currentOrganization.id===l._newOrganizationId||!f()}function d(n){if(n)return e.create(n.id,l.project_name).then(function(e){t.go("app.project.configure",{id:e.data.id,redirect:!0})},function(e){if(426===e.status)return a.confirmUpgradePlan(e.data.message,n.id).then(function(){return d(n)}).catch(function(e){});var t=s.T("An error occurred while creating the project.");e.data&&e.data.message&&(t+=" "+s.T("Message:")+" "+e.data.message),o.error(t)});l._canAdd=!0}function p(){i.getAll().then(function(e){l.organizations=e.data,l.organizations.push({id:l._newOrganizationId,name:s.T("<New Organization>")});var t=l.currentOrganization.id||n.organizationId;l.currentOrganization=l.organizations.filter(function(e){return e.id===t})[0],l.currentOrganization||(l.currentOrganization=0<l.organizations.length?l.organizations[0]:{})})}function f(){return 0<l.organizations.filter(function(e){return e.id!==l._newOrganizationId}).length}this.$onInit=function(){l._canAdd=!0,l._newOrganizationId="__newOrganization",l.add=c,l.addForm={},l.canCreateOrganization=u,l.currentOrganization={},l.getOrganizations=p,l.hasOrganizations=f,l.organizations=[],p()}}])}(),function(){"use strict";angular.module("app.project").controller("AddConfigurationDialog",["$ExceptionlessClient","$uibModalInstance","data",function(t,n,e){var r=this;function a(){t.submitFeatureUsage(r._source+".cancel"),n.dismiss("cancel")}function i(e){e&&(t.createFeatureUsage(r._source+".save").setProperty("configuration",r.data).submit(),n.close(r.data))}this.$onInit=function(){r._source="app.project.AddConfigurationDialog",r.cancel=a,r.configuration=e,r.data={},r.save=i,t.submitFeatureUsage(r._source)}}])}(),function(){"use strict";angular.module("app.project").controller("project.Manage",["$ExceptionlessClient","$filter","$state","$stateParams","billingService","filterService","linkService","organizationService","projectService","tokenService","webHookService","notificationService","STRIPE_PUBLISHABLE_KEY","dialogs","dialogService","translateService",function(n,i,r,e,a,o,t,s,l,c,u,d,p,f,h,m){var g=this;function v(){return f.create("app/project/manage/add-configuration-dialog.tpl.html","AddConfigurationDialog as vm",g.config).result.then(function(e){return g.saveClientConfiguration(e,!0)}).catch(function(e){})}function b(){return g.hasPremiumFeatures?y():a.confirmUpgradePlan(m.T("Please upgrade your plan to enable slack integration."),g.project.organization_id).then(y).catch(function(e){})}function y(){return l.addSlack(g._projectId).catch(function(){d.error(m.T("An error occurred while adding Slack to your project."))})}function $(){var e={organization_id:g.project.organization_id,project_id:g._projectId};return c.create(e).then(function(e){return g.tokens.push(e.data.plain()),g.tokens},function(){d.error(m.T("An error occurred while creating a new API key for your project."))})}function w(){return f.create("components/web-hook/add-web-hook-dialog.tpl.html","AddWebHookDialog as vm").result.then(function(e){return e.project_id=g._projectId,function t(n){function e(e){return g.webHooks.push(e.data.plain()),g.webHooks}function r(e){if(426===e.status)return a.confirmUpgradePlan(e.data.message,g.project.organization_id).then(function(){return t(n)}).catch(function(e){});d.error(m.T("An error occurred while saving the configuration setting."))}return u.create(n).then(e,r)}(e)}).catch(function(e){})}function k(){return a.changePlan(g.organization.id).catch(function(e){})}function x(){d.success(m.T("Copied!"))}function S(e){return h.confirm(m.T("Are you sure you want to enable the API key?"),m.T("ENABLE API KEY")).then(function(){return c.update(e.id,{is_disabled:!1}).catch(function(){d.error(m.T("An error occurred while enabling the API key."))})}).catch(function(e){})}function _(e){return h.confirmDanger(m.T("Are you sure you want to disable the API key?"),m.T("DISABLE API KEY")).then(function(){return c.update(e.id,{is_disabled:!0}).catch(function(){d.error(m.T("An error occurred while disabling the API key."))})}).catch(function(e){})}function C(e){if(!g._ignoreRefresh){if(!e||"Project"!==e.type||!e.deleted||e.id!==g._projectId)return l.getById(g._projectId).then(function(e){return g.common_methods=null,g.user_namespaces=null,g.project=e.data.plain(),g.hasPremiumFeatures=g.project.has_premium_features,g.project&&g.project.data&&(g.common_methods=g.project.data.CommonMethods,g.user_namespaces=g.project.data.UserNamespaces),g.project.usage=g.project.usage||[{date:moment.utc().startOf("month").toISOString(),total:0,discarded:0,blocked:0,limit:3e3,too_big:0}],g.project},function(){r.go("app.project.list"),d.error(m.T("Cannot_Find_Project",{projectId:g._projectId}))}).then(E).then(M).then(function(){return T()}).then(A).then(function(){return O()});r.go("app.project.list"),d.error(m.T("Project_Deleted",{projectId:g._projectId}))}}function E(){return s.getById(g.project.organization_id,!1).then(function(e){g.organization=e.data.plain(),g.hasMonthlyUsage=0<g.organization.max_events_per_month,g.remainingEventLimit=(e=g.organization).max_events_per_month?(t=moment.utc().isBefore(moment.utc(e.bonus_expiration))?e.bonus_events_per_month:0,(n=e.usage&&e.usage[g.organization.usage.length-1])&&moment.utc(n.date).isSame(moment.utc().startOf("month"))?0<(n=n.limit-n.total)?n:0:e.max_events_per_month+t):0,g.canChangePlan=!!p&&g.organization;var t,n=[{date:moment.utc().startOf("month").toISOString(),total:0,discarded:0,blocked:0,limit:g.organization.max_events_per_month,too_big:0}];return g.organization.usage=(g.organization.usage||n).filter(function(t){return g.project.usage.some(function(e){return moment(e.date).isSame(t.date)})}),g.chart.options.series[0].data=g.organization.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.total,data:e}}),g.chart.options.series[1].data=g.project.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.total,data:e}}),g.chart.options.series[2].data=g.project.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.discarded,data:e}}),g.chart.options.series[3].data=g.project.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.blocked,data:e}}),g.chart.options.series[4].data=g.project.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.too_big,data:e}}),g.chart.options.series[5].data=g.organization.usage.map(function(e){return{x:moment.utc(e.date).unix(),y:e.limit,data:e}}),g.organization},function(){r.go("app.frequent"),d.error(m.T("Cannot_Find_Organization",{organizationId:g.project.organization_id}))})}function T(e){return g.tokensCurrentOptions=e||g.tokensCurrentOptions,c.getByProjectId(g._projectId,g.tokensCurrentOptions).then(function(e){return g.tokens=e.data.plain(),e=t.getLinksQueryParameters(e.headers("link")),g.tokensPrevious=e.previous,g.tokensNext=e.next,g.tokens},function(){d.error(m.T("An error occurred loading the api keys."))})}function P(){return n.createFeatureUsage(g.source+"getTokens.tokensNextPage").setProperty("tokensNext",g.tokensNext).submit(),T(g.tokensNext)}function D(){return n.createFeatureUsage(g.source+"getTokens.tokensPreviousPage").setProperty("tokensPrevious",g.tokensPrevious).submit(),T(g.tokensPrevious)}function M(){return l.getConfig(g._projectId).then(function(e){return g.config=[],g.data_exclusions=null,g.exclude_private_information=!1,g.user_agents=null,angular.forEach(e.data.settings,function(e,t){"@@DataExclusions"===t?g.data_exclusions=e:"@@IncludePrivateInformation"===t?g.exclude_private_information="false"===e:"@@UserAgentBotPatterns"===t?g.user_agents=e:g.config.push({key:t,value:e})}),g.config},function(){d.error(m.T("An error occurred loading the notification settings."))})}function A(){return g.slackNotificationSettings=null,l.getIntegrationNotificationSettings(g._projectId,"slack").then(function(e){return g.slackNotificationSettings=e.data.plain(),g.slackNotificationSettings},function(){d.error(m.T("An error occurred while loading the slack notification settings."))})}function O(e){return g.webHooksCurrentOptions=e||g.webHooksCurrentOptions,u.getByProjectId(g._projectId,g.webHooksCurrentOptions).then(function(e){return g.webHooks=e.data.plain(),e=t.getLinksQueryParameters(e.headers("link")),g.webHooksPrevious=e.previous,g.webHooksNext=e.next,g.webHooks},function(){d.error(m.T("An error occurred loading the notification settings."))})}function I(){return n.createFeatureUsage(g.source+"getWebHooks.webHooksNextPage").setProperty("webHooksNext",g.webHooksNext).submit(),O(g.webHooksNext)}function j(){return n.createFeatureUsage(g.source+"getWebHooks.webHooksPreviousPage").setProperty("webHooksPrevious",g.webHooksPrevious).submit(),O(g.webHooksPrevious)}function F(t){return h.confirmDanger(m.T("Are you sure you want to delete this configuration setting?"),m.T("DELETE CONFIGURATION SETTING")).then(function(){return l.removeConfig(g._projectId,t.key).then(function(){return g.config=g.config.filter(function(e){return e.key!==t.key}),g.config},function(){d.error(m.T("An error occurred while trying to delete the configuration setting."))})}).catch(function(e){})}function z(){return h.confirmDanger(m.T('Are you sure you want to delete the "'+g.project.name+'" project?'),m.T("Delete Project")).then(function(){return g._ignoreRefresh=!0,l.remove(g._projectId).then(function(){d.info(m.T("Successfully queued the project for deletion.")),r.go("app.project.list")},function(){d.error(m.T("An error occurred while trying to delete the project.")),g._ignoreRefresh=!1})}).catch(function(e){})}function L(){return h.confirmDanger(m.T("Are you sure you want to remove slack support?"),m.T("Remove Slack")).then(function(){return l.removeSlack(g._projectId).catch(function(){d.error(m.T("An error occurred while trying to remove slack."))})}).catch(function(e){})}function R(t){return h.confirmDanger(m.T("Are you sure you want to delete this API key?"),m.T("DELETE API KEY")).then(function(){return c.remove(t.id).then(function(){return g.tokens=g.tokens.filter(function(e){return e.id!==t.id}),g.tokens},function(){d.error(m.T("An error occurred while trying to delete the API Key."))})}).catch(function(e){})}function U(t){return h.confirmDanger(m.T("Are you sure you want to delete this web hook?"),m.T("DELETE WEB HOOK")).then(function(){return u.remove(t.id).then(function(){return g.webHooks=g.webHooks.filter(function(e){return e.id!==t.id}),g.webHooks},function(){d.error(m.T("An error occurred while trying to delete the web hook."))})}).catch(function(e){})}function q(){return h.confirmDanger(m.T("Are you sure you want to reset the data for this project?"),m.T("RESET PROJECT DATA")).then(function(){return l.resetData(g._projectId).catch(function(){d.error(m.T("An error occurred while resetting project data."))})}).catch(function(e){})}function H(e){if(e)return l.update(g._projectId,g.project).catch(function(){d.error(m.T("An error occurred while saving the project."))})}function V(e){return c.update(e.id,{notes:e.notes}).catch(function(){d.error(m.T("An error occurred while saving the API key note."))})}function Y(e,t){return l.setConfig(g._projectId,e.key,e.value).then(function(){t&&g.config.push(e)},function(){d.error(m.T("An error occurred while saving the configuration setting."))})}function B(){function e(){d.error(m.T("An error occurred while saving the common methods."))}return(g.common_methods?l.setData(g._projectId,"CommonMethods",g.common_methods):l.removeData(g._projectId,"CommonMethods")).catch(e)}function W(){function e(){d.error(m.T("An error occurred while saving the data exclusion."))}return(g.data_exclusions?l.setConfig(g._projectId,"@@DataExclusions",g.data_exclusions):l.removeConfig(g._projectId,"@@DataExclusions")).catch(e)}function G(){return l.update(g._projectId,{delete_bot_data_enabled:g.project.delete_bot_data_enabled}).catch(function(){d.error(m.T("An error occurred while saving the project."))})}function K(){function e(){d.error(m.T("An error occurred while saving the include private information setting."))}return(!0===g.exclude_private_information?l.setConfig(g._projectId,"@@IncludePrivateInformation",!1):l.removeConfig(g._projectId,"@@IncludePrivateInformation")).catch(e)}function X(){function e(){d.error(m.T("An error occurred while saving the user agents."))}return(g.user_agents?l.setConfig(g._projectId,"@@UserAgentBotPatterns",g.user_agents):l.removeConfig(g._projectId,"@@UserAgentBotPatterns")).catch(e)}function J(){function e(){d.error(m.T("An error occurred while saving the user namespaces."))}return(g.user_namespaces?l.setData(g._projectId,"UserNamespaces",g.user_namespaces):l.removeData(g._projectId,"UserNamespaces")).catch(e)}function N(){return l.setIntegrationNotificationSettings(g._projectId,"slack",g.slackNotificationSettings).catch(function(e){if(426===e.status)return a.confirmUpgradePlan(e.data.message,g.project.organization_id).then(N).catch(function(e){return A()});d.error(m.T("An error occurred while saving your slack notification settings."))})}function Z(){return a.changePlan(g.project.organization_id).catch(function(e){})}function Q(e,t){return e!==t&&null}function ee(e,t){return e!==t&&(t?null:m.T("Please enter a valid value."))}this.$onInit=function(){g._ignoreRefresh=!1,g._projectId=e.id,g.addSlack=b,g.addToken=$,g.addConfiguration=v,g.addWebHook=w,g.canChangePlan=!1,g.changePlan=k,g.chart={options:{padding:{top:.085},renderer:"multi",series:[{name:m.T("Total in Organization"),color:"#f5f5f5",renderer:"area"},{name:m.T("Total"),color:"#a4d56f",renderer:"stack"},{name:m.T("Discarded"),color:"#c9c9c9",renderer:"stack"},{name:m.T("Blocked"),color:"#e2e2e2",renderer:"stack"},{name:m.T("Too Big"),color:"#ccc",renderer:"stack"},{name:m.T("Limit"),color:"#a94442",renderer:"dotted_line"}]},features:{hover:{render:function(e){var t=moment.utc(e.domainX,"X"),n=m.T("DateTimeFormat"),r=m.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+"<br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return o.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),n.createFeatureUsage(g._source+".chart.range.onSelection").setProperty("start",t).setProperty("end",e).submit(),r.go("app.project-frequent",{projectId:g.project.id}),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},g.config=[],g.copied=x,g.common_methods=null,g.data_exclusions=null,g.disable=_,g.enable=S,g.get=C,g.getOrganization=E,g.getTokens=T,g.getWebHooks=O,g.getSlackNotificationSettings=A,g.hasMonthlyUsage=!0,g.hasPremiumFeatures=!1,g.exclude_private_information=!1,g.next_billing_date=moment.utc().startOf("month").add(1,"months").toDate(),g.organization={},g.project={},g.projectForm={},g.remainingEventLimit=3e3,g.removeConfig=F,g.removeProject=z,g.removeSlack=L,g.removeToken=R,g.removeWebHook=U,g.resetData=q,g.save=H,g.saveApiKeyNote=V,g.saveClientConfiguration=Y,g.saveCommonMethods=B,g.saveDataExclusion=W,g.saveDeleteBotDataEnabled=G,g.saveIncludePrivateInformation=K,g.saveSlackNotificationSettings=N,g.saveUserAgents=X,g.saveUserNamespaces=J,g.showChangePlanDialog=Z,g.slackNotificationSettings=null,g.tokens=[],g.tokensCurrentOptions={},g.tokensNext=null,g.tokensNextPage=P,g.tokensPrevious=null,g.tokensPreviousPage=D,g.user_agents=null,g.user_namespaces=null,g.validateApiKeyNote=Q,g.validateClientConfiguration=ee,g.webHooks=[],g.webHooksCurrentOptions={},g.webHooksNext=null,g.webHooksNextPage=I,g.webHooksPrevious=null,g.webHooksPreviousPage=j,C()}}])}(),function(){"use strict";angular.module("app.project").controller("project.Configure",["$rootScope","$state","$stateParams","BASE_URL","EXCEPTIONLESS_SERVER_URL","notificationService","projectService","tokenService","translateService",function(e,t,n,r,a,i,o,s,l){var c=this;function u(e){return c._canRedirect&&!!e&&e.project_id===c._projectId}function d(){i.success(l.T("Copied!"))}function p(){var e=$("input.api-key");e.tooltip({placement:"bottom",title:/iPhone|iPad/i.test(navigator.userAgent)?l.T("Copy not supported."):/Mac/i.test(navigator.userAgent)?l.T("Press -C to copy."):l.T("Press Ctrl-C to copy.")}),e.select()}function f(){return s.getProjectDefault(c._projectId).then(function(e){return c.apiKey=e.data.id,c.apiKey},function(){i.error(l.T("An error occurred while getting the API key for your project."))})}function h(){return o.getById(c._projectId,!0).then(function(e){return c.project=e.data.plain(),c.projectName=c.project.name?'"'+c.project.name+'"':"",c.project},function(){t.go("app.frequent"),i.error(l.T("Cannot_Find_Project",{projectId:c._projectId}))})}function m(){return"Command Line"===c.currentProjectType.platform}function g(){return".NET"===c.currentProjectType.platform}function v(){return"JavaScript"===c.currentProjectType.platform}function b(){return"Exceptionless.Node"===c.currentProjectType.key}function y(){return"Bash Shell"===c.currentProjectType.key}function w(){t.go("app.project-frequent",{projectId:c._projectId})}this.$onInit=function(){c._projectId=n.id,c._canRedirect="true"===n.redirect,c.apiKey=null,c.canRedirect=u,c.copied=d,c.currentProjectType={},c.isBashShell=y,c.isCommandLine=m,c.isDotNet=g,c.isJavaScript=v,c.isNode=b,c.navigateToDashboard=w,c.onCopyError=p,c.project={},c.projectTypes=[{key:"Bash Shell",name:"Bash Shell",platform:"Command Line"},{key:"PowerShell",name:"PowerShell",platform:"Command Line"},{key:"Exceptionless",name:l.T("Console and Service applications"),platform:".NET"},{key:"Exceptionless.AspNetCore",name:"ASP.NET Core",platform:".NET"},{key:"Exceptionless.Mvc",name:"ASP.NET MVC",config:"web.config",platform:".NET"},{key:"Exceptionless.WebApi",name:"ASP.NET Web API",config:"web.config",platform:".NET"},{key:"Exceptionless.Web",name:"ASP.NET Web Forms",config:"web.config",platform:".NET"},{key:"Exceptionless.Windows",name:"Windows Forms",config:"app.config",platform:".NET"},{key:"Exceptionless.Wpf",name:"Windows Presentation Foundation (WPF)",config:"app.config",platform:".NET"},{key:"Exceptionless.Nancy",name:"Nancy",config:"app.config",platform:".NET"},{key:"Exceptionless.JavaScript",name:l.T("Browser applications"),platform:"JavaScript"},{key:"Exceptionless.Node",name:"Node.js",platform:"JavaScript"}],c.serverUrl=a||r,f().then(h)}}])}(),function(){"use strict";angular.module("app.project").controller("project.List",["projectService",function(e){var t=this;t.projects={get:e.getAll,options:{filter:"",limit:10,mode:"stats"}},t.setSearchFilter=function(e){t.projects.options.filter=e||""}}])}(),function(){"use strict";angular.module("app.reports",["ngMessages","ui.bootstrap","ui.router","dialogs.main","exceptionless","exceptionless.autofocus","exceptionless.billing","exceptionless.dialog","exceptionless.organization-notifications","exceptionless.notification","exceptionless.refresh","exceptionless.stack","exceptionless.stacks","exceptionless.validators"]).config(["$stateProvider",function(e){e.state("app.reports",{abstract:!0,url:"/reports",template:'<ui-view autoscroll="true" />'});var t=["filterService",function(e){e.setStatus(null,!0)}],n={controller:"reports.status",controllerAs:"vm",templateUrl:"app/reports/status.tpl.html",title:"Status"};function r(e,t,n,r){e.setOrganizationId(t,!0),e.setProjectId(n,!0),e.setStatus(r,!0)}e.state("app.reports.organization-status",angular.extend({},{url:"/organization/{organizationId:[0-9a-fA-F]{24}}/status/:status",onEnter:["$stateParams","filterService",function(e,t){r(t,e.organizationId,null,e.status)}],onExit:t},n)),e.state("app.reports.project-status",angular.extend({},{url:"/project/{projectId:[0-9a-fA-F]{24}}/status/:status",onEnter:["$stateParams","filterService",function(e,t){r(t,null,e.projectId,e.status)}],onExit:t},n)),e.state("app.reports.status",angular.extend({},{url:"/status/:status",onEnter:["$stateParams","filterService",function(e,t){r(t,null,null,e.status)}],onExit:t},n))}])}(),function(){"use strict";angular.module("app.reports").controller("reports.status",["$stateParams","stackService",function(e,t){var n=this;this.$onInit=function(){n.status=e.status,n.icon=function(e){switch(e){case"regressed":return"fa-bug";case"fixed":return"fa-wrench";case"snoozed":return"fa-clock-o";case"ignored":return"fa-trash-o";case"discarded":return"fa-ban";default:return"fa-bug"}}(n.status),n.stacks={get:t.getAll,options:{limit:20,mode:"summary"},source:"app.Reports.Status"}}}])}(),function(){"use strict";angular.module("app.session",["angular-filters","angular-rickshaw","ui.router","exceptionless","exceptionless.duration","exceptionless.events","exceptionless.filter","exceptionless.link","exceptionless.notification","exceptionless.pagination","exceptionless.refresh","exceptionless.organization","exceptionless.organization-notifications","exceptionless.project","exceptionless.summary","exceptionless.timeago","exceptionless.users"]).config(["$stateProvider",function(e){var t=["filterService",function(e){e.setOrganizationId(null,!0),e.setProjectId(null,!0),e.setEventType("session",!0)}],n=["filterService",function(e){e.setEventType(null,!0)}],r="Session Events";e.state("app.session",{abstract:!0,url:"/session",template:'<ui-view autoscroll="true" />'}),e.state("app.session.events",{title:r,url:"/events",controller:"session.Events",controllerAs:"vm",templateUrl:"app/session/events.tpl.html",onEnter:t,onExit:n}),e.state("app.session-events",{title:r,url:"/session/events",controller:"session.Events",controllerAs:"vm",templateUrl:"app/session/events.tpl.html",onEnter:t,onExit:n}),e.state("app.session-project-events",{title:r,url:"/project/{projectId:[0-9a-fA-F]{24}}/session/events",controller:"session.Events",controllerAs:"vm",templateUrl:"app/session/events.tpl.html",onEnter:["$stateParams","filterService",function(e,t){t.setProjectId(e.projectId,!0),t.setEventType("session",!0)}],onExit:n,resolve:{project:["$stateParams","projectService",function(e,t){return t.getById(e.projectId,!0)}]}}),e.state("app.session-organization-events",{title:r,url:"/organization/{organizationId:[0-9a-fA-F]{24}}/session/events",controller:"session.Events",controllerAs:"vm",templateUrl:"app/session/events.tpl.html",onEnter:["$stateParams","filterService",function(e,t){t.setOrganizationId(e.organizationId,!0),t.setEventType("session",!0)}],onExit:n,resolve:{project:["$stateParams","organizationService",function(e,t){return t.getById(e.organizationId,!0)}]}})}])}(),function(){"use strict";angular.module("app.session").controller("session.Events",["$ExceptionlessClient","eventService","$filter","filterService","translateService",function(n,a,i,r,o){var s=this;function e(){var e=r.getTimeOffset();return a.count("avg:value cardinality:user date:(date"+(e?"^"+e:"")+" cardinality:user)",!1,function(e){return s.includeLiveFilter&&(e.filter+=" _missing_:data.sessionend"),e}).then(function(e){function t(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].value||n}var n,r,e=e.data.plain(),e=(s.stats={total:i("number")(e.total,0),users:i("number")(t(e,"cardinality_user",0),0),avg_duration:t(e,"avg_value"),avg_per_hour:i("number")(a.calculateAveragePerHour(e.total,s._organizations),1)},n="date_date",r=[],(e=(e=e).aggregations)&&e[n]&&e[n].items||r);s.chart.options.series[0].data=e.map(function(e){return{x:moment(e.key).unix(),y:t(e,"cardinality_user",0),data:e}}),s.chart.options.series[1].data=e.map(function(e){return{x:moment(e.key).unix(),y:e.total||0,data:e}})}).catch(function(e){})}function t(){s.includeLiveFilter=!s.includeLiveFilter,r.fireFilterChanged(!1)}this.$onInit=function(){s._source="app.session.Events",s.chart={options:{padding:{top:.085},renderer:"stack",series:[{name:o.T("Users"),color:"rgba(60, 116, 0, .9)",stroke:"rgba(0, 0, 0, 0.15)"},{name:o.T("Sessions"),color:"rgba(124, 194, 49, .7)",stroke:"rgba(0, 0, 0, 0.15)"}],stroke:!0,unstack:!0},features:{hover:{render:function(e){var t=moment.unix(e.domainX),n=o.T("DateTimeFormat"),r=o.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+" <br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return r.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),n.createFeatureUsage(s._source+".chart.range.onSelection").setProperty("start",t).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},s.get=e,s.includeLiveFilter=!1,s.updateLiveFilter=t,s.recentSessions={get:function(e){return a.getAllSessions(e,function(e){return s.includeLiveFilter&&(e.filter+=" _missing_:data.sessionend"),e})},summary:{showStatus:!1,showType:!1},options:{limit:10,mode:"summary"},source:s._source+".Events",hideActions:!0},s.stats={total:0,users:0,avg_duration:void 0,avg_per_hour:0},e()}}])}(),function(){"use strict";angular.module("app.session").directive("sessions",["linkService",function(e){return{bindToController:!0,restrict:"E",replace:!0,scope:{settings:"="},templateUrl:"app/session/sessions-directive.tpl.html",controller:["$ExceptionlessClient","$window","$state","$stateParams","linkService","filterService","notificationService","paginationService",function(r,a,i,e,n,o,t,s){var l=this;function c(t){return t&&"PersistentEvent"===t.type?!!t.deleted&&(t.id&&l.events?0<l.events.filter(function(e){return e.id===t.id}).length:o.includedInProjectOrOrganizationFilter({organizationId:t.organization_id,projectId:t.project_id})):t&&"Stack"===t.type?o.includedInProjectOrOrganizationFilter({organizationId:t.organization_id,projectId:t.project_id}):t&&"Organization"===t.type||"Project"===t.type?o.includedInProjectOrOrganizationFilter({organizationId:t.id,projectId:t.id}):!t}function u(e){return l.loading=0===l.events.length,l.currentOptions=e||l.settings.options,l.settings.get(l.currentOptions).then(function(e){l.events=e.data.plain();var t=n.getLinksQueryParameters(e.headers("link"));return l.previous=t.previous,l.next=t.next,l.pageSummary=s.getCurrentPageSummary(e.data,l.currentOptions.page,l.currentOptions.limit),0===l.events.length&&l.currentOptions.page&&1<l.currentOptions.page?u():l.events}).finally(function(){l.loading=!1})}function d(e){return e.data.SessionEnd?e.data.Value||0:moment().diff(e.date,"seconds")}function p(e,t){var n=t.ctrlKey||t.metaKey||2===t.which;r.createFeatureUsage(l.source+".open").setProperty("id",e).setProperty("_blank",n).submit(),n?a.open(i.href("app.event",{id:e},{absolute:!0}),"_blank"):i.go("app.event",{id:e}),t.preventDefault()}function f(){return r.createFeatureUsage(l.source+".nextPage").setProperty("next",l.next).submit(),u(l.next)}function h(){return r.createFeatureUsage(l.source+".previousPage").setProperty("previous",l.previous).submit(),u(l.previous)}this.$onInit=function(){l.source=l.settings.source+".sessions",l.canRefresh=c,l.events=[],l.get=u,l.getDuration=d,l.hasFilter=o.hasFilter,l.loading=!0,l.open=p,l.nextPage=f,l.previousPage=h,l.showType=l.settings.summary?l.settings.summary.showType:!o.getEventType(),u()}}],controllerAs:"vm"}}])}(),function(){"use strict";angular.module("app.stack",["cfp.hotkeys","ngMessages","ui.bootstrap","ui.router","dialogs.main","exceptionless","exceptionless.autofocus","exceptionless.dialog","exceptionless.event","exceptionless.events","exceptionless.filter","exceptionless.log-level","exceptionless.organization","exceptionless.organization-notifications","exceptionless.promise-button","exceptionless.notification","exceptionless.rate-limit","exceptionless.refresh","exceptionless.stack","exceptionless.stack-dialog","exceptionless.stack-trace"]).config(["$stateProvider",function(e){e.state("app.stack",{title:"Stack",url:"/stack/{id:[0-9a-fA-F]{24}}",controller:"Stack",controllerAs:"vm",templateUrl:"app/stack/stack.tpl.html"}),e.state("app.stack-action",{title:"Stack",url:"/stack/{id:[0-9a-fA-F]{24}}/:action",controller:"Stack",controllerAs:"vm",templateUrl:"app/stack/stack.tpl.html"})}])}(),function(){"use strict";angular.module("app.stack").controller("Stack",["$scope","$ExceptionlessClient","$filter","hotkeys","$state","$stateParams","billingService","dialogs","dialogService","eventService","filterService","notificationService","organizationService","projectService","stackDialogService","stackService","translateService",function(n,r,i,a,t,o,s,e,l,c,u,d,p,f,h,m,g){var v=this;function b(){return r.submitFeatureUsage(v._source+".addReferenceLink"),e.create("app/stack/add-reference-dialog.tpl.html","AddReferenceDialog as vm").result.then(function(e){if(v.stack.references.indexOf(e)<0)return m.addLink(v._stackId,e).then(function(){r.createFeatureUsage(v._source+".addReferenceLink.success").setProperty("url",e).submit(),v.stack.references.push(e)},function(){r.createFeatureUsage(v._source+".addReferenceLink.error").setProperty("url",e).submit(),d.error(g.T("An error occurred while adding the reference link."))})}).catch(function(e){})}function y(e,t){return 0===t?0:i("percentage")(e/t*100,100)}function $(e,t){return i("number")(e,0)+" of "+i("number")(t,0)+" users"}function w(){var e=o.action;return"mark-fixed"===e&&"fixed"!==v.stack.status?M(!0):"ignored"!==e&&"stop-notifications"!==e||"ignored"===v.stack.status?"discarded"===e&&"discarded"!==v.stack.status?D():void 0:A()}function k(e){return!(!e||"Stack"!==e.type||e.id!==v._stackId)||!(!e||"PersistentEvent"!==e.type||e.organization_id&&e.organization_id!==v.stack.organization_id||e.project_id&&e.project_id!==v.stack.project_id||e.stack_id&&e.stack_id!==v._stackId)}function x(e){if(!e||"Stack"!==e.type||!e.deleted)return e&&"PersistentEvent"===e.type?E():m.getById(v._stackId).then(function(e){function t(e){r.createFeatureUsage(v._source+".hotkeys"+e).addTags("hotkeys").submit()}v.stack=e.data.plain(),v.stack.references=v.stack.references||[],a.del("shift+h"),a.del("shift+f"),a.del("shift+c"),a.del("shift+m"),a.del("shift+p"),a.del("shift+r"),a.del("shift+Fbackspace"),a.bindTo(n).add({combo:"shift+h",description:g.T("discarded"===v.stack.status?"Mark Stack Open":"Mark Stack Discarded"),callback:function(){t("Ignored"),v.updateIgnored()}}).add({combo:"shift+f",description:g.T("fixed"===v.stack.status?"Mark Stack Open":"Mark Stack Fixed"),callback:function(){t("Fixed"),v.updateIsFixed()}}).add({combo:"shift+c",description:g.T(v.stack.occurrences_are_critical?"Future Stack Occurrences are Not Critical":"Future Stack Occurrences are Critical"),callback:function(){t("Critical"),v.updateIsCritical()}}).add({combo:"shift+m",description:g.T(v.stack.disable_notifications?"Enable Stack Notifications":"Disable Stack Notifications"),callback:function(){t("Notifications"),v.updateNotifications()}}).add({combo:"shift+p",description:g.T("Promote Stack To External"),callback:function(){t("Promote"),v.promoteToExternal()}}).add({combo:"shift+r",description:g.T("Add Stack Reference Link"),callback:function(){t("Reference"),v.addReferenceLink()}}).add({combo:"shift+backspace",description:g.T("Delete Stack"),callback:function(){t("Delete"),v.remove()}})},function(e){t.go("app.frequent"),404===e.status?d.error(g.T("Cannot_Find_Stack",{stackId:v._stackId})):d.error(g.T("Error_Load_Stack",{stackId:v._stackId}))}).then(E).then(_);t.go("app.frequent"),d.error(g.T("Stack_Deleted",{stackId:v._stackId}))}function S(){return p.getAll().then(function(e){return v._organizations=e.data.plain(),v._organizations})}function _(){return f.getById(v.stack.project_id,!0).then(function(e){return v.project=e.data.plain(),v.project})}function C(){return c.count("cardinality:user",!1,function(e){return e.filter="project:"+v.stack.project_id,e}).then(function(e){var t,n,r;return v._total_users=(t=e.data,n="cardinality_user",r=0,(t=t.aggregations)&&t[n]&&t[n].value||r),v.stats.users=y(v._users,v._total_users),v.stats.usersTitle=$(v._users,v._total_users),e})}function E(){return S().then(j)}function j(){var e=u.getTimeOffset();return c.count("date:(date"+(e?"^"+e:"")+" cardinality:user "+v.chartOptions.filter(function(e){return e.selected}).reduce(function(e,t){return e.push(t.field),e},[]).join(" ")+") min:date max:date cardinality:user sum:count~1",!1,function(e){return e.filter=["stack:"+v._stackId,e.filter].filter(function(e){return e&&0<e.length}).join(" "),e}).then(function(e){function i(e,t,n){e=e.aggregations;return e&&e[t]&&e[t].value||n}var t,n,r=e.data.plain(),o=(v._users=i(r,"cardinality_user",0),v.stats={events:i(r,"sum_count",0),users:y(v._users,v._total_users),usersTitle:$(v._users,v._total_users),first_occurrence:i(r,"min_date"),last_occurrence:i(r,"max_date")},t="date_date",n=[],(r=(r=r).aggregations)&&r[t]&&r[t].items||n),a=["rgba(124, 194, 49, .7)","rgba(60, 116, 0, .9)","rgba(89, 89, 89, .3)"];return v.chart.options.series=v.chartOptions.filter(function(e){return e.selected}).reduce(function(e,a,t){return e.push({name:a.name,stroke:"rgba(0, 0, 0, 0.15)",data:o.map(function(e){return{x:moment(e.key).unix(),y:(t=e,n=a.field.replace(":","_"),r=n.indexOf("~"),i(t,n=-1!==r?n.substring(0,r):n,0)),data:e};var t,n,r})}),e},[]).sort(function(e,t){function n(e,t){return e+t.y}return t.data.reduce(n,0)-e.data.reduce(n,0)}).map(function(e,t){return e.color=a[t],e}),e}).then(C)}function F(){return 0<v.chartOptions.filter(function(e){return e.render&&e.selected}).length}function z(e){var t=moment(e);return!!e&&t.isValid()&&1<t.year()}function T(){var e;return r.createFeatureUsage(v._source+".promoteToExternal").setProperty("id",v._stackId).submit(),v.project&&!v.project.has_premium_features?(e=g.T("Promote to External is a premium feature used to promote an error stack to an external system. Please upgrade your plan to enable this feature."),s.confirmUpgradePlan(e,v.stack.organization_id).then(T).catch(function(e){})):m.promote(v._stackId).then(function(){r.createFeatureUsage(v._source+".promoteToExternal.success").setProperty("id",v._stackId).submit(),d.success(g.T("Successfully promoted stack!"))},function(e){return r.createFeatureUsage(v._source+".promoteToExternal.error").setProperty("id",v._stackId).setProperty("response",e).submit(),426===e.status?s.confirmUpgradePlan(e.data.message,v.stack.organization_id).then(T).catch(function(e){}):501===e.status?l.confirm(e.data.message,g.T("Manage Integrations")).then(function(){t.go("app.project.manage",{id:v.stack.project_id})}).catch(function(e){}):void d.error(g.T("An error occurred while promoting this stack."))})}function L(e){return r.createFeatureUsage(v._source+".removeReferenceLink").setProperty("id",v._stackId).submit(),l.confirmDanger(g.T("Are you sure you want to delete this reference link?"),g.T("DELETE REFERENCE LINK")).then(function(){return m.removeLink(v._stackId,e).then(function(){r.createFeatureUsage(v._source+".removeReferenceLink.success").setProperty("id",v._stackId).submit()},function(e){r.createFeatureUsage(v._source+".removeReferenceLink.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.info(g.T("An error occurred while deleting the external reference link."))})}).catch(function(e){})}function R(){r.createFeatureUsage(v._source+".remove").setProperty("id",v._stackId).submit();var e=g.T("Are you sure you want to delete this stack (includes all stack events)?");return l.confirmDanger(e,g.T("DELETE STACK")).then(function(){return m.remove(v._stackId).then(function(){d.info(g.T("Successfully queued the stack for deletion.")),r.createFeatureUsage(v._source+".remove.success").setProperty("id",v._stackId).submit(),t.go("app.project-frequent",{projectId:v.stack.project_id})},function(e){r.createFeatureUsage(v._source+".remove.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.error(g.T("An error occurred while deleting this stack."))})}).catch(function(e){})}function P(){if(r.createFeatureUsage(v._source+".updateOpen").setProperty("id",v._stackId).submit(),"open"!==v.stack.status)return m.changeStatus(v._stackId,"open").then(function(){r.createFeatureUsage(v._source+".updateOpen.success").setProperty("id",v._stackId).submit()},function(e){r.createFeatureUsage(v._source+".updateOpen.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.error(g.T("An error occurred while marking this stack as open."))})}function U(){function e(){r.createFeatureUsage(v._source+".updateCritical.success").setProperty("id",v._stackId).submit()}function t(e){r.createFeatureUsage(v._source+".updateCritical.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.error(g.T(v.stack.occurrences_are_critical?"An error occurred while marking future occurrences as not critical.":"An error occurred while marking future occurrences as critical."))}return r.createFeatureUsage(v._source+".updateCritical").setProperty("id",v._stackId).submit(),v.stack.occurrences_are_critical?m.markNotCritical(v._stackId).then(e,t):m.markCritical(v._stackId).catch(e,t)}function D(){if("discarded"===v.stack.status)return P();function e(){r.createFeatureUsage(v._source+".updateDiscard.success").setProperty("id",v._stackId).submit()}function t(e){r.createFeatureUsage(v._source+".updateDiscard.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.error(g.T("An error occurred while marking this stack as discarded."))}r.createFeatureUsage(v._source+".updateDiscard").setProperty("id",v._stackId).submit();var n=g.T("Are you sure you want to all current stack events and discard any future stack events?")+" "+g.T("All future occurrences will be discarded and will not count against your event limit.");return l.confirmDanger(n,g.T("Discard")).then(function(){return m.changeStatus(v._stackId,"discarded").then(e,t)}).catch(function(e){})}function M(e){return"fixed"===v.stack.status?P():(r.createFeatureUsage(v._source+".updateFixed").setProperty("id",v._stackId).submit(),h.markFixed().then(function(e){return m.markFixed(v._stackId,e).then(t,n).catch(function(e){})}).catch(function(e){}));function t(){r.createFeatureUsage(v._source+".updateFixed.success").setProperty("id",v._stackId).submit(),e&&d.info(g.T("Successfully marked the stack as fixed."))}function n(e){r.createFeatureUsage(v._source+".updateFixed.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.error(g.T("An error occurred while marking this stack as fixed."))}}function q(e){if(!e&&"snoozed"===v.stack.status)return P();r.createFeatureUsage(v._source+".updateSnooze").setProperty("id",v._stackId).submit();var t=moment();switch(e){case"6hours":t=t.add(6,"hours");break;case"day":t=t.add(1,"days");break;case"week":t=t.add(1,"weeks");break;default:t=t.add(1,"months")}return m.markSnoozed(v._stackId,t.format("YYYY-MM-DDTHH:mm:ssz")).then(function(){r.createFeatureUsage(v._source+".updateSnooze.success").setProperty("id",v._stackId).submit()},function(e){r.createFeatureUsage(v._source+".updateSnooze.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.error(g.T("snoozed"===v.stack.status?"An error occurred while marking this stack as open.":"An error occurred while marking this stack as snoozed."))})}function A(){r.createFeatureUsage(v._source+".updateIgnore").setProperty("id",v._stackId).submit();var e="ignored"===v.stack.status;return m.changeStatus(v._stackId,e?"open":"ignored").then(function(){r.createFeatureUsage(v._source+".updateIgnore.success").setProperty("id",v._stackId).submit()},function(e){r.createFeatureUsage(v._source+".updateIgnore.error").setProperty("id",v._stackId).setProperty("response",e).submit(),d.error(g.T("snoozed"===v.stack.status?"An error occurred while marking this stack as open.":"An error occurred while marking this stack as ignored."))})}function H(){return v.stack.occurrences_are_critical}function O(){return v.stats.events!==v.stack.total_occurrences}function I(){return!moment(v.stats.first_occurrence).isSame(moment(v.stack.first_occurrence))}function N(){return I()||!moment(v.stats.last_occurrence).isSame(moment(v.stack.last_occurrence))}function V(){return v.stack.first_occurrence&&O()||I()||N()}this.$onInit=function(){v._organizations=[],v._source="app.stack.Stack",v._stackId=o.id,v.addReferenceLink=b,v.chart={options:{padding:{top:.085},renderer:"stack",stroke:!0,unstack:!0},features:{hover:{render:function(e){var t=moment.unix(e.domainX),n=g.T("DateTimeFormat"),r=g.T("DateFormat"),a='<div class="date">'+(0===t.hours()&&0===t.minutes()?t.format(r||"ddd, MMM D, YYYY"):t.format(n||"ddd, MMM D, YYYY h:mma"))+"</div>",r=(e.detail.sort(function(e,t){return e.order-t.order}).forEach(function(e){var t='<span class="detail-swatch" style="background-color: '+e.series.color.replace("0.5","1")+'"></span>';a+=t+i("number")(e.formattedYValue)+" "+e.series.name+"<br />"},this),document.createElement("div")),t=(r.className="x_label",r.innerHTML=a,this.element.appendChild(r),this._calcLayoutError([r]));0<t&&(r.classList.remove("left"),r.classList.add("right"),t<this._calcLayoutError([r]))&&(r.classList.remove("right"),r.classList.add("left")),this.show()}},range:{onSelection:function(e){var t=moment.unix(e.coordMinX).utc().local(),e=moment.unix(e.coordMaxX).utc().local();return u.setTime(t.format("YYYY-MM-DDTHH:mm:ss")+"-"+e.format("YYYY-MM-DDTHH:mm:ss")),r.createFeatureUsage(v._source+".chart.range.onSelection").setProperty("id",v._stackId).setProperty("start",t).setProperty("end",e).submit(),!1}},xAxis:{timeFixture:new Rickshaw.Fixtures.Time.Local,overrideTimeFixtureCustomFormatters:!0},yAxis:{ticks:5,tickFormat:"formatKMBT",ticksTreatment:"glow"}}},v.chartOptions=[{name:g.T("Occurrences"),field:"sum:count~1",title:"",selected:!0,render:!1},{name:g.T("Average Value"),field:"avg:value",title:g.T("The average of all event values"),render:!0,menuName:g.T("Show Average Value")},{name:g.T("Value Sum"),field:"sum:value",title:g.T("The sum of all event values"),render:!0,menuName:g.T("Show Value Sum")}],v.canRefresh=k,v.get=x,v.updateStats=E,v.hasSelectedChartOption=F,v.isValidDate=z,v.promoteToExternal=T,v.project={},v.remove=R,v.removeReferenceLink=L,v.recentOccurrences={canRefresh:function(e,t){return"PersistentEvent"===t.type?!!t.deleted&&(t.id&&e?0<e.filter(function(e){return e.id===t.id}).length:t.stack_id===v._stackId||(t.project_id?v.stack.project_id===t.project_id:v.stack.organization_id===t.organization_id)):"Stack"===t.type?t.id===v._stackId:"Project"===t.type?v.stack.project_id===t.id:"Organization"===t.type&&v.stack.organization_id===t.id},get:function(e){return c.getByStackId(v._stackId,e)},summary:{showStatus:!1,showType:!1},options:{limit:10,mode:"summary"},source:v._source+".Events"},v.showActionIcons=H,v.showAllTimeEvents=O,v.showAllTimeFirstOccurrence=I,v.showAllTimeLastOccurrence=N,v.showAllTimeRow=V,v.stack={},v.stats={events:0,users:0,usersTitle:$(0,0),first_occurrence:void 0,last_occurrence:void 0},v._users=0,v._total_users=0,v.updateOpen=P,v.updateCritical=U,v.updateDiscard=D,v.updateFixed=M,v.updateSnooze=q,v.updateIgnore=A,x().then(w)}}])}(),function(){"use strict";angular.module("app.stack").controller("AddReferenceDialog",["$ExceptionlessClient","$uibModalInstance",function(t,n){var r=this;function e(){t.submitFeatureUsage(r._source+".cancel"),n.dismiss("cancel")}function a(e){e&&(t.createFeatureUsage(r._source+".save").setProperty("url",r.data.url).submit(),n.close(r.data.url))}this.$onInit=function(){r._source="app.stack.AddReferenceDialog",r.cancel=e,r.save=a,t.submitFeatureUsage(r._source)}}])}(),function(){"use strict";angular.module("app.status",["ui.router","exceptionless.auth","exceptionless.state","exceptionless.status"]).config(["$stateProvider",function(e){e.state("status",{title:"Status",url:"/status?redirect",controller:"Status",controllerAs:"vm",templateUrl:"app/status/status.tpl.html"})}])}(),function(){"use strict";angular.module("app.status").controller("Status",["$interval","$scope","$state","$stateParams","authService","stateService","statusService","translateService","Restangular",function(t,n,r,a,i,o,e,s,l){var c=this,u=s.T("Please contact support for more information.");function d(){var e=s.T("We're sorry but the website is currently undergoing maintenance.");return c._redirect?e+" "+s.T("You'll be automatically redirected when the maintenance is completed.")+" "+u:c._message||e+" "+u}function p(){function t(e){e&&e.data&&e.data.message?(c._message=e.data.message,200!==e.status&&(c._message+=" "+u)):c._message=""}return e.get().then(function(e){return c._redirect&&30<moment().diff(c._lastChecked,"seconds")?i.isAuthenticated()?o.restore():r.go("auth.login"):t(e)},t)}this.$onInit=function(){c._lastChecked=moment(),c._message=null,c._redirect=!!a.redirect;var e=t(p,3e4);n.$on("$destroy",function(){t.cancel(e)}),c.getMessage=d,p()}}])}(),angular.module("app").run(["$templateCache",function(e){"use strict";e.put("app/account/manage.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col" refresh-on="UserChanged ProjectChanged" refresh-action="vm.get(data)" refresh-debounce="1000"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-user"></i> {{::\'My Account\' | translate}}</div> <div class="panel-body m-b-n"> <uib-tabset class="tab-container" active="vm.activeTabIndex"> <uib-tab heading="{{::\'General\' | translate}}"> <form name="fullNameForm" role="form" class="form-validation" autocomplete="on"> <div class="form-group"> <img gravatar-src="vm.user.email_address" gravatar-size="100" alt="{{vm.user.full_name}}" class="img-thumbnail"> <div> <small ng-bind-html="\'NOTICE_GRAVATAR\' | translate"> </small> </div> </div> <div class="form-group"> <label for="name">{{::\'Full Name\' | translate}}</label> <input id="name" name="name" type="text" class="form-control" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck="false" placeholder="{{::\'Your first and last name\' | translate}}" ng-model="vm.user.full_name" ng-model-options="{ debounce: 500 }" ng-change="vm.saveUser(fullNameForm.$valid)" ng-required="true"> <div class="error" ng-messages="fullNameForm.name.$error" ng-if="fullNameForm.$submitted || fullNameForm.name.$touched"> <small ng-message="required">{{::\'Full Name is required.\' | translate}}</small> </div> </div> </form> <form name="vm.emailAddressForm" role="form" class="form-validation" autocomplete="on"> <div class="form-group"> <label for="email">{{::\'Email Address\' | translate}}</label> <div ng-class="{\'input-group\': !!vm.emailAddressForm.$pending }"> <input id="email" name="email" type="email" class="form-control" x-autocompletetype="email" autocorrect="off" spellcheck="false" placeholder="{{::\'Email Address\' | translate}}" ng-model="vm.user.email_address" ng-model-options="{ debounce: 1000 }" ng-change="vm.saveEmailAddress()" email-address-available-validator required> <span class="input-group-addon" ng-if="vm.emailAddressForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.emailAddressForm.email.$error" ng-if="vm.emailAddressForm.$submitted || vm.emailAddressForm.email.$touched"> <small ng-message="required">{{::\'Email Address is required.\' | translate}}</small> <small ng-message="email">{{::\'Email Address is required.\' | translate}}</small> <small ng-message="unique">{{::\'A user already exists with this email address.\' | translate}}</small> </div> <p ng-if="!vm.user.is_email_address_verified" class="help-block"> {{::\'Email not verified.\' | translate}} <a ng-click="vm.resendVerificationEmail()">{{::\'Resend\' | translate}}</a> {{::\'verification email.\' | translate}} </p> </div> </form> </uib-tab> <uib-tab heading="{{::\'Notifications\' | translate}}"> <form role="form" class="form-validation"> <div class="alert in fade alert-danger" ng-if="!vm.user.is_email_address_verified || !vm.user.email_notifications_enabled"> {{::\'Email notifications are currently disabled.\' | translate}} <span ng-if="!vm.user.is_email_address_verified">{{::\'To enable email notifications you must first verify your email address.\' | translate}} <a ng-click="vm.resendVerificationEmail()">{{::\'Resend\' | translate}}</a> {{::\'verification email.\' | translate}}</span> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.user.email_notifications_enabled" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEnableEmailNotification()"> <i></i> {{::\'Enable email notifications\' | translate}} </label> </div> <div ng-if="vm.projects.length > 0"> <hr> <p> {{::\'Choose how often you want to receive notifications for event occurrences in this project.\' | translate}} </p> <select class="form-control" ng-model="vm.currentProject" ng-change="vm.getEmailNotificationSettings()" ng-disabled="!(vm.user.email_notifications_enabled && vm.emailNotificationSettings)" ng-options="project.name group by project.organization_name for project in vm.projects | orderBy: \'name\' track by project.id"></select> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.send_daily_summary" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!(vm.user.email_notifications_enabled && vm.emailNotificationSettings)"> <i></i> {{::\'Send daily project summary\' | translate}} </label> </div> <hr ng-if="!vm.hasPremiumFeatures"> <div class="alert in fade alert-success" ng-if="!vm.hasPremiumFeatures"> <a ng-click="vm.showChangePlanDialog()">{{::\'Upgrade now\' | translate}}</a> {{::\'to enable occurrence level notifications!\' | translate}} </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_new_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> {{::\'Notify me on new errors\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_critical_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> {{::\'Notify me on critical errors\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_event_regressions" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> {{::\'Notify me on error regressions\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_new_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> {{::\'Notify me on new events\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.emailNotificationSettings.report_critical_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveEmailNotificationSettings()" ng-disabled="!vm.hasPremiumEmailNotifications()"> <i></i> {{::\'Notify me on critical events\' | translate}} </label> </div> </div> </form> </uib-tab> <uib-tab heading="{{::\'Password\' | translate}}"> <form name="vm.passwordForm" role="form" class="form-validation"> <div class="form-group" ng-if="vm.hasLocalAccount"> <label for="current">{{::"Current Password" | translate}}</label> <input id="current" name="current" type="password" class="form-control" ng-model="vm.password.current_password" required> <div class="error" ng-messages="vm.passwordForm.current.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.current.$touched"> <small ng-message="required">{{::"Current Password is required." | translate}}</small> </div> </div> <div class="form-group"> <label for="newPassword">{{::\'New Password\' | translate}}</label> <input id="newPassword" name="newPassword" type="password" class="form-control" ng-model="vm.password.password" ng-minlength="6" ng-maxlength="100" required> <div class="error" ng-messages="vm.passwordForm.newPassword.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.newPassword.$touched"> <small ng-message="required">{{::\'New Password is required.\' | translate}}</small> <small ng-message="minlength">{{::\'New Password must be at least 6 characters long.\' | translate}}</small> <small ng-message="maxlength">{{::\'New Password must be less than 101 characters long.\' | translate}}</small> </div> </div> <div class="form-group"> <label for="confirmPassword">{{::\'Confirm password\' | translate}}</label> <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" ng-model="vm.password.confirm_password" match="vm.password.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.passwordForm.confirmPassword.$error" ng-if="vm.passwordForm.$submitted || vm.passwordForm.confirmPassword.$touched"> <small ng-message="match">{{::\'New Password and Confirmation Password fields do not match.\' | translate}}</small> <small ng-message="required">{{::\'Confirm Password is required.\' | translate}}</small> <small ng-message="minlength">{{::\'Confirm Password must be at least 6 characters long.\' | translate}}</small> <small ng-message="maxlength">{{::\'Confirm Password must be less than 101 characters long.\' | translate}}</small> </div> </div> <button type="submit" role="button" class="btn btn-primary" promise-button="vm.changePassword(vm.passwordForm.$valid)" promise-button-busy-text="{{vm.hasLocalAccount ? \'Changing Password\' : \'Setting Password\' | translate}}"> {{vm.hasLocalAccount ? \'Change Password\' : \'Set Password\' | translate}} </button> </form> </uib-tab> <uib-tab heading="{{::\'External Logins\' | translate}}" ng-if="vm.isExternalLoginEnabled()"> <h4>{{::\'Add an external login\' | translate}}</h4> <div> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="{{::\'Log in using your Microsoft account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="{{::\'Log in using your Google account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="{{::\'Log in using your Facebook account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="{{::\'Log in using your GitHub account\' | translate}}"></button> </div> <h4>{{::\'Existing external logins\' | translate}}</h4> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>{{::\'Name\' | translate}}</th> <th class="action">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="account in vm.user.o_auth_accounts" ng-if="vm.user.o_auth_accounts.length > 0"> <td> {{::account.provider}} ({{::account.username || account.provider_user_id}}) </td> <td> <button type="button" role="button" class="btn btn-sm" title="{{::\'Remove\' | translate}}" ng-disabled="!(vm.hasLocalAccount || vm.user.o_auth_accounts.length > 1)" ng-click="vm.unlink(account)"> <i class="fa fa-times"></i> </button> </td> </tr> <tr ng-if="vm.user.o_auth_accounts.length === 0"> <td colspan="2"> <strong>{{::\'No external logins were found.\' | translate}}</strong> </td> </tr> </tbody> </table> </div> </uib-tab> </uib-tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <div ng-if="!vm.currentProject.id"> <a ui-sref="app.frequent" class="btn btn-default" role="button">{{::\'Go To Most Frequent\' | translate}}</a> </div> <div ng-if="vm.currentProject.id"> <a ui-sref="app.project-frequent({ projectId: vm.currentProject.id })" class="btn btn-default" role="button">{{::\'Go To Most Frequent\' | translate}}</a> </div> </div> <div> <a ng-click="vm.deleteAccount()" class="btn btn-danger" role="button">{{::\'DELETE ACCOUNT\' | translate}}</a> </div> <div class="clearfix"></div> </footer> </div> </div> </div> </div> '),e.put("app/admin/dashboard.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged" refresh-action="vm.get()" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i> {{::\'Dashboard\' | translate}}</div> <div class="panel-body"> <p>This dashboard has yet to be finished. It will contain a system level overview.</p> </div> </div> </div> </div> </div> '),e.put("app/app.tpl.html",'<div class="app-header-fixed app-aside-fixed" ng-class="{\'app-aside-folded\': !!appVm.isSideNavCollapsed}"> <nav ng-include="\'app/blocks/header.tpl.html\'" class="app-header navbar navbar-default bg-black"></nav> <div ng-include="\'app/blocks/sidebar.tpl.html\'" class="app-aside hidden-xs bg-dark"></div> <div class="app-content" refresh-on="UserChanged" refresh-action="appVm.getUser(data)" refresh-debounce="1000"> <div refresh-on="OrganizationChanged" refresh-action="appVm.getOrganizations()" refresh-debounce="5000"></div> <button type="button" role="button" class="off-screen-toggle hide" ui-toggle-class="off-screen" data-target=".app-aside"></button> <system-notification></system-notification> <release-notification></release-notification> <rate-limit></rate-limit> <div class="app-content-body fade-in" ui-view autoscroll="true"></div> </div> <div class="app-footer wrapper b-t bg-light"> <span class="pull-right"> <a href="https://github.com/exceptionless/Exceptionless/releases" target="_blank" title="Version">{{appVm.apiVersionNumber}}</a>&nbsp; <a href="javascript:void(0);" ui-scroll="app" class="m-l-sm text-muted"><i class="fa fa-long-arrow-up"></i></a> </span> <span class="visible-xs"> &copy; 2023 <a href="https://exceptionless.com" target="_blank">Exceptionless</a> <a href="https://exceptionless.com/privacy/" target="_blank" class="m-l-xs text-muted" title="Privacy Policy">Privacy</a> <a href="https://exceptionless.com/terms/" target="_blank" class="m-l-xs text-muted" title="Terms of Use">Terms</a> </span> <span class="hidden-xs"> &copy; 2023 <a href="https://exceptionless.com" target="_blank">Exceptionless</a> <a href="https://exceptionless.com/news/" target="_blank" class="m-l-sm text-muted">News</a> <a href="https://exceptionless.com/privacy/" target="_blank" class="m-l-sm text-muted">Privacy Policy</a> <a href="https://exceptionless.com/terms/" target="_blank" class="m-l-sm text-muted">Terms of Use</a> </span> </div> <intercom ng-if="appVm.isIntercomEnabled()"></intercom> </div> '),e.put("app/auth/forgot-password.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="https://exceptionless.com"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><strong>{{::\'Reset your password\' | translate}}</strong></div> <div class="panel-body"> <form name="forgotForm" role="form" class="form-validation form-horizontal" autocomplete="on"> <div class="form-group"> <label for="email" class="col-sm-2 control-label">{{::\'Email\' | translate}}</label> <div class="col-sm-10"> <input id="email" name="email" type="email" class="form-control" placeholder="{{::\'Email Address\' | translate}}" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.email" ng-required="true" autofocus> <div class="error" ng-messages="forgotForm.email.$error" ng-if="forgotForm.$submitted || forgotForm.email.$touched"> <small ng-message="required">{{::\'Email Address is required.\' | translate}}</small> <small ng-message="email">{{::\'Email Address is required.\' | translate}}</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.resetPassword(forgotForm.$valid)" value="{{::\'Forgot Password\' | translate}}"> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div> '),e.put("app/auth/login.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="https://exceptionless.com"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-body"> <form name="vm.loginForm" role="form" class="form-horizontal form-validation" autocomplete="on"> <div class="form-horizontal col-sm-offset-2"> <h4> {{::\'Log in\' | translate}} <span ng-if="vm.isExternalLoginEnabled()">{{::\'with\' | translate}}</span> </h4> <div class="form-group" style="margin-left: 0px" ng-if="vm.isExternalLoginEnabled()"> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="{{::\'Log in using your Microsoft account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="{{::\'Log in using your Google account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="{{::\'Log in using your Facebook account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="{{::\'Log in using your GitHub account\' | translate}}"></button> </div> <div class="form-group" ng-if="vm.isExternalLoginEnabled()"> <div class="col-sm-10 horizontal-divider"> <p>{{::\'OR\' | translate}}</p> <span></span> </div> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">{{::\'Email\' | translate}}</label> <div class="col-sm-10"> <input id="email" name="email" type="email" class="form-control" placeholder="{{::\'Email Address\' | translate}}" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.user.email" ng-required="true" autofocus> <div class="error" ng-messages="vm.loginForm.email.$error" ng-if="vm.loginForm.$submitted || vm.loginForm.email.$touched"> <small ng-message="required">{{::\'Email Address is required.\' | translate}}</small> <small ng-message="email">{{::\'Email Address is required.\' | translate}}</small> </div> </div> </div> <div class="form-group"> <label for="password" class="col-sm-2 control-label">{{::\'Password\' | translate}}</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" placeholder="{{::\'Password\' | translate}}" ng-model="vm.user.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.loginForm.password.$error" ng-if="vm.loginForm.$submitted || vm.loginForm.password.$touched"> <small ng-message="required">{{::\'Password is required\' | translate}}</small> <small ng-message="minlength">{{::\'Password must be at least 6 characters long\' | translate}}</small> <small ng-message="maxlength">{{::\'Password must be less than 101 characters long\' | translate}}</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" id="login" ng-click="vm.login(vm.loginForm.$valid)" class="btn btn-primary" value="{{::\'Log in\' | translate}}"> <a class="btn btn-default" role="button" ui-sref="auth.signup({ token: vm.token })" ng-show="vm.enableAccountCreation">{{::\'Signup\' | translate}}</a> <p> <a ui-sref="auth.forgot-password">{{::\'Forgot password?\' | translate}}</a> </p> </div> </div> </form> </div> </div> <div class="text-center" ng-bind-html="\'NOTICE_SIGNINGUP\' | translate"></div> </div> </div> </div> </div> </div> '),e.put("app/auth/reset-password.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="https://exceptionless.com"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><strong>{{::\'Change password\' | translate}}</strong></div> <div class="panel-body"> <form name="passwordForm" role="form" class="form-validation form-horizontal"> <div class="form-group"> <label for="password" class="col-sm-2 control-label">{{::\'New Password\' | translate}}</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" ng-model="vm.data.password" ng-minlength="6" ng-maxlength="100" ng-required="true" autofocus> <div class="error" ng-messages="passwordForm.password.$error" ng-if="passwordForm.$submitted || passwordForm.password.$touched"> <small ng-message="required">{{::\'New Password is required.\' | translate}}</small> <small ng-message="minlength">{{::\'New Password must be at least 6 characters long.\' | translate}}</small> <small ng-message="maxlength">{{::\'New Password must be less than 101 characters long.\' | translate}}</small> </div> </div> </div> <div class="form-group"> <label for="confirmPassword" class="col-sm-2 control-label">{{::\'Confirm password\' | translate}}</label> <div class="col-sm-10"> <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" ng-model="vm.data.confirm_password" match="vm.data.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="passwordForm.confirmPassword.$error" ng-if="passwordForm.$submitted || passwordForm.confirmPassword.$touched"> <small ng-message="match">{{::\'New Password and Confirmation Password fields do not match.\' | translate}}</small> <small ng-message="required">{{::\'Confirm Password is required.\' | translate}}</small> <small ng-message="minlength">{{::\'Confirm Password must be at least 6 characters long.\' | translate}}</small> <small ng-message="maxlength">{{::\'Confirm Password must be less than 101 characters long.\' | translate}}</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.changePassword(passwordForm.$valid)" value="{{::\'Change Password\' | translate}}"> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div> '),e.put("app/auth/signup.tpl.html",'<div> <rate-limit></rate-limit> <div class="container w-auto-xs"> <div class="text-center m-t"> <a href="https://exceptionless.com"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"> <strong>{{::\'Signup for a FREE account in seconds\' | translate}}</strong> </div> <div class="panel-body"> <form name="vm.signupForm" role="form" class="form-horizontal form-validation" autocomplete="on"> <div class="form-horizontal col-sm-offset-2"> <h4 ng-if="vm.isExternalLoginEnabled()">{{::\'Login with\' | translate}}</h4> <div class="form-group" style="margin-left: 0px" ng-if="vm.isExternalLoginEnabled()"> <button type="button" role="button" ng-click="vm.authenticate(\'live\')" ng-if="vm.isExternalLoginEnabled(\'live\')" class="btn btn-large image-button icon-login-microsoft" title="{{::\'Log in using your Microsoft account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'google\')" ng-if="vm.isExternalLoginEnabled(\'google\')" class="btn btn-large image-button icon-login-google" title="{{::\'Log in using your Google account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'facebook\')" ng-if="vm.isExternalLoginEnabled(\'facebook\')" class="btn btn-large image-button icon-login-facebook" title="{{::\'Log in using your Facebook account\' | translate}}"></button> <button type="button" role="button" ng-click="vm.authenticate(\'github\')" ng-if="vm.isExternalLoginEnabled(\'github\')" class="btn btn-large image-button icon-login-github" title="{{::\'Log in using your GitHub account\' | translate}}"></button> </div> <div class="form-group" ng-if="vm.isExternalLoginEnabled()"> <div class="col-sm-10 horizontal-divider"> <p>{{::\'OR\' | translate}}</p> <span></span> </div> </div> <h4>{{::\'Create an account\' | translate}}</h4> </div> <div class="form-group"> <label for="name" class="col-sm-2 control-label">{{::\'Name\' | translate}}</label> <div class="col-sm-10"> <input id="name" name="name" type="text" class="form-control" placeholder="{{::\'Your first and last name\' | translate}}" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck="false" ng-model="vm.user.name" ng-required="true" autofocus> <div class="error" ng-messages="vm.signupForm.name.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.name.$touched"> <small ng-message="required">{{::\'Full Name is required.\' | translate}}</small> </div> </div> </div> <div class="form-group"> <label for="email" class="col-sm-2 control-label">{{::\'Email\' | translate}}</label> <div class="col-sm-10"> <div ng-class="{\'input-group\': !!vm.signupForm.$pending }"> <input id="email" name="email" type="email" class="form-control" placeholder="{{::\'Email address (no spam)\' | translate}}" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.user.email" ng-model-options="{ debounce: 1000 }" email-address-available-validator ng-required="true"> <span class="input-group-addon" ng-if="vm.signupForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.signupForm.email.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.email.$touched"> <small ng-message="required">{{::\'Email Address is required.\' | translate}}</small> <small ng-message="email">{{::\'Email Address is required.\' | translate}}</small> <small ng-message="unique">{{::\'A user already exists with this email address.\' | translate}}</small> </div> </div> </div> <div class="form-group"> <label for="password" class="col-sm-2 control-label">{{::\'Password\' | translate}}</label> <div class="col-sm-10"> <input id="password" name="password" type="password" class="form-control" placeholder="{{::\'Password\' | translate}}" ng-model="vm.user.password" ng-minlength="6" ng-maxlength="100" ng-required="true"> <div class="error" ng-messages="vm.signupForm.password.$error" ng-if="vm.signupForm.$submitted || vm.signupForm.password.$touched"> <small ng-message="required">{{::\'Password is required\' | translate}}</small> <small ng-message="minlength">{{::\'Password must be at least 6 characters long\' | translate}}</small> <small ng-message="maxlength">{{::\'Password must be less than 101 characters long\' | translate}}</small> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <input type="submit" role="button" id="signup" ng-click="vm.signup()" class="btn btn-primary btn-lg" value="{{::\'Create My Account\' | translate}}"> <p> {{::\'Already have an account?\' | translate}} <a ui-sref="auth.login({ token: vm.token })">{{::\'Log In\' | translate}}</a> </p> </div> </div> </form> </div> </div> <div class="text-center" ng-bind-html="\'NOTICE_SIGNINGUP\' | translate"></div> </div> </div> </div> </div> </div> '),e.put("app/blocks/header.tpl.html",'<div class="bg-black primary-underline"> <div class="navbar-header"> <button type="button" role="button" class="pull-right visible-xs dk" ui-toggle-class="show" data-toggle="collapse" data-target=".navbar-collapse"> <i class="fa fa-fw fa-cog"></i> </button> <button type="button" role="button" class="pull-right visible-xs" ui-toggle-class="off-screen" data-target=".app-aside" ui-scroll="app"> <i class="fa fa-fw fa-align-justify"></i> </button> <a ng-href="{{appVm.urls.frequent.all}}" class="navbar-brand text-lt"> <img src="/touch-icon-ipad-114.png" alt="exceptionless" class="icon"> <img src="/img/exceptionless-logo.png" alt="exceptionless" class="hidden-folded"> </a> </div> <div class="collapse navbar-collapse no-shadow"> <div class="nav navbar-nav navbar-left hidden-xs"> <a class="btn no-shadow navbar-btn" role="button" ng-click="appVm.toggleSideNavCollapsed()"> <i class="fa {{appVm.isSideNavCollapsed ? \'fa-indent\' : \'fa-dedent\'}} fa-fw"></i> </a> </div> <ul class="nav navbar-nav navbar-left"> <project-filter></project-filter> <date-filter></date-filter> </ul> <ul class="nav navbar-nav navbar-right hidden-xs" auto-active> <li class="dropdown"> <a class="dropdown-toggle profile-image" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <img class="img-thumbnail" gravatar-src="appVm.user.email_address" gravatar-size="35" alt="{{appVm.user.full_name}}"> <span class="caret"></span> </a> <ul class="dropdown-menu"> <li> <a ui-sref="app.account.manage"><i class="fa fa-user fa-fw"></i> {{::\'My Account\' | translate}}</a> </li> <li> <a ng-click="appVm.changePlan()" ng-if="appVm.canChangePlan"><i class="fa fa-credit-card fa-fw"></i> {{::\'Change Plan\' | translate}}</a> </li> <li> <a ui-sref="app.account.manage({ tab: \'password\' })"><i class="fa fa-lock fa-fw"></i> {{::\'Change Password\' | translate}}</a> </li> <li> <a href="https://exceptionless.com/docs/" target="_blank"><i class="fa fa-book fa-fw"></i> {{::\'Documentation\' | translate}}</a> </li> <li ng-if="appVm.isIntercomEnabled()"> <a ng-click="appVm.showIntercom()"><i class="fa fa-comment fa-fw"></i> {{::\'Support\' | translate}}</a> </li> <li> <a ui-sref="auth.logout"><i class="fa fa-power-off fa-fw"></i> {{::\'Logout\' | translate}}</a> </li> </ul> </li> </ul> <search-filter></search-filter> <ul class="nav navbar-nav visible-xs hidden-sm" auto-active> <li> <a ui-sref="app.account.manage"><i class="fa fa-user fa-fw"></i> {{::\'My Account\' | translate}}</a> </li> <li> <a ng-click="appVm.changePlan()" ng-if="appVm.canChangePlan"><i class="fa fa-credit-card fa-fw"></i> {{::\'Change Plan\' | translate}}</a> </li> <li> <a ui-sref="app.account.manage({ tab: \'password\' })"><i class="fa fa-lock fa-fw"></i> {{::\'Change Password\' | translate}}</a> </li> <li> <a href="https://exceptionless.com/docs/" target="_blank"><i class="fa fa-book fa-fw"></i> {{::\'Documentation\' | translate}}</a> </li> <li ng-if="appVm.isIntercomEnabled()"> <a ng-click="appVm.showIntercom()"><i class="fa fa-comment fa-fw"></i> {{::\'Support\' | translate}}</a> </li> <li> <a ui-sref="auth.logout"><i class="fa fa-power-off fa-fw"></i> {{::\'Logout\' | translate}}</a> </li> </ul> </div> </div> '),e.put("app/blocks/nav.tpl.html",'<ul class="nav"> <li ng-class="{active: appVm.isMenuActive.error}"> <a href="#" class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-warning fa-fw"></i> <span>{{::\'Exceptions\' | translate}}</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">{{::\'Exceptions\' | translate}}</li> <li> <a ng-href="{{appVm.urls.frequent.error}}"> <i class="fa fa-signal fa-fw"></i> <span>{{::\'Most Frequent Exceptions\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.users.error}}"> <i class="fa fa-users fa-fw"></i> <span>{{::\'Most Users\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.new.error}}"> <i class="fa fa-asterisk fa-fw"></i> <span>{{::\'New Exception\' |translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.events.error}}"> <i class="fa fa-calendar fa-fw"></i> <span>{{::"Exception Events" | translate}}</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isMenuActive.log}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-file-text-o fa-fw"></i> <span>{{::\'Log Messages\' | translate}}</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">{{::\'Log Messages\' | translate}}</li> <li> <a ng-href="{{appVm.urls.frequent.log}}"> <i class="fa fa-signal fa-fw"></i> <span>{{::\'Most Frequent Messages\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.users.log}}"> <i class="fa fa-users fa-fw"></i> <span>{{::\'Most Users\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.new.log}}"> <i class="fa fa-asterisk fa-fw"></i> <span>{{::\'New LogMessage\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.events.log}}"> <i class="fa fa-calendar fa-fw"></i> <span>{{::\'Message Events\' | translate}}</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isMenuActive[\'404\']}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-unlink fa-fw"></i> <span>{{::\'Broken Links\' | translate}}</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">{{::\'Broken Links\' | translate}}</li> <li> <a ng-href="{{appVm.urls.frequent[\'404\']}}"> <i class="fa fa-signal fa-fw"></i> <span>{{::\'Most Frequent Links\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.users[\'404\']}}"> <i class="fa fa-users fa-fw"></i> <span>{{::\'Most Users\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.new[\'404\']}}"> <i class="fa fa-asterisk fa-fw"></i> <span>{{::\'New BrokenLink\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.events[\'404\']}}"> <i class="fa fa-calendar fa-fw"></i> <span>{{::\'Broken Links Events\' | translate}}</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isMenuActive.usage}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-check-square-o fa-fw"></i> <span>{{::\'Feature Usages\' | translate}}</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">{{::\'Feature Usages\' | translate}}</li> <li> <a ng-href="{{appVm.urls.frequent.usage}}"> <i class="fa fa-signal fa-fw"></i> <span>{{::\'Most Frequent Features\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.users.usage}}"> <i class="fa fa-users fa-fw"></i> <span>{{::\'Most Users\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.new.usage}}"> <i class="fa fa-asterisk fa-fw"></i> <span>{{::\'New FeatureUsage\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.events.usage}}"> <i class="fa fa-calendar fa-fw"></i> <span>{{::\'Feature Events\' | translate}}</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isMenuActive.all}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-th-large fa-fw"></i> <span>{{::\'All\' | translate}}</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">{{::\'All\' | translate}}</li> <li> <a ng-href="{{appVm.urls.frequent.all}}"> <i class="fa fa-signal fa-fw"></i> <span>{{::\'Most Frequent\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.users.all}}"> <i class="fa fa-users fa-fw"></i> <span>{{::\'Most Users\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.new.all}}"> <i class="fa fa-asterisk fa-fw"></i> <span>{{::\'New Stacks\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.events.all}}"> <i class="fa fa-calendar fa-fw"></i> <span>{{::\'Event Events\' | translate}}</span> </a> </li> </ul> </li> <li role="separator" class="nav-sub-divider"></li> <li ng-class="{active: appVm.isMenuActive.reports}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-book fa-fw"></i> <span>{{::\'Reports\' | translate}}</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">{{::\'Reports\' | translate}}</li> <li> <a ng-href="{{appVm.urls.reports.sessions}}"> <i class="fa fa-heartbeat fa-fw"></i> <span>{{::\'Sessions\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.reports.regressed}}"> <i class="fa fa-bug fa-fw"></i> <span>{{::\'regressed\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.reports.fixed}}"> <i class="fa fa-wrench fa-fw"></i> <span>{{::\'fixed\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.reports.snoozed}}"> <i class="fa fa-clock-o fa-fw"></i> <span>{{::\'snoozed\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.reports.ignored}}"> <i class="fa fa-trash-o fa-fw"></i> <span>{{::\'ignored\' | translate}}</span> </a> </li> <li> <a ng-href="{{appVm.urls.reports.discarded}}"> <i class="fa fa-ban fa-fw"></i> <span>{{::\'discarded\' | translate}}</span> </a> </li> </ul> </li> <li ng-class="{active: appVm.isMenuActive.settings}"> <a href class="auto"> <span class="pull-right text-muted"> <i class="fa fa-fw fa-angle-right text"></i> <i class="fa fa-fw fa-angle-down text-active"></i> </span> <i class="fa fa-cog fa-fw"></i> <span>{{::\'Settings\' | translate}}</span> </a> <ul class="nav nav-sub dk" auto-active> <li class="nav-sub-header">{{::\'Settings\' | translate}}</li> <li> <a ui-sref="app.organization.list"> <i class="fa fa-group fa-fw"></i> <span>{{::\'Organization Manager\' | translate}}</span> </a> </li> <li> <a ui-sref="app.project.list"> <i class="fa fa-briefcase fa-fw"></i> <span>{{::\'Project Manager\' | translate}}</span> </a> </li> <li> <a ui-sref="app.account.manage"> <i class="fa fa-user fa-fw"></i> <span>{{::\'My Account\' | translate}}</span> </a> </li> </ul> </li> <li> <a href="https://exceptionless.com/docs/" target="_blank" title="{{::\'Documentation\' | translate}}"> <i class="fa fa-book fa-fw"></i> <span>{{::\'Documentation\' | translate}}</span> </a> </li> <li ng-if="appVm.isIntercomEnabled()"> <a ng-click="appVm.showIntercom()" title="{{::\'Support\' | translate}}"> <i class="fa fa-comment fa-fw"></i> <span>{{::\'Support\' | translate}}</span> </a> </li> </ul> '),e.put("app/blocks/sidebar.tpl.html",'<div class="aside-wrap"> <div class="navi-wrap"> <div class="clearfix hidden-xs text-center hide" id="aside-user"> <div class="line dk hidden-folded"></div> </div> <nav ui-nav class="navi" ng-include="\'app/blocks/nav.tpl.html\'"></nav> </div> </div> '),e.put("app/event/event.tpl.html",'<organization-notifications organization-id="vm.event.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-calendar"></i> {{::\'Event Occurrence\' | translate}} <div class="pull-right hidden-print"> <a ng-show="vm.event.stack_id" ng-click="vm.viewJSON()" class="btn btn-default btn-xs fa fa-code hidden-xs" role="button" title="{{::\'View JSON\' | translate}}"></a> <a ui-sref="app.stack({ id: vm.event.stack_id })" ng-class="{\'disabled\': !vm.event.stack_id}" class="btn btn-default btn-xs fa fa-fw fa-caret-up" role="button" title="{{::\'Go To Stack\' | translate}}"></a> <a ui-sref="app.event({ id: vm.previous, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.previous}" class="btn btn-default btn-xs fa fa-fw fa-caret-left" role="button" title="{{::\'Previous Occurrence\' | translate}}"></a> <a ui-sref="app.event({ id: vm.next, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.next}" class="btn btn-default btn-xs fa fa-fw fa-caret-right" role="button" title="{{::\'Next Occurrence\' | translate}}"></a> </div> </div> <div class="panel-body"> <uib-tabset class="tab-container hidden-xs" active="vm.activeTabIndex"> <uib-tab ng-repeat="tab in vm.tabs" heading="{{::tab.title | translate}}" ng-click="vm.activateTab(tab.title)"> <div ng-include="\'app/event/tabs/\' + tab.template_key + \'.tpl.html\'" ng-if="!vm.isAccordionVisible"></div> </uib-tab> </uib-tabset> <uib-accordion class="visible-xs"> <div uib-accordion-group class="panel-default" ng-repeat="tab in vm.tabs" heading="{{::tab.title}}" is-open="tab.active" ng-click="vm.activateTab(tab.title)"> <div ng-include="\'app/event/tabs/\' + tab.template_key + \'.tpl.html\'" ng-if="vm.isAccordionVisible"></div> </div> </uib-accordion> </div> <footer class="panel-footer hidden-xs"> <div class="pull-right"> <a ui-sref="app.stack({ id: vm.event.stack_id })" ng-class="{\'disabled\': !vm.event.stack_id}" class="btn btn-default" role="button">{{::\'Go To Stack\' | translate}}</a> </div> <a ui-sref="app.event({ id: vm.previous, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.previous}" class="btn btn-primary" role="button">{{::\'Previous Occurrence\' | translate}}</a> <a ui-sref="app.event({ id: vm.next, tab: vm.getCurrentTab() })" ng-class="{\'disabled\': !vm.next}" class="btn btn-primary" role="button">{{::\'Next Occurrence\' | translate}}</a> </footer> </div> </div> </div> '),e.put("app/event/extended-data-item-directive.tpl.html",'<div ng-if="vm.hasFilteredData"> <div class="pull-right hidden-print"> <button type="button" role="button" class="btn btn-dark btn-xs" title="{{::\'Copy to Clipboard\' | translate}}" clipboard text="vm.data_json" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.clipboardSupported"> <i class="fa fa-copy"></i> </button> <div class="btn-group btn-group-xs"> <button type="button" role="button" class="btn btn-dark btn-xs" ng-click="vm.showRaw = !vm.showRaw"> {{::\'Toggle View\' | translate}} </button> <button type="button" role="button" class="btn btn-dark btn-xs dropdown-toggle" data-toggle="dropdown" ng-if="vm.canPromote"> <span class="caret"></span> </button> <ul class="dropdown-menu pull-right" ng-if="vm.canPromote"> <li ng-if="!vm.isPromoted"><a ng-click="vm.promoteTab()">{{::\'Promote to Tab\' | translate}}</a></li> <li ng-if="vm.isPromoted"><a ng-click="vm.demoteTab()">{{::\'Demote Tab\' | translate}}</a></li> </ul> </div> </div> <h3>{{::vm.title}}</h3> <div ng-if="!vm.showRaw"> <object-dump content="vm.filteredData"></object-dump> </div> <pre ng-if="vm.showRaw">{{::vm.data | json }}</pre> </div> '),e.put("app/event/reference.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bookmark"></i> {{::\'References\' | translate}}</div> <events settings="vm.references"></events> </div> </div> </div> </div> '),e.put("app/event/tabs/environment.tpl.html",'<h3 class="visible-print">{{::\'Environment\' | translate}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> <tr ng-if="vm.environment.machine_name"> <th>{{::\'Machine Name\' | translate}}</th> <td><span truncate>{{::vm.environment.machine_name}}</span></td> </tr> <tr ng-if="vm.environment.ip_address"> <th>{{::\'IP Address\' | translate}}</th> <td>{{::vm.environment.ip_address}}</td> </tr> <tr ng-if="vm.environment.processor_count"> <th>{{::\'Processor Count\' | translate}}</th> <td>{{::vm.environment.processor_count}}</td> </tr> <tr ng-if="vm.environment.total_physical_memory"> <th>{{::\'Total Memory\' | translate}}</th> <td>{{::vm.environment.total_physical_memory | bytes}}</td> </tr> <tr ng-if="vm.environment.available_physical_memory"> <th>{{::\'Available Memory\' | translate}}</th> <td>{{::vm.environment.available_physical_memory | bytes}}</td> </tr> <tr ng-if="vm.environment.process_memory_size"> <th>{{::\'Process Memory\' | translate}}</th> <td>{{::vm.environment.process_memory_size | bytes}}</td> </tr> <tr ng-if="vm.environment.o_s_name"> <th>{{::\'OS Name\' | translate}}</th> <td><span truncate>{{::vm.environment.o_s_name}}</span></td> </tr> <tr ng-if="vm.environment.o_s_version"> <th>{{::\'OS Version\' | translate}}</th> <td>{{::vm.environment.o_s_version}}</td> </tr> <tr ng-if="vm.environment.architecture"> <th>{{::\'Architecture\' | translate}}</th> <td>{{::vm.environment.architecture}}</td> </tr> <tr ng-if="vm.environment.runtime_version"> <th>{{::\'Runtime Version\' | translate}}</th> <td>{{::vm.environment.runtime_version}}</td> </tr> <tr ng-if="vm.environment.process_id"> <th>{{::\'Process ID\' | translate}}</th> <td>{{::vm.environment.process_id}}</td> </tr> <tr ng-if="vm.environment.process_name"> <th>{{::\'Process Name\' | translate}}</th> <td><span truncate>{{::vm.environment.process_name}}</span></td> </tr> <tr ng-if="vm.environment.command_line"> <th>{{::\'Command Line\' | translate}}</th> <td><span truncate lines="2">{{::vm.environment.command_line}}</span></td> </tr> </table> <extended-data-item can-promote="false" title="\'Additional Data\'" data="vm.environment.data"></extended-data-item> '),e.put("app/event/tabs/error.tpl.html",'<h3 class="visible-print">{{::\'Exception\' | translate}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> <tr> <th>{{::\'Error Type\' | translate}}</th> <td><span truncate>{{::vm.errorType}}</span></td> </tr> <tr> <th>{{::\'Message\' | translate}}</th> <td><span truncate lines="10">{{::vm.message}}</span></td> </tr> <tr ng-if="vm.event.data[\'@error\'].code"> <th>{{::\'Code\' | translate}}</th> <td><span truncate>{{::vm.event.data[\'@error\'].code}}</span></td> </tr> <tr ng-if="vm.event.data[\'@submission_method\']"> <th>{{::\'Submission Method\' | translate}}</th> <td><span truncate>{{::vm.event.data[\'@submission_method\']}}</span></td> </tr> </table> <div class="pull-right m-t-xs hidden-print"> <a clipboard text="vm.textStackTrace" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.textStackTrace && vm.clipboardSupported" class="btn btn-default btn-xs fa fa-code hidden-xs" role="button" title="{{::\'Copy Stack Trace to Clipboard\' | translate}}"></a> </div> <h3>{{::\'Stack Trace\' | translate}}</h3> <stack-trace exception="vm.event.data[\'@error\']" text-stack-trace="vm.textStackTrace"></stack-trace> <extended-data-item ng-repeat="ed in vm.errorData" can-promote="false" title="ed.title" data="ed.data"> </extended-data-item> <div ng-if="vm.event.data[\'@error\'].modules.length > 0"> <h4>{{::\'Loaded Modules\' | translate}}</h4> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>{{::\'Module Name\' | translate}}</th> <th class="version">{{::\'Version\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="module in vm.event.data[\'@error\'].modules"> <td><span truncate>{{::module.name}}</span></td> <td>{{::module.version}}</td> </tr> </tbody> </table> </div> '),e.put("app/event/tabs/extended-data.tpl.html",'<h3 class="visible-print">{{::\'Extended Data\' | translate}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> </table> <extended-data-item title="item.title" data="item.data" promote-tab="vm.promoteTab(tabName)" demote-tab="vm.demoteTab(tabName)" ng-repeat="item in tab.data | orderBy: \'title\'"></extended-data-item> '),e.put("app/event/tabs/overview.tpl.html",'<table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.getEvent()" refresh-throttle="10000"> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> <tr ng-if="vm.isSessionStart"> <th>{{::\'Duration\' | translate}}</th> <td> <span ng-if="!vm.event.data.sessionend" class="glyphicon glyphicon-one-fine-dot glyphicon-green" title="{{::\'Online\' | translate}}"></span> <abbr title="{{::\'Seconds\' | translate:{duration : vm.getDuration()} }}"><duration value="vm.getDuration()"></duration></abbr> <span ng-if="vm.event.data.sessionend"> ({{::\'ended\' | translate}} <timeago date="vm.event.data.sessionend"></timeago>) </span> </td> </tr> <tr> <th>{{::\'Project\' | translate}}</th> <td><a ui-sref="app.project-frequent({ projectId: vm.project.id })">{{vm.project.name}}</a></td> </tr> <tr ng-if="vm.event.reference_id"> <th>{{::\'Reference\' | translate}}</th> <td> <a ng-if="vm.isSessionStart" ng-click="vm.activateSessionEventsTab()">{{vm.event.reference_id}}</a> <span ng-if="!vm.isSessionStart">{{vm.event.reference_id}}</span> </td> </tr> <tr ng-repeat="reference in vm.references | orderBy: \'name\'"> <th>{{reference.name}}</th> <td><a ui-sref="app.event-reference({ referenceId: reference.id })">{{reference.id}}</a></td> </tr> <tr ng-if="vm.level"> <th>{{::\'Level\' | translate}}</th> <td> <span class="label label-default" ng-class="{ \'label-success\': vm.isLevelSuccess, \'label-info\': vm.isLevelInfo, \'label-warning\': vm.isLevelWarning, \'label-danger\': vm.isLevelError }">{{::vm.level}}</span> </td> </tr> <tr ng-if="vm.event.type !== \'error\'"> <th>{{::\'Event Type\' | translate}}</th> <td><span truncate>{{::vm.event.type}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.hasError"> <th>{{::\'Error Type\' | translate}}</th> <td><span truncate>{{::vm.errorType}}</span></td> </tr> <tr ng-if="vm.event.source"> <th>{{::\'Source\' | translate}}</th> <td><span truncate lines="2">{{::vm.event.source}}</span></td> </tr> <tr ng-if="!vm.isSessionStart && vm.event.value"> <th>{{::\'Value\' | translate}}</th> <td>{{::vm.event.value}}</td> </tr> <tr class="hidden-print" ng-if="vm.event.message || vm.getMessage()"> <th>{{::\'Message\' | translate}}</th> <td><span truncate lines="10">{{::vm.event.message || vm.message}}</span></td> </tr> <tr ng-if="vm.version"> <th>{{::\'Version\' | translate}}</th> <td>{{::vm.version}}</td> </tr> <tr ng-if="vm.location"> <th>{{::\'Geo\' | translate}}</th> <td><span truncate>{{::vm.location}}</span></td> </tr> <tr ng-if="vm.event.tags.length > 0"> <th>{{::\'Tags\' | translate}}</th> <td><span class="label label-info" ng-repeat="tag in vm.event.tags track by tag">{{tag}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.requestUrl"> <th>{{::\'URL\' | translate}}</th> <td><a ng-href="{{::vm.requestUrl}}" target="_blank" truncate>{{::vm.requestUrl}}</a></td> </tr> </table> <div ng-if="vm.userEmail || vm.userDescription || vm.userIdentity || vm.userEmail"> <h4>{{::\'User Info\' | translate}}</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr ng-if="vm.userEmail"> <th>{{::\'User Email\' | translate}}</th> <td><a ng-href="mailto:{{::vm.userEmail}}" truncate>{{::vm.userEmail}}</a></td> </tr> <tr ng-if="vm.userIdentity"> <th>{{::\'User Identity\' | translate}}</th> <td><span truncate>{{::vm.userIdentity}}</span></td> </tr> <tr ng-if="vm.userName"> <th>{{::\'User Name\' | translate}}</th> <td><span truncate>{{::vm.userName}}</span></td> </tr> <tr ng-if="vm.userDescription"> <th>{{::\'User Description\' | translate}}</th> <td><span truncate lines="2">{{::vm.userDescription}}</span></td> </tr> </table> </div> <div class="hidden-print" ng-if="vm.hasError"> <div class="pull-right"> <a clipboard text="vm.textStackTrace" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.textStackTrace && vm.clipboardSupported" class="btn btn-default btn-xs fa fa-code hidden-xs" role="button" title="{{::\'Copy Stack Trace to Clipboard\' | translate}}"></a> </div> <h4>{{::\'Stack Trace\' | translate}}</h4> <stack-trace class="stack-trace-mini" exception="vm.event.data[\'@error\']" ng-if="vm.event.data[\'@error\']"></stack-trace> <simple-stack-trace class="stack-trace-mini" exception="vm.event.data[\'@simple_error\']" ng-if="vm.event.data[\'@simple_error\']"></simple-stack-trace> </div> '),e.put("app/event/tabs/promoted.tpl.html",'<h3 class="visible-print">{{::tab.title}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> </table> <extended-data-item title="tab.title" data="tab.data" demote-tab="vm.demoteTab(tabName)" is-promoted="true"></extended-data-item> '),e.put("app/event/tabs/request.tpl.html",'<h3 class="visible-print">{{::\'Request\' | translate}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> <tr ng-if="vm.request.http_method"> <th>{{::\'HTTP Method\' | translate}}</th> <td>{{::vm.request.http_method}}</td> </tr> <tr ng-if="vm.requestUrl"> <th>{{::\'URL\' | translate}}</th> <td><a ng-href="{{::vm.requestUrl}}" target="_blank" truncate>{{::vm.requestUrl}}</a></td> </tr> <tr> <th>{{::\'Referrer\' | translate}}</th> <td> <span ng-if="vm.request.referrer"> <a ng-href="{{::vm.request.referrer}}" target="_blank" truncate>{{::vm.request.referrer}}</a> </span> <em ng-if="!vm.request.referrer">None</em> </td> </tr> <tr ng-if="vm.request.client_ip_address"> <th>{{::\'Client IP\' | translate}}</th> <td>{{::vm.request.client_ip_address}}</td> </tr> <tr ng-if="vm.request.user_agent"> <th>{{::\'User Agent\' | translate}}</th> <td><span truncate lines="2">{{::vm.request.user_agent}}</span></td> </tr> <tr class="hidden-print" ng-if="vm.request.data[\'@device\']"> <th>{{::\'Device\' | translate}}</th> <td>{{::vm.request.data[\'@device\']}}</td> </tr> <tr class="hidden-print" ng-if="vm.request.data[\'@browser\']"> <th>{{::\'Browser\' | translate}}</th> <td> {{::vm.request.data[\'@browser\']}} <abbr ng-if="vm.request.data[\'@browser_major_version\']" title="{{::vm.request.data[\'@browser_version\']}}">{{::vm.request.data[\'@browser_major_version\']}}</abbr> </td> </tr> <tr class="hidden-print" ng-if="vm.request.data[\'@os\']"> <th>{{::\'Browser OS\' | translate}}</th> <td> {{::vm.request.data[\'@os\']}} <abbr ng-if="vm.request.data[\'@os_major_version\']" title="{{::vm.request.data[\'@os_version\']}}">{{::vm.request.data[\'@os_major_version\']}}</abbr> </td> </tr> </table> <extended-data-item can-promote="false" title="\'Post Data\'" data="vm.request.post_data"></extended-data-item> <div ng-if="vm.hasHeaders"> <h4>{{::\'Headers\' | translate}}</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <thead> <tr> <th>{{::\'Name\' | translate}}</th> <th>{{::\'Value\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="(key, value) in vm.sortedHeaders() track by key"> <td>{{::key}}</td> <td><span truncate lines="3">{{::value}}</span></td> </tr> </tbody> </table> </div> <div ng-if="vm.hasCookies"> <h4>{{::\'Cookie Values\' | translate}}</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <thead> <tr> <th>{{::\'Name\' | translate}}</th> <th>{{::\'Value\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="(key, value) in vm.request.cookies track by key"> <td>{{::key}}</td> <td><span truncate lines="3">{{::value}}</span></td> </tr> </tbody> </table> </div> <extended-data-item can-promote="false" title="\'Additional Data\'" data="vm.request.data" excluded-keys="vm.excludedAdditionalData"></extended-data-item> '),e.put("app/event/tabs/session.tpl.html",'<div class="hidden-print" ng-if="vm.sessionEventsTabActivated"> <div ng-if="!vm.project.has_premium_features"> <div class="alert alert-danger alert-banner m-b-none"> <h4> <a ng-click="appVm.changePlan(vm.project.organization_id)">{{vm.project.organization_name}}</a> {{::\'is attempting to use a premium feature.\' | translate}} </h4> <p> <a ng-click="appVm.changePlan(vm.project.organization_id)">{{::\'Upgrade now\' | translate}}</a> {{::\'to enable sessions and other premium features!\' | translate}} </p> </div> <br> </div> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> <tr ng-if="vm.isSessionStart"> <th>{{::\'Duration\' | translate}}</th> <td> <span ng-if="!vm.event.data.sessionend" class="glyphicon glyphicon-one-fine-dot glyphicon-green" title="{{::\'Online\' | translate}}"></span> <abbr title="{{::\'Seconds\' | translate:{duration : vm.getDuration()} }}"><duration value="vm.getDuration()"></duration></abbr> <span ng-if="vm.event.data.sessionend"> ({{::\'ended\' | translate}} <timeago date="vm.event.data.sessionend"></timeago>) </span> </td> </tr> </table> <h3>{{::\'Session Events\' | translate}}</h3> <events settings="vm.sessionEvents"></events> </div> '),e.put("app/event/tabs/simple-error.tpl.html",'<h3 class="visible-print">{{::\'Exception\' | translate}}</h3> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tr> <th>{{::\'Occurred On\' | translate}}</th> <td>{{::\'DateTime\' | translate:vm.event}} (<timeago date="vm.event.date"></timeago>)</td> </tr> <tr> <th>{{::\'Error Type\' | translate}}</th> <td><span truncate>{{::vm.errorType}}</span></td> </tr> <tr> <th>{{::\'Message\' | translate}}</th> <td><span truncate lines="4">{{::vm.message}}</span></td> </tr> <tr ng-if="vm.event.data[\'@submission_method\']"> <th>{{::\'Submission Method\' | translate}}</th> <td><span truncate>{{::vm.event.data[\'@submission_method\']}}</span></td> </tr> </table> <div class="pull-right m-t-xs hidden-print"> <a clipboard text="vm.textStackTrace" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.textStackTrace && vm.clipboardSupported" class="btn btn-default btn-xs fa fa-code hidden-xs" role="button" title="{{::\'Copy Stack Trace to Clipboard\' | translate}}"></a> </div> <h3>{{::\'Stack Trace\' | translate}}</h3> <simple-stack-trace exception="vm.event.data[\'@simple_error\']" text-stack-trace="vm.textStackTrace"></simple-stack-trace> <extended-data-item ng-repeat="ed in vm.errorData" can-promote="false" title="ed.title" data="ed.data"> </extended-data-item> '),e.put("app/events.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged PlanChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.events[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events\' | translate}}</span> <span class="sub">{{vm.stats.events}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.frequent[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-key fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Stacks\' | translate}}</span> <span class="sub">{{vm.stats.stacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.new[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-asterisk fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'New Stacks\' | translate}}</span> <span class="sub">{{vm.stats.newStacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events Per Hour\' | translate}}</span> <span class="sub">{{vm.stats.avg_per_hour}}</span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bar-chart-o"></i>{{::\'History\' | translate}}</div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-calendar"></i>{{::\'Events\' | translate}}</div> <events settings="vm.events"></events> </div> </div> </div> </div> '),e.put("app/frequent.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged PlanChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.events[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events\' | translate}}</span> <span class="sub">{{vm.stats.events}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.frequent[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-key fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Stacks\' | translate}}</span> <span class="sub">{{vm.stats.stacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.new[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-asterisk fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'New Stacks\' | translate}}</span> <span class="sub">{{vm.stats.newStacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events Per Hour\' | translate}}</span> <span class="sub">{{vm.stats.avg_per_hour}}</span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bar-chart-o"></i>{{::\'History\' | translate}}</div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-signal"></i> {{::\'Most Frequent Stacks\' | translate}}</div> <stacks settings="vm.mostFrequent"></stacks> </div> </div> </div> </div> '),e.put("app/new.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged PlanChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.events[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events\' | translate}}</span> <span class="sub">{{vm.stats.events}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.frequent[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-key fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Stacks\' | translate}}</span> <span class="sub">{{vm.stats.stacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.new[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-asterisk fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'New Stacks\' | translate}}</span> <span class="sub">{{vm.stats.newStacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events Per Hour\' | translate}}</span> <span class="sub">{{vm.stats.avg_per_hour}}</span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bar-chart-o"></i>{{::\'History\' | translate}}</div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-asterisk"></i> {{::\'New Stacks\' | translate}}</div> <stacks settings="vm.newest"></stacks> </div> </div> </div> </div> '),e.put("app/not-found.tpl.html",'<div class="container w-auto-xs"> <div class="text-center"> <a href="https://exceptionless.com"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>{{::\'Page Not Found\' | translate}}</strong></div> <div class="panel-body"> {{::"We\'re sorry but the page was not found on this site." | translate}} </div> </div> </div> </div> </div> </div> '),e.put("app/organization/list/add-organization-dialog.tpl.html",'<form name="vm.addOrganizationForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">{{::\'New Organization\' | translate}}</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="name">{{::\'Organization Name\' | translate}}</label> <div ng-class="{\'input-group\': !!vm.addOrganizationForm.$pending }"> <input id="name" name="name" type="text" class="form-control input-lg" placeholder="{{::\'Organization Name\' | translate}}" ng-model="vm.data.name" ng-model-options="{ debounce: 500 }" organization-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.addOrganizationForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addOrganizationForm.name.$error" ng-if="vm.addOrganizationForm.$submitted || vm.addOrganizationForm.name.$touched"> <small ng-message="required">{{::\'Organization Name is required.\' | translate}}</small> <small ng-message="unique">{{::\'A organizations with this name already exists.\' | translate}}</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save()" value="{{::\'Save\' | translate}}"> </div> </form> '),e.put("app/organization/list/list.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="OrganizationChanged ProjectChanged" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <div class="col" refresh-on=" PlanChanged PersistentEventChanged" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="10000"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-group"></i> {{::\'My Organizations\' | translate}}</div> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>{{::\'Name\' | translate}}</th> <th>{{::\'Plan\' | translate}}</th> <th class="number hidden-xs"> <abbr title="{{::\'Total number of projects\' | translate}}">{{::\'Projects\' | translate}}</abbr> </th> <th class="number hidden-xs"> <abbr title="{{::\'Total number of stacks\' | translate}}">{{::\'Stacks\' | translate}}</abbr> </th> <th class="number hidden-xs"> <abbr title="{{::\'Total number of events within the retention period\' | translate}}">{{::\'Events\' | translate}}</abbr> </th> <th class="action">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="organization in vm.organizations | orderBy: \'name\' track by organization.id"> <td ng-click="vm.open(organization.id, $event)">{{organization.name}}</td> <td ng-click="vm.open(organization.id, $event)">{{organization.plan_name}}</td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs"> {{organization.project_count | number:0}} </td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs"> {{organization.stack_count | number:0}} </td> <td ng-click="vm.open(organization.id, $event)" class="number hidden-xs"> {{organization.event_count | number:0}} </td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li> <a ui-sref="app.organization.manage({ id: organization.id })"><i class="fa fa-fw fa-edit"></i> {{::\'Edit\' | translate}}</a> </li> <li ng-if="vm.canChangePlan"> <a ng-click="vm.changePlan(organization.id)"><i class="fa fa-credit-card fa-fw"></i> {{::\'Change Plan\' | translate}}</a> </li> <li> <a ui-sref="app.organization.manage({ id: organization.id, tab: \'billing\' })"><i class="fa fa-fw fa-file"></i> {{::\'View Invoices\' | translate}}</a> </li> <li> <a ng-click="vm.leave(organization, appVm.user)"><i class="fa fa-fw fa-sign-out"></i> {{::\'Leave Organization\' | translate}}</a> </li> <li> <a ng-click="vm.remove(organization)"><i class="fa fa-fw fa-times"></i> {{::\'Delete\' | translate}}</a> </li> </ul> </div> </td> </tr> <tr ng-if="vm.organizations.length === 0 || vm.loading"> <td colspan="6"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter ? \'No organizations were found with the current filter.\': \'No organizations were found.\' | translate}}</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"> <a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.previous}"> <a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.next}"> <a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> </div> </div> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.frequent" class="btn btn-default" role="button">{{::\'Go To Most Frequent\' | translate}}</a> </div> <button type="button" role="button" ng-click="vm.add()" class="btn btn-primary"> {{::\'New Organization\' | translate}} </button> </footer> </div> </div> </div> </div> '),e.put("app/organization/manage/add-user-dialog.tpl.html",'<form name="addUserForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-user-plus fa-fw"></i> {{::\'Invite User\' | translate}}</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="email">{{::\'Email Address\' | translate}}</label> <input id="email" name="email" type="email" class="form-control input-lg" placeholder="{{::\'Email Address\' | translate}}" x-autocompletetype="email" autocorrect="off" spellcheck="false" ng-model="vm.data.email" ng-required="true" autofocus> <div class="error" ng-messages="addUserForm.email.$error" ng-if="addUserForm.$submitted || addUserForm.email.$touched"> <small ng-message="required">{{::\'Email Address is required.\' | translate}}</small> <small ng-message="email">{{::\'Email Address is required.\' | translate}}</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addUserForm.$valid)" value="{{::\'Invite User\' | translate}}"> </div> </form> '),e.put("app/organization/manage/invoices-directive.tpl.html",'<div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="OrganizationChanged PlanChanged" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="10000"> <thead> <tr> <th>{{::\'Payment Number\' | translate}}</th> <th>{{::\'Date\' | translate}}</th> <th class="number">{{::\'Status\' | translate}}</th> <th class="action">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="invoice in vm.invoices track by invoice.id"> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.id}}</td> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{\'DateTime\' | translate : invoice }}</td> <td class="row-clickable" ng-click="vm.open(invoice.id)">{{invoice.paid ? \'Paid\' : \'Unpaid\'}}</td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li> <a ng-click="vm.open(invoice.id)"><i class="fa fa-file"></i> {{::\'View Payment\' | translate}}</a> </li> <li ng-if="vm.hasAdminRole(appVm.user)"> <a ng-href="https://manage.stripe.com/invoices/in_{{::invoice.id}}" target="_blank"><i class="fa fa-credit-card"></i> {{::\'View Stripe Invoice\' | translate}}</a> </li> </ul> </div> </td> </tr> <tr ng-if="vm.invoices.length === 0"> <td colspan="4"> <strong>{{::\'No invoices were found.\' | translate}}</strong> </td> </tr> </tbody> </table> <div class="table-footer text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"> <a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.previous}"> <a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.next}"> <a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> </div> '),e.put("app/organization/manage/manage.tpl.html",'<organization-notifications organization-id="vm.organization.id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="OrganizationChanged" refresh-action="vm.get(data)" refresh-debounce="5000"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-th-list"></i> {{::\'Manage Organization\' | translate}} {{ vm.organization.name ? \' "\' + vm.organization.name + \'"\' : \'\'}} </div> <div class="panel-body m-b-n"> <uib-tabset class="tab-container" active="vm.activeTabIndex"> <uib-tab heading="{{::\'General\' | translate}}"> <form name="vm.organizationForm" role="form" class="form-validation"> <div class="form-group m-b-none"> <label for="name">{{::\'Organization Name\' | translate}}</label> <div ng-class="{\'input-group\': !!vm.organizationForm.$pending }"> <input id="name" name="name" type="text" class="form-control" placeholder="{{::\'Organization Name\' | translate}}" ng-model="vm.organization.name" ng-model-options="{ debounce: 500 }" ng-change="vm.save(vm.organizationForm.$valid)" organization-name-available-validator ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.organizationForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.organizationForm.name.$error" ng-if="vm.organizationForm.$submitted || vm.organizationForm.name.$touched"> <small ng-message="required">{{::\'Organization Name is required.\' | translate}}</small> <small ng-message="unique">{{::\'A organizations with this name already exists.\' | translate}}</small> </div> </div> </form> <div ng-show="vm.hasMonthlyUsage"> <h4 style="margin-top: 20px">{{::\'Monthly Usage\' | translate}}</h4> <p> You are currently on the <a ng-if="vm.canChangePlan" ng-click="vm.changePlan()"><strong>{{vm.organization.plan_name}}</strong> plan</a> with <b ng-class="{\'text-warning\': vm.remainingEventLimit === 0}">{{vm.remainingEventLimit | number}}</b> events remaining until this billing period\'s limit is reset on <b>{{vm.next_billing_date | date: \'longDate\'}}</b> (<timeago date="vm.next_billing_date"></timeago>). <a ng-if="vm.canChangePlan" ng-click="vm.changePlan()">{{::\'Click here to change your plan or billing information.\' | translate}}</a> </p> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> <br class="clearfix"> <h6> <em>{{::\'The usage data above is refreshed periodically and may not reflect current totals.\' | translate}}</em> </h6> </div> </uib-tab> <uib-tab heading="{{::\'Projects\' | translate}}"> <projects settings="vm.projects"></projects> <a ui-sref="app.project.add({ organizationId: vm.organization.id })" class="btn btn-primary" role="button">{{::\'Add New Project\' | translate}}</a> </uib-tab> <uib-tab heading="{{::\'UserManager\' | translate}}"> <users settings="vm.users"></users> <button type="button" role="button" ng-click="vm.addUser()" class="btn btn-primary"> {{::\'Invite User\' | translate}} </button> </uib-tab> <uib-tab heading="{{::\'Billing\' | translate}}"> <p> <span ng-bind-html="\'Organization_Billing_Plan\' | translate:{planName: vm.organization.plan_name}"></span> <a ng-if="vm.canChangePlan" ng-click="vm.changePlan()">{{::\'Change your plan or billing information.\' | translate}}</a> </p> <invoices settings="vm.invoices"></invoices> </uib-tab> </uib-tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.organization-frequent({ organizationId: vm.organization.id })" class="btn btn-default" role="button">{{::\'Go To Most Frequent\' | translate}}</a> </div> <div class="btn-group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-remove"></i> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li> <a ng-click="vm.leaveOrganization(appVm.user)" role="button">{{::\'Leave Organization\' | translate}}</a> </li> <li> <a ng-click="vm.removeOrganization()" role="button">{{::\'Delete Organization\' | translate}}</a> </li> </ul> </div> </footer> </div> </div> </div> </div> '),e.put("app/payment/payment.tpl.html",'<div> <rate-limit></rate-limit> <div class="container invoice"> <div class="row"> <div class="col-sm-5"> <img src="/img/exceptionless.png" alt="logo"> <address> <strong>Exceptionless</strong><br> 5250 Hwy 78, Suite 750-324<br> Sachse, TX 75048<br> </address> </div> <div class="col-sm-7"> <table class="table table-bordered bg-white"> <tbody> <tr> <th>{{::\'Organization\' | translate}}</th> <td>{{vm.invoice.organization_name}}</td> </tr> <tr> <th>{{::\'Invoice #\' | translate}}</th> <td>{{vm.invoice.id}}</td> </tr> <tr> <th>{{::\'Invoice Date\' | translate}}</th> <td>{{vm.invoice.date | date}}</td> </tr> <tr> <th>{{::\'Status\' | translate}}</th> <td>{{vm.invoice.paid ? \'Paid\' : \'Unpaid\' | translate}}</td> </tr> </tbody> </table> </div> </div> <div class="row"> <div class="col-xs-12 hbox hbox-auto-xs hbox-auto-sm"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-file"></i> {{vm.invoice.paid ? "Receipt" : "Invoice" | translate}} </div> <div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t invoice"> <thead> <tr> <th>{{::\'Description\' | translate}}</th> <th class="date">{{::\'Date\' | translate}}</th> <th class="amount"><div class="text-right">{{::\'Amount\' | translate}}</div></th> </tr> </thead> <tbody> <tr ng-repeat="line in vm.invoice.items"> <td>{{line.description}}</td> <td>{{line.date}}</td> <td> <div class="text-right"><strong>{{line.amount | currency}}</strong></div> </td> </tr> <tr> <td>&nbsp;</td> <td><strong>{{::\'Total\' | translate}}</strong></td> <td> <div class="text-right"><strong>{{vm.invoice.total | currency}}</strong></div> </td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="row"> <div class="col-xs-6"> <strong>{{::\'Email:\' | translate}}</strong> <a href="mailto:team@exceptionless.com">sales@exceptionless.com</a> </div> <div class="col-xs-6"> <strong>{{::\'Website:\' | translate}}</strong> <a href="https://exceptionless.com">https://exceptionless.com</a> </div> </div> </div> </div> '),e.put("app/project/add.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col" refresh-on="OrganizationChanged" refresh-action="vm.getOrganizations()" refresh-throttle="10000"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-asterisk"></i> {{::\'Project Information\' | translate}}</div> <div class="panel-body"> <form name="vm.addForm" role="form" class="form-validation"> <div class="form-group" ng-if="vm.hasOrganizations()"> <label for="organization">{{::\'Organization Name\' | translate}}</label> <select id="organization" class="form-control" ng-model="vm.currentOrganization" ng-options="organization.name for organization in vm.organizations track by organization.id"></select> </div> <div class="form-group" ng-if="vm.canCreateOrganization()"> <div ng-class="{\'input-group\': !!vm.addForm.$pending }"> <input name="organization_name" type="text" class="form-control" placeholder="{{::\'New Organization Name\' | translate}}" ng-model="vm.organization_name" ng-model-options="{ debounce: 500 }" organization-name-available-validator ng-required="vm.canCreateOrganization()" autofocus> <span class="input-group-addon" ng-if="vm.addForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addForm.organization_name.$error" ng-if="vm.addForm.$submitted || vm.addForm.organization_name.$touched"> <small ng-message="required">{{::\'Organization Name is required.\' | translate}}</small> <small ng-message="unique">{{::\'A organizations with this name already exists.\' | translate}}</small> </div> </div> <div class="form-group"> <label for="project_name">{{::\'Project Name\' | translate}}</label> <div ng-class="{\'input-group\': !!vm.addForm.$pending }"> <input id="project_name" name="project_name" type="text" class="form-control" placeholder="{{::\'New Project Name\' | translate}}" ng-model="vm.project_name" ng-model-options="{ debounce: 500 }" project-name-available-validator organization-id="vm.currentOrganization.id" ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.addForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.addForm.project_name.$error" ng-if="vm.addForm.$submitted || vm.addForm.project_name.$touched"> <small ng-message="required">{{::\'Project Name is required.\' | translate}}</small> <small ng-message="unique">{{::\'A project with this name already exists.\' | translate}}</small> </div> </div> </form> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.frequent" ng-if="vm.hasOrganizations()" class="btn btn-default" role="button">{{::\'Go To Most Frequent\' | translate}}</a> </div> <div class="clearfix"> <input ng-click="vm.add()" type="submit" role="button" class="btn btn-primary" value="{{::\'Add Project\' | translate}}"> </div> </footer> </div> </div> </div> </div> '),e.put("app/project/configure.tpl.html",'<organization-notifications organization-id="vm.project.organization_id" ignore-free="true" ignore-configure-projects="true"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged" refresh-if="vm.canRedirect(data)" refresh-action="vm.navigateToDashboard()"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-cloud-download"></i><span ng-bind="\'Download_Configure_Project\' | translate:{projectName: vm.projectName}"></span> </div> <div class="panel-body m-b-n"> <p> {{::\'The Exceptionless client can be integrated into your project in just a few easy steps.\' | translate}} </p> <ol> <li> <p>{{::\'Select your project type:\' | translate}}</p> <select class="form-control" ng-model="vm.currentProjectType" ng-options="projectType.name group by projectType.platform for projectType in vm.projectTypes"> <option value="" ng-selected="true" ng-if="!vm.currentProjectType.key"> {{::\'Please select a project type\' | translate}} </option> </select> </li> <li ng-if="vm.isCommandLine()" style="margin-top: 15px"> <p>{{::\'Execute the following in your shell:\' | translate}}</p> <pre ng-if="vm.isBashShell()">\ncurl "{{::vm.serverUrl}}/api/v2/events" \\\n    --request POST \\\n    --header "Authorization: Bearer {{::vm.apiKey}}" \\\n    --header "Content-Type: application/json" \\\n    --data-binary "[{\'type\':\'log\',\'message\':\'Hello World!\'}]"</pre> <pre ng-if="!vm.isBashShell()">\n$body = @{\n "type"="log"\n "message"="Hello World!"\n} | ConvertTo-Json\n\n$header = @{\n "Authorization"="Bearer {{::vm.apiKey}}"\n "Content-Type"="application/json"\n}\n\nInvoke-RestMethod -Uri "{{::vm.serverUrl}}/api/v2/events" -Method "Post" -Body $body -Headers $header\n</pre> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key && (vm.isDotNet() || vm.isJavaScript())"> <div ng-if="vm.isDotNet()"> <p ng-bind-html="\'Notice_Install_Nuget_Package\' | translate"></p> <pre><a ng-href="http://nuget.org/packages/{{vm.currentProjectType.key}}" target="_blank">Install-Package {{vm.currentProjectType.key}}</a></pre> </div> <div ng-if="vm.isJavaScript()"> <div ng-if="!vm.isNode()"> <p ng-bind-html="\'Notice_Install_Node_Package\' | translate"></p> <pre><a href="https://www.npmjs.com/package/@exceptionless/browser" target="_blank">npm install @exceptionless/browser --save</a></pre> <p ng-bind-html="\'Notice_Install_Manually\' | translate"></p> </div> <div ng-if="vm.isNode()"> <p ng-bind-html="\'Notice_Install_Node_Package\' | translate"></p> <pre><a href="https://www.npmjs.com/package/@exceptionless/node" target="_blank">npm install @exceptionless/node --save</a></pre> </div> </div> </li> <li ng-if="vm.isJavaScript()" style="margin-top: 15px"> <div ng-if="!vm.isNode()"> <p> {{::\'Configure the ExceptionlessClient with your Exceptionless API key:\' | translate}} </p> <pre>import { Exceptionless } from "@exceptionless/browser";<br><br>await Exceptionless.startup(c => {<br>&nbsp;&nbsp;c.apiKey = "{{::vm.apiKey}}";<br>});</pre> </div> <div ng-if="vm.isNode()"> <p> {{::\'Configure the ExceptionlessClient with your Exceptionless API key:\' | translate}} </p> <pre>import { Exceptionless } from "@exceptionless/node";<br><br>await Exceptionless.startup(c => {<br>&nbsp;&nbsp;c.apiKey = "{{::vm.apiKey}}";<br>});</pre> </div> </li> <li ng-if="vm.isDotNet()" style="margin-top: 15px"> <div ng-if="vm.currentProjectType.key !== \'Exceptionless\' && vm.currentProjectType.key !== \'Exceptionless.AspNetCore\'"> <p ng-bind-html="\'Notice_Update_ApiKey\' | translate:{config: vm.currentProjectType.config}"></p> <div class="input-group"> <input class="form-control api-key" type="text" ng-model="vm.apiKey" autofocus> <a class="input-group-addon" title="{{::\'Copy to Clipboard\' | translate}}" clipboard text="vm.apiKey" on-copied="vm.copied()" on-error="vm.onCopyError()"><i class="fa fa-copy"></i></a> </div> </div> <div ng-if="vm.currentProjectType.key === \'Exceptionless\'"> <p ng-bind-html="\'Notice_Application_Startup_NetFx\' | translate:{apiKey: vm.apiKey}"></p> <p ng-bind-html="\'Notice_Unhandled_Exception\' | translate"></p> </div> <div ng-if="vm.currentProjectType.key === \'Exceptionless.AspNetCore\'"> <p ng-bind-html="\'Notice_Application_Startup_NetCore\' | translate:{apiKey: vm.apiKey}"></p> </div> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.Nancy\'"> <p ng-bind-html="\'Notice_Application_Startup_Nancy\' | translate"></p> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.Windows\' || vm.currentProjectType.key === \'Exceptionless.Wpf\'"> <p ng-bind-html="\'Notice_Application_Startup_Windows\' | translate"></p> </li> <li style="margin-top: 15px" ng-if="vm.currentProjectType.key === \'Exceptionless.WebApi\'"> <p ng-bind-html="\'Notice_Application_Startup_WebApi\' | translate"></p> <p ng-bind-html="\'Notice_Hosting_WebApi_In_AspNet\' | translate"></p> </li> </ol> <p ng-if="vm.currentProjectType.key"> <strong>{{::"That\'s it!" | translate}}</strong> <span ng-if="vm.isDotNet() || vm.isJavaScript()">{{::\'Your project should now automatically be sending all unhandled exceptions to Exceptionless!\' | translate}}</span> <span ng-if="vm.isDotNet()" ng-bind-html="\'Notice_Submit_Exception\' | translate:{docUrl: \'https://exceptionless.com/docs/clients/dotnet/sending-events/\', sampleCode: \'ex.ToExceptionless().Submit()\'}"></span> <span ng-if="vm.isJavaScript()" ng-bind-html="\'Notice_Submit_Exception\' | translate:{docUrl: \'https://exceptionless.com/docs/clients/javascript/sending-events/\', sampleCode: \'await Exceptionless.submitException(ex);\'}"></span> </p> <div class="alert alert-success" ng-if="vm.currentProjectType.key"> <span ng-if="vm.isCommandLine()" ng-bind-html="\'Notice_CommandLine_Application\' | translate"></span> <span ng-if="vm.isDotNet()" ng-bind-html="\'Notice_DotNet_Application\' | translate"></span> <span ng-if="vm.isJavaScript()" ng-bind-html="\'Notice_JavaScript_Application\' | translate"></span> </div> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.project-frequent({ projectId: vm.project.id })" class="btn btn-default" role="button">{{::\'Go To Most Frequent\' | translate}}</a> </div> <a ui-sref="app.account.manage({ tab: \'notifications\', projectId: vm.project.id })" class="btn btn-primary" role="button" title="{{::\'Manage Notification Settings\' | translate}}"> <i class="fa fa-fw fa-envelope"></i> <span class="hidden-xs">{{::\'Manage Notification Settings\' | translate}}</span> </a> <a ui-sref="app.project.manage({ id: vm.project.id })" class="btn btn-primary" role="button" title="{{::\'Manage Project\' | translate}}"> <i class="fa fa-fw fa-gear"></i> <span class="hidden-xs">{{::\'Manage Project\' | translate}}</span> </a> </footer> </div> </div> </div> </div> '),e.put("app/project/list.tpl.html",'<div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-briefcase"></i> {{::\'My Projects\' | translate}} <div class="pull-right"> <form name="vm.form" role="search"> <div class="form-group panel-heading-search"> <input id="projectSearch" name="projectSearch" type="search" class="form-control" placeholder="{{::\'Filter\' | translate}}" autocomplete="off" ng-model="vm.filter" ng-model-options="{ debounce: 500 }" ng-change="vm.setSearchFilter(vm.filter)" search-filter-validator uib-tooltip="{{(vm.form.projectSearch.$invalid) ? \'An invalid search term was found.\' : \'\'}}" tooltip-class="error-tooltip" tooltip-is-open="vm.form.projectSearch.$invalid" tooltip-placement="bottom"> </div> </form> </div> </div> <projects settings="vm.projects"></projects> <footer class="panel-footer"> <a ui-sref="app.project.add" class="btn btn-primary" role="button">{{::\'Add New Project\' | translate}}</a> <div class="pull-right"> <a ui-sref="app.frequent" class="btn btn-default" role="button">{{::\'Go To Most Frequent\' | translate}}</a> </div> </footer> </div> </div> </div> </div> '),e.put("app/project/manage/add-configuration-dialog.tpl.html",'<form name="addConfigurationForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">{{::\'Please enter a configuration setting\' | translate}}</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="key">{{::\'Key\' | translate}}</label> <input id="key" name="key" type="text" class="form-control" placeholder="{{::\'Configuration Key\' | translate}}" ng-model="vm.data.key" ng-required="true" autofocus> <div class="error" ng-messages="addConfigurationForm.key.$error" ng-if="addConfigurationForm.$submitted || addConfigurationForm.key.$touched"> <small ng-message="required">{{::\'Please enter a valid key.\' | translate}}</small> </div> </div> <div class="form-group"> <label for="value">{{::\'Value\' | translate}}</label> <input id="value" name="value" type="text" class="form-control" placeholder="{{::\'Configuration Value\' | translate}}" ng-model="vm.data.value" ng-required="true"> <div class="error" ng-messages="addConfigurationForm.value.$error" ng-if="addConfigurationForm.$submitted || addConfigurationForm.value.$touched"> <small ng-message="required">{{::\'Please enter a valid value.\' | translate}}</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addConfigurationForm.$valid)" value="{{::\'Save\' | translate}}"> </div> </form> '),e.put("app/project/manage/manage.tpl.html",'<organization-notifications organization-id="vm.project.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="ProjectChanged" refresh-action="vm.get(data)" refresh-throttle="10000"> <div class="col" refresh-on="TokenChanged" refresh-action="vm.getTokens()" refresh-throttle="10000"> <div class="wrapper-md" refresh-on="WebHookChanged" refresh-action="vm.getWebHooks()" refresh-throttle="10000"> <div class="panel panel-default" refresh-on="OrganizationChanged" refresh-action="vm.getOrganization()" refresh-debounce="10000"> <div class="panel-heading"> <i class="fa fa-th-list"></i> {{::\'Manage Project\' | translate}} {{ vm.project.name ? \' "\' + vm.project.name + \'"\' : \'\'}} </div> <div class="panel-body m-b-n"> <uib-tabset class="tab-container"> <uib-tab heading="{{::\'General\' | translate}}"> <div ng-include="\'app/project/manage/tabs/general.tpl.html\'"></div> </uib-tab> <uib-tab heading="{{::\'API Keys\' | translate}}"> <div ng-include="\'app/project/manage/tabs/api-keys.tpl.html\'"></div> </uib-tab> <uib-tab heading="{{::\'Settings\' | translate}}"> <div ng-include="\'app/project/manage/tabs/settings.tpl.html\'"></div> </uib-tab> <uib-tab heading="{{::\'Client Configuration\' | translate}}"> <div ng-include="\'app/project/manage/tabs/client-configuration.tpl.html\'"></div> </uib-tab> <uib-tab heading="{{::\'Integrations\' | translate}}"> <div ng-include="\'app/project/manage/tabs/integrations.tpl.html\'"></div> </uib-tab> </uib-tabset> </div> <footer class="panel-footer"> <div class="pull-right"> <a ui-sref="app.project-frequent({ projectId: vm.project.id })" class="btn btn-default" role="button"> <span class="visible-xs" title="{{::\'Go To Most Frequent\' | translate}}"><i class="fa fa-fw fa-signal"></i></span> <span class="hidden-xs">{{::\'Go To Most Frequent\' | translate}}</span></a> </div> <a ui-sref="app.organization.manage({ id: vm.project.organization_id })" class="btn btn-primary" role="button" title="{{::\'Manage Organization\' | translate}}"> <i class="fa fa-fw fa-group"></i> </a> <a ui-sref="app.account.manage({ tab: \'notifications\', projectId: vm.project.id })" class="btn btn-primary" role="button" title="{{::\'Manage Notification Settings\' | translate}}"> <i class="fa fa-fw fa-envelope"></i> </a> <a ui-sref="app.project.configure({ id: vm.project.id })" class="btn btn-primary" role="button" title="{{::\'Download & Configure Client\' | translate}}"> <i class="fa fa-fw fa-cloud-download"></i> </a> <div class="btn-group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-remove"></i> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li> <a ng-click="vm.resetData()" role="button">{{::\'Reset Project Data\' | translate}}</a> </li> <li> <a ng-click="vm.removeProject()" role="button">{{::\'Delete Project\' | translate}}</a> </li> </ul> </div> </footer> </div> </div> </div> </div> '),e.put("app/project/manage/tabs/api-keys.tpl.html",'<table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>{{::\'API Key\' | translate}}</th> <th class="hidden-xs">{{::\'Notes\' | translate}}</th> <th class="action-lg visible-xs">{{::\'Actions\' | translate}}</th> <th class="hidden-xs action-xxl">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="token in vm.tokens track by token.id"> <td><div class="control-group" ng-class="{\'text-l-t\': token.is_disabled}">{{::token.id}}</div></td> <td class="hidden-xs" ng-class="{\'row-clickable\': !rowform.$visible}" ng-click="rowform.$show()"> <div editable-text="token.notes" e-name="notes" e-form="rowform" onbeforesave="vm.validateApiKeyNote(token.notes, $data)" onaftersave="vm.saveApiKeyNote(token)"> {{token.notes}} </div> </td> <td> <form name="rowform" editable-form ng-show="rowform.$visible" class="form-buttons form-inline"> <button type="submit" role="button" ng-disabled="rowform.$waiting" class="btn btn-sm btn-primary"> {{::\'Save\' | translate}} </button> <button type="button" role="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-sm btn-default"> {{::\'Cancel\' | translate}} </button> </form> <div class="buttons" ng-show="!rowform.$visible"> <button type="button" role="button" class="btn btn-sm btn-primary" title="{{::\'Copy to Clipboard\' | translate}}" clipboard text="token.id" on-copied="vm.copied()" supported="vm.clipboardSupported" ng-show="vm.clipboardSupported"> <i class="fa fa-copy"></i> </button> <button type="button" role="button" class="btn btn-sm btn-default hidden-xs" ng-click="rowform.$show()"> {{::\'Edit\' | translate}} </button> <button ng-if="token.is_disabled" type="button" role="button" class="btn btn-sm btn-default hidden-xs" ng-click="vm.enable(token)"> {{::\'Enable\' | translate}} </button> <button ng-if="!token.is_disabled" type="button" role="button" class="btn btn-sm btn-default hidden-xs" ng-click="vm.disable(token)"> {{::\'Disable\' | translate}} </button> <button type="button" role="button" ng-click="vm.removeToken(token)" class="btn btn-sm btn-danger" title="{{::\'Delete\' | translate}}"> <i class="fa fa-times"></i> </button> </div> </td> </tr> <tr ng-if="vm.tokens.length === 0"> <td colspan="2" class="text-warning visible-xs"> {{::\'This project does not have an API Key.\' | translate}} </td> <td colspan="3" class="text-warning hidden-xs"> {{::\'This project does not have an API Key.\' | translate}} </td> </tr> </tbody> </table> <div class="table-footer text-right" ng-if="vm.tokensPrevious || vm.tokensNext"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.tokensCurrentOptions.page && vm.tokensCurrentOptions.page > 2"> <a ng-click="vm.getTokens({})"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.tokensPrevious}"> <a ng-disabled="!vm.tokensPrevious" ng-click="!vm.tokensPrevious || vm.tokensPreviousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.tokensNext}"> <a ng-disabled="!vm.tokensNext" ng-click="!vm.tokensNext || vm.tokensNextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> <button type="button" role="button" ng-click="vm.addToken()" class="btn btn-primary"> {{::\'New API Key\' | translate}} </button> '),e.put("app/project/manage/tabs/client-configuration.tpl.html",'<p ng-bind-html="\'NOTICE_CONFIGURATION\' | translate"></p> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>{{::\'Key\' | translate}}</th> <th>{{::\'Value\' | translate}}</th> <th class="action-lg">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="conf in vm.config track by conf.key"> <td> <div class="control-group">{{::conf.key}}</div> </td> <td ng-class="{\'row-clickable\': !rowform.$visible}" ng-click="rowform.$show()"> <div editable-text="conf.value" e-name="value" e-form="rowform" e-required onbeforesave="vm.validateClientConfiguration(conf.value, $data)" onaftersave="vm.saveClientConfiguration(conf, false)"> {{conf.value}} </div> </td> <td> <form name="rowform" editable-form ng-show="rowform.$visible" class="form-buttons form-inline"> <button type="submit" role="button" ng-disabled="rowform.$waiting" class="btn btn-sm btn-primary"> {{::\'Save\' | translate}} </button> <button type="button" role="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-sm btn-default"> {{::\'Cancel\' | translate}} </button> </form> <div class="buttons" ng-show="!rowform.$visible"> <button type="button" role="button" class="btn btn-sm btn-default" ng-click="rowform.$show()"> {{::\'Edit\' | translate}} </button> <button type="button" role="button" class="btn btn-sm btn-danger" title="{{::\'Delete\' | translate}}" ng-click="vm.removeConfig(conf)"> <i class="fa fa-times"></i> </button> </div> </td> </tr> <tr ng-if="vm.config.length === 0"> <td colspan="3">{{::\'This project does not contain any custom configuration settings.\' | translate}}</td> </tr> </tbody> </table> <button ng-click="vm.addConfiguration()" class="btn btn-primary">{{::\'New Client Configuration\' | translate}}</button> '),e.put("app/project/manage/tabs/general.tpl.html",'<form name="vm.projectForm" role="form" class="form-validation"> <div class="form-group"> <label for="name">{{::\'Project Name\' | translate}}</label> <div ng-class="{\'input-group\': !!vm.projectForm.$pending }"> <input id="name" name="name" type="text" class="form-control" placeholder="{{::\'Project Name\' | translate}}" ng-model="vm.project.name" ng-model-options="{ debounce: 500 }" ng-change="vm.save(vm.projectForm.$valid)" project-name-available-validator organization-id="vm.project.organization_id" ng-required="true" autofocus> <span class="input-group-addon" ng-if="vm.projectForm.$pending"> <i class="fa fa-fw fa-spinner fa-spin"></i> </span> </div> <div class="error" ng-messages="vm.projectForm.name.$error" ng-if="vm.projectForm.$submitted || vm.projectForm.name.$touched"> <small ng-message="required">{{::\'Project Name is required.\' | translate}}</small> <small ng-message="unique">{{::\'A project with this name already exists.\' | translate}}</small> </div> </div> <div class="form-group m-b-none"> <label>{{::\'Organization Name\' | translate}}</label> <input type="text" class="form-control" placeholder="{{::\'Organization Name\' | translate}}" ng-model="vm.project.organization_name" readonly> </div> <div ng-show="vm.hasMonthlyUsage"> <h4 style="margin-top: 20px">{{::\'Monthly Usage\' | translate}}</h4> <p> You are currently on the <a ng-if="vm.canChangePlan" ng-click="vm.changePlan()"><strong>{{vm.organization.plan_name}}</strong> plan</a> with <b ng-class="{\'text-warning\': vm.remainingEventLimit === 0}">{{vm.remainingEventLimit | number}}</b> events remaining until this billing period\'s limit is reset on <b>{{vm.next_billing_date | date: \'longDate\'}}</b> (<timeago date="vm.next_billing_date"></timeago>). <a ng-if="vm.canChangePlan" ng-click="vm.changePlan()">{{::\'Click here to change your plan or billing information.\' | translate}}</a> </p> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> <br class="clearfix"> <h6> <em>{{::\'The usage data above is refreshed periodically and may not reflect current totals.\' | translate}}</em> </h6> </div> </form> '),e.put("app/project/manage/tabs/integrations.tpl.html",'<div class="alert in fade alert-success" ng-if="!vm.hasPremiumFeatures"> <a ng-click="vm.showChangePlanDialog()">{{::\'Upgrade now\' | translate}}</a> {{::\'to enable integrations!\' | translate}} </div> <div> <h4>Zapier</h4> <p ng-bind-html="\'Notice_Zapier\' | translate"></p> <a role="button" href="https://zapier.com/apps/exceptionless/integrations" target="_blank" rel="noopener noreferrer" class="btn btn-primary">{{::\'Connect Zapier\' | translate}}</a> </div> <div ng-if="appVm.isSlackEnabled"> <h4>Slack</h4> <div ng-if="vm.project.has_slack_integration"> <p> {{::\'Choose how often you want to receive slack notifications for event occurrences in this project.\' | translate}} </p> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.slackNotificationSettings.send_daily_summary" ng-model-options="{ debounce: 500 }" ng-change="vm.saveSlackNotificationSettings()"> <i></i> {{::\'Send daily project summary\' | translate}} <strong>{{::\'(Coming soon!)\' | translate}}</strong> </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.slackNotificationSettings.report_new_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveSlackNotificationSettings()"> <i></i> {{::\'Notify me on new errors\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.slackNotificationSettings.report_critical_errors" ng-model-options="{ debounce: 500 }" ng-change="vm.saveSlackNotificationSettings()"> <i></i> {{::\'Notify me on critical errors\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.slackNotificationSettings.report_event_regressions" ng-model-options="{ debounce: 500 }" ng-change="vm.saveSlackNotificationSettings()"> <i></i> {{::\'Notify me on error regressions\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.slackNotificationSettings.report_new_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveSlackNotificationSettings()"> <i></i> {{::\'Notify me on new events\' | translate}} </label> </div> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.slackNotificationSettings.report_critical_events" ng-model-options="{ debounce: 500 }" ng-change="vm.saveSlackNotificationSettings()"> <i></i> {{::\'Notify me on critical events\' | translate}} </label> </div> </div> <p> <a ng-if="!vm.project.has_slack_integration" ng-click="vm.addSlack()" class="btn btn-primary" role="button" title="{{::\'Add to Slack\' | translate}}"> <i class="fa fa-fw fa-slack"></i> {{::\'Add Slack Notifications\' | translate}} </a> <a ng-if="vm.project.has_slack_integration" ng-click="vm.removeSlack()" class="btn btn-danger" role="button" title="{{::\'Remove Slack\' | translate}}"> <i class="fa fa-fw fa-slack"></i> {{::\'Remove Slack\' | translate}} </a> </p> </div> <h4>Web hooks</h4> <p ng-bind-html="\'Notice_Web_hooks\' | translate"></p> <table class="table table-striped table-bordered table-fixed b-t"> <thead> <tr> <th>{{::\'Url\' | translate}}</th> <th>{{::\'Event Types\' | translate}}</th> <th class="action">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="hook in vm.webHooks track by hook.id"> <td>{{::hook.url}}</td> <td> <span class="label label-success" ng-repeat="type in hook.event_types track by type">{{::type}}</span> </td> <td> <button type="button" role="button" class="btn btn-sm" title="{{::\'Delete\' | translate}}" ng-click="vm.removeWebHook(hook)"> <i class="fa fa-times"></i> </button> </td> </tr> <tr ng-if="vm.webHooks.length === 0"> <td colspan="3">{{::\'This project does not contain any integrations.\' | translate}}</td> </tr> </tbody> </table> <div class="table-footer text-right" ng-if="vm.webHooksPrevious || vm.webHooksNext"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.webHooksCurrentOptions.page && vm.webHooksCurrentOptions.page > 2"> <a ng-click="vm.getWebHooks({})"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.webHooksPrevious}"> <a ng-disabled="!vm.webHooksPrevious" ng-click="!vm.webHooksPrevious || vm.webHooksPreviousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.webHooksNext}"> <a ng-disabled="!vm.webHooksNext" ng-click="!vm.webHooksNext || vm.webHooksNextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> <button type="button" role="button" ng-click="vm.addWebHook()" class="btn btn-primary"> {{::\'Add Web Hook\' | translate}} </button> '),e.put("app/project/manage/tabs/settings.tpl.html",'<h4>{{::\'Default\' | translate}} {{::\'Log Level\' | translate}}</h4> <p ng-bind-html="\'Notice_Default_Log_Level\' | translate"></p> <log-level project-id="vm.project.id" source="\'*\'"></log-level> <h4>{{::\'Data Exclusions\' | translate}}</h4> <p ng-bind-html="\'Notice_Data_Exclusions\' | translate"></p> <input type="text" class="form-control" placeholder="{{::\'Example:\' | translate}} *Password*, CreditCard*, SSN" ng-model="vm.data_exclusions" ng-model-options="{ debounce: 500 }" ng-change="vm.saveDataExclusion()"> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.exclude_private_information" ng-model-options="{ debounce: 500 }" ng-change="vm.saveIncludePrivateInformation()"> <i></i> {{::\'Automatically remove user identifiable information from events (e.g., Machine Name, User Information, IP Addresses and more...).\' | translate}} </label> </div> <h4>{{::\'Error Stacking\' | translate}}</h4> <h5>{{::\'User Namespaces\' | translate}}</h5> <p ng-bind-html="\'Notice_Error_Stacking\' | translate"></p> <input type="text" class="form-control" placeholder="{{::\'Example:\' | translate}} Contoso" ng-model="vm.user_namespaces" ng-model-options="{ debounce: 500 }" ng-change="vm.saveUserNamespaces()"> <h5>{{::\'Common Methods\' | translate}}</h5> <p ng-bind-html="\'Notice_Common_Methods\' | translate"></p> <input type="text" class="form-control" placeholder="{{::\'Example:\' | translate}} Assert, Writeline" ng-model="vm.common_methods" ng-model-options="{ debounce: 500 }" ng-change="vm.saveCommonMethods()"> <h4>{{::\'Spam Detection\' | translate}}</h4> <p ng-bind-html="\'Notice_Spam_Detection\' | translate"></p> <input type="text" class="form-control" placeholder="{{::\'Example:\' | translate}} SpamBot" ng-model="vm.user_agents" ng-model-options="{ debounce: 500 }" ng-change="vm.saveUserAgents()"> <div class="checkbox"> <label class="checks"> <input type="checkbox" ng-model="vm.project.delete_bot_data_enabled" ng-model-options="{ debounce: 500 }" ng-change="vm.saveDeleteBotDataEnabled()"> <i></i> {{::\'Reduce noise by automatically hiding high volumes of events coming from a single client IP address.\' | translate}} </label> </div> '),e.put("app/reports/status.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa {{vm.icon}}"></i> {{vm.status | translate}} {{"Stacks" | translate}} </div> <stacks settings="vm.stacks"></stacks> </div> </div> </div> </div> '),e.put("app/session/events.tpl.html",'<organization-notifications requires-premium="true"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged PlanChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-area-chart fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Sessions\' | translate}}</span> <span class="sub">{{vm.stats.total}}</span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events Per Hour\' | translate}}</span> <span class="sub">{{vm.stats.avg_per_hour}}</span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-users fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Users\' | translate}}</span> <span class="sub">{{vm.stats.users}}</span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-clock-o fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Average Duration\' | translate}}</span> <span class="sub"><duration value="vm.stats.avg_duration"></duration></span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <i class="fa fa-bar-chart-o"></i> {{::\'Sessions and Users\' | translate}} <div class="pull-right"> <label class="switch bg-success"> <input type="checkbox" ng-model="vm.includeLiveFilter" ng-click="vm.updateLiveFilter()"> <i></i> </label> <div class="switch-text" ng-class="{\'text-success\': vm.includeLiveFilter}" ng-click="vm.updateLiveFilter()"> {{::\'View Active\' | translate}} </div> </div> </div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-area-chart"></i>{{::\'Recent Sessions\' | translate}}</div> <sessions settings="vm.recentSessions"></sessions> </div> </div> </div> </div> '),e.put("app/session/sessions-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged PlanChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <tr> <th>{{::\'Summary\' | translate}}</th> <th class="date">{{::\'Created\' | translate}}</th> <th class="date">{{::\'Duration\' | translate}}</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="event in vm.events track by event.id" ng-if="vm.events.length > 0"> <td ng-click="vm.open(event.id, $event)"> <div> <span ng-if="!event.data.SessionEnd" class="glyphicon glyphicon-one-fine-dot glyphicon-green" title="{{::\'Online\' | translate}}"></span> <summary source="event" show-type="vm.showType"></summary> </div> </td> <td ng-click="vm.open(event.id, $event)"> <abbr title="{{::\'DateTime\' | translate : event }}"> <timeago date="event.date"></timeago> </abbr> </td> <td ng-click="vm.open(event.id, $event)"> <abbr title="{{vm.getDuration(event)}} seconds"> <duration value="vm.getDuration(event)"></duration> </abbr> </td> </tr> <tr ng-if="vm.events.length === 0 || vm.loading"> <td colspan="3"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter() ? \'No sessions were found with the current filter.\': \'No sessions were found.\' | translate}}</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="text-center" ng-class="vm.previous || vm.next ? \'col-sm-8 col-xs-8\': \'col-sm-12 col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"> <a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.previous}"> <a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.next}"> <a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> </div> </div> </div> '),e.put("app/stack/add-reference-dialog.tpl.html",'<form name="addReferenceForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"> <i class="fa fa-external-link fa-fw"></i> {{::\'Please enter a Reference Link\' | translate}} </h4> </div> <div class="modal-body"> <div class="form-group"> <label for="url">{{::\'Reference Link\' | translate}}</label> <input id="url" name="url" type="url" class="form-control input-lg" placeholder="{{::\'Please enter a valid URL\' | translate}}" ng-model="vm.data.url" ng-required="true" autofocus> <div class="error" ng-messages="addReferenceForm.url.$error" ng-if="addReferenceForm.$submitted || addReferenceForm.url.$touched"> <small ng-message="required">{{::\'Reference Link is required.\' | translate}}</small> <small ng-message="url">{{::\'Reference Link is required.\' | translate}}</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(addReferenceForm.$valid)" value="{{::\'Save Reference Link\' | translate}}"> </div> </form> '),e.put("app/stack/stack.tpl.html",'<organization-notifications organization-id="vm.stack.organization_id"></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="StackChanged PersistentEventChanged" refresh-action="vm.get(data)" refresh-if="vm.canRefresh(data)" refresh-debounce="1000"> <div class="wrapper-md" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="row" refresh-always="PlanChanged" refresh-action="vm.get(data)"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events\' | translate}}</span> <span class="sub"> <abbr title="{{::\'In Date Range\' | translate}}"> {{vm.stats.events | number:0}} </abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()"> <abbr title="{{::\'All Time\' | translate}}" ng-if="vm.showAllTimeEvents()">{{vm.stack.total_occurrences | number:0}}</abbr>&nbsp </span> </span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-users fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'UserRatio\' | translate}}</span> <span class="sub"> <abbr title="{{vm.stats.usersTitle}}">{{vm.stats.users}}</abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()">&nbsp</span> </span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-arrow-circle-left fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'First\' | translate}}</span> <span class="sub visible-md visible-lg"> <abbr title="{{::\'First In Date Range\' | translate}}"> <timeago date="vm.stats.first_occurrence"></timeago> </abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()"> <abbr title="{{::\'First Ever\' | translate}}" ng-if="vm.showAllTimeFirstOccurrence()">{{vm.stack.first_occurrence | date:\'shortDate\' }}</abbr>&nbsp </span> </span> <span class="sub visible-sm"> <abbr title="{{::\'First In Date Range\' | translate}}"> <span ng-if="vm.isValidDate(vm.stats.first_occurrence)">{{vm.stats.first_occurrence | date:\'shortDate\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.first_occurrence)">never</span> </abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()"> <abbr title="{{::\'First Ever\' | translate}}" ng-if="vm.showAllTimeFirstOccurrence()">{{vm.stack.first_occurrence | date:\'shortDate\' }}</abbr>&nbsp </span> </span> <span class="sub visible-xs"> <abbr title="{{::\'First In Date Range\' | translate}}"> <span ng-if="vm.isValidDate(vm.stats.first_occurrence)">{{vm.stats.first_occurrence | date:\'M/d\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.first_occurrence)">NA</span> </abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()"> <abbr title="{{::\'First Ever\' | translate}}" ng-if="vm.showAllTimeFirstOccurrence()">{{vm.stack.first_occurrence | date:\'M/d/yy\' }}</abbr>&nbsp </span> </span> </div> </div> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-arrow-circle-right fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Last\' | translate}}</span> <span class="sub visible-md visible-lg"> <abbr title="{{::\'Last In Date Range\' | translate}}"> <timeago date="vm.stats.last_occurrence"></timeago> </abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()"> <abbr title="{{::\'Last Ever\' | translate}}" ng-if="vm.showAllTimeLastOccurrence()">{{vm.stack.last_occurrence | date:\'shortDate\' }}</abbr>&nbsp </span> </span> <span class="sub visible-sm"> <abbr title="{{::\'Last In Date Range\' | translate}}"> <span ng-if="vm.isValidDate(vm.stats.last_occurrence)">{{vm.stats.last_occurrence | date:\'shortDate\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.last_occurrence)">never</span> </abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()"> <abbr title="{{::\'Last Ever\' | translate}}" ng-if="vm.showAllTimeLastOccurrence()">{{vm.stack.last_occurrence | date:\'shortDate\' }}</abbr>&nbsp </span> </span> <span class="sub visible-xs"> <abbr title="{{::\'Last In Date Range\' | translate}}"> <span ng-if="vm.isValidDate(vm.stats.last_occurrence)">{{vm.stats.last_occurrence | date:\'M/d\' }}</span> <span ng-if="!vm.isValidDate(vm.stats.last_occurrence)">NA</span> </abbr> <span class="subAlternative" ng-if="vm.showAllTimeRow()"> <abbr title="{{::\'Last Ever\' | translate}}" ng-if="vm.showAllTimeLastOccurrence()">{{vm.stack.last_occurrence | date:\'M/d/yy\' }}</abbr>&nbsp </span> </span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> {{::\'Stack\' | translate}} <span class="labels"> <span class="label label-success" ng-if="vm.stack.fixed_in_version && vm.stack.status !== \'regressed\'"> <span class="hidden-xs">{{\'Fixed_With_Version\' | translate : vm.stack}}</span> </span> <span class="label label-info" ng-if="vm.stack.status === \'snoozed\'"> <span class="hidden-xs"> {{::\'Opening\' | translate}} <timeago date="vm.stack.snooze_until_utc"></timeago> </span> </span> </span> <div class="btn-toolbar pull-right hidden-print" role="toolbar" aria-label="Stack Options"> <div class="btn-group btn-group-sm" role="group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <span class="visible-xs-inline"><i class="fa fa-fw fa-gear fa-size-sm"></i></span> <span class="hidden-xs">{{::\'Options\' | translate}}</span> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li> <a ng-click="vm.updateCritical()" title="{{::\'All future occurrences will be marked as critical\' | translate}}"><i ng-if="vm.showActionIcons()" class="fa fa-fw" ng-class="{\'fa-check\': vm.stack.occurrences_are_critical}"></i>{{::\'Future Occurrences Are Critical\' | translate}}</a> </li> <li class="divider"></li> <li> <a ng-click="vm.promoteToExternal()" title="{{::\'Used to promote stacks to external systems.\' | translate}}"><i ng-if="vm.showActionIcons()" class="fa fa-fw"></i>{{::\'Promote To External\' | translate}}</a> </li> <li> <a ng-click="vm.addReferenceLink()" title="{{::\'Add a reference link to an external resource.\' | translate}}"><i ng-if="vm.showActionIcons()" class="fa fa-fw"></i>{{::\'Add Reference Link\' | translate}}</a> </li> <li class="divider"></li> <li> <a ng-click="vm.remove()" title="{{::\'Delete this stack\' | translate}}"><i ng-if="vm.showActionIcons()" class="fa fa-fw"></i>{{::\'Delete\' | translate}}</a> </li> </ul> </div> </div> <div class="btn-toolbar pull-right hidden-print" style="margin-right: 10px" role="toolbar" aria-label="Status"> <div class="btn-group btn-group-sm" role="group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <span>{{::\'Status\' | translate}}: {{vm.stack.status | translate}}</span> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li ng-class="{\'active\': vm.stack.status == \'open\'}"> <a ng-click="vm.updateOpen()" title="{{::\'Mark this stack as open\' | translate}}">{{::\'open\' | translate}}</a> </li> <li ng-class="{\'active\': vm.stack.status == \'fixed\'}"> <a ng-click="vm.updateFixed()" title="{{::\'Mark this stack as fixed\' | translate}}">{{\'fixed\' | translate}}</a> </li> <li class="dropdown-submenu" ng-class="{\'active\': vm.stack.status == \'snoozed\'}"> <a ng-click="vm.updateSnooze()" title="{{::\'Hide this stack from reports and mutes occurrence notifications\' | translate}}"> {{::\'snoozed\' | translate}} <span class="caret"></span> </a> <ul class="dropdown-menu"> <li><a ng-click="vm.updateSnooze(\'6hours\')">{{::\'6 Hours\' | translate}}</a></li> <li><a ng-click="vm.updateSnooze(\'day\')">{{::\'1 Day\' | translate}}</a></li> <li><a ng-click="vm.updateSnooze(\'week\')">{{::\'1 Week\' | translate}}</a></li> <li><a ng-click="vm.updateSnooze(\'month\')">{{::\'1 Month\' | translate}}</a></li> </ul> </li> <li ng-class="{\'active\': vm.stack.status == \'ignored\'}"> <a ng-click="vm.updateIgnore()" title="{{::\'Stop sending occurrence notifications for this stack\' | translate}}">{{::\'ignored\' | translate}}</a> </li> <li ng-class="{\'active\': vm.stack.status == \'discarded\'}"> <a ng-click="vm.updateDiscard()" title="{{::\'All future occurrences will be discarded and will not count against your event limit.\' | translate}}">{{::\'discarded\' | translate}}</a> </li> </ul> </div> </div> <log-level ng-if="vm.stack.type == \'log\'" class="pull-right" project-id="vm.project.id" source="vm.stack.signature_info.Source"></log-level> </div> <div class="panel-body"> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tbody> <tr> <th>{{::\'Title\' | translate}}</th> <td><span truncate lines="3">{{vm.stack.title}}</span></td> </tr> <tr> <th>{{::\'Project\' | translate}}</th> <td> <a ui-sref="app.project-frequent({ projectId: vm.project.id })">{{vm.project.name}}</a> </td> </tr> <tr ng-if="(vm.stack.date_fixed && vm.stack.status !== \'regressed\')"> <th>{{::\'Date Fixed\' | translate}}</th> <td><span>{{\'DateTime\' | translate : {\'date\' : vm.stack.date_fixed} }}</span></td> </tr> <tr ng-if="vm.stack.description"> <th>{{::\'Description\' | translate}}</th> <td><span truncate lines="2">{{vm.stack.description}}</span></td> </tr> <tr ng-if="vm.stack.tags.length > 0"> <th>{{::\'Tags\' | translate}}</th> <td> <span class="label label-info" ng-repeat="tag in vm.stack.tags.slice(0,25) track by tag">{{::tag}}</span> </td> </tr> <tr ng-if="vm.stack.references.length > 0"> <th> {{(vm.stack.references.length > 1) ? \'Reference Links\' : \'Reference Link\' | translate}} </th> <td> <ul ng-if="vm.stack.references.length > 1"> <li ng-repeat="reference in vm.stack.references track by reference"> <a ng-href="{{::reference}}" target="_blank">{{::reference}}</a> <a class="delete-link" ng-click="vm.removeReferenceLink(reference)"><i class="fa fa-fw fa-times"></i></a> </li> </ul> <div ng-if="vm.stack.references.length === 1"> <a ng-href="{{::vm.stack.references[0]}}" target="_blank">{{::vm.stack.references[0]}}</a> <a class="delete-link" ng-click="vm.removeReferenceLink(vm.stack.references[0])"><i class="fa fa-fw fa-times"></i></a> </div> </td> </tr> </tbody> </table> <h4>{{::\'Stacking Information\' | translate}}</h4> <table class="table table-striped table-bordered table-fixed table-key-value b-t"> <tbody> <tr ng-repeat="(key, value) in vm.stack.signature_info track by key"> <th>{{key | translate}}</th> <td>{{value}}</td> </tr> </tbody> </table> <div> <div class="btn-group btn-group-xs pull-right" role="group"> <button type="button" role="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <span class="visible-xs-inline"><i class="fa fa-fw fa-gear"></i></span> <span class="hidden-xs">{{::\'Chart Options\' | translate}}</span> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li ng-repeat="o in vm.chartOptions | filter: { render: true } track by o.field"> <a ng-click="o.selected = !o.selected; vm.updateStats();" title="{{::o.title}}"><i class="fa fa-fw" ng-class="{\'fa-check\': !!o.selected}" ng-if="vm.hasSelectedChartOption()"></i>{{::o.menuName}}</a> </li> </ul> </div> <div class="clearfix"></div> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-fw fa-calendar"></i> {{::\'Recent Occurrences\' | translate}}</div> <events settings="vm.recentOccurrences"></events> </div> </div> </div> '),e.put("app/status/status.tpl.html",'<div class="container w-auto-xs"> <div class="text-center"> <a href="https://exceptionless.com"> <img src="/img/exceptionless-350.png" alt="logo"> </a> </div> <div class="hbox hbox-auto-xs hbox-auto-sm"> <div class="col"> <div class="wrapper-md"> <div class="panel panel-default"> <div class="panel-heading text-center"><strong>{{::\'Service Status\' | translate}}</strong></div> <div class="panel-body">{{vm.getMessage() | translate}}</div> </div> </div> </div> </div> </div> '),e.put("app/users.tpl.html",'<organization-notifications></organization-notifications> <div class="hbox hbox-auto-xs hbox-auto-sm" refresh-on="PersistentEventChanged PlanChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="col" refresh-on="filterChanged" refresh-action="vm.get()"> <div class="wrapper-md"> <div class="row"> <div class="col-sm-12"> <div class="row row-sm text-center"> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.events[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-calendar fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events\' | translate}}</span> <span class="sub">{{vm.stats.events}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.frequent[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-key fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Stacks\' | translate}}</span> <span class="sub">{{vm.stats.stacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <a ng-href="{{appVm.urls.new[vm.type]}}" class="dashboard-block"> <div class="rotate"> <i class="fa fa-asterisk fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'New Stacks\' | translate}}</span> <span class="sub">{{vm.stats.newStacks}}</span> </div> <i class="fa fa-chevron-right fa-2x more"></i> </a> </div> <div class="col-md-3 col-sm-6 col-xs-6"> <div class="dashboard-block"> <div class="rotate"> <i class="fa fa-line-chart fa-4x"></i> </div> <div class="details"> <span class="title">{{::\'Events Per Hour\' | translate}}</span> <span class="sub">{{vm.stats.avg_per_hour}}</span> </div> </div> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-bar-chart-o"></i>{{::\'History\' | translate}}</div> <div class="panel-body"> <rickshaw options="vm.chart.options" features="vm.chart.features"></rickshaw> </div> </div> <div class="panel panel-default"> <div class="panel-heading"><i class="fa fa-users"></i> {{::\'Most Users Stacks\' | translate}}</div> <stacks settings="vm.mostUsers"></stacks> </div> </div> </div> </div> '),e.put("components/billing/change-plan-dialog.tpl.html",'<form name="vm.changePlanForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-notify"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-credit-card fa-fw"></i> {{::\'Exceptionless Plan\' | translate}}</h4> </div> <div class="modal-body"> <div class="alert alert-danger" role="alert" ng-if="vm.paymentMessage"> <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> {{vm.paymentMessage}} </div> <div class="form-group" ng-if="vm.organizations.length > 1"> <label for="organization">{{::\'Organization to change\' | translate}}</label> <select id="organization" class="form-control" ng-change="vm.changeOrganization()" ng-model="vm.currentOrganization" ng-disabled="!vm.isBillingEnabled()" ng-options="organization.name for organization in vm.organizations track by organization.id"></select> </div> <p ng-bind-html="\'Organization_Payment_Plan\' | translate:{organization: vm.currentOrganization.name, planName: vm.currentOrganization.plan_name}"></p> <div class="form-group"> <label for="plan" ng-bind-html="\'Payment_Select_New_Plan\' | translate"></label> <select id="plan" class="form-control" ng-init="vm.currentPlan = vm.plans[0]" ng-model="vm.currentPlan" ng-disabled="!vm.isBillingEnabled()" ng-options="plan.description for plan in vm.plans track by plan.id" autofocus></select> </div> <div ng-if="vm.isPaidPlan()"> <div ng-if="!vm.hasAdminRole()"> <h4>{{::\'Credit Card\' | translate}}</h4> <div class="row" ng-if="vm.hasExistingCard()"> <div class="form-group col-sm-6"> <div class="radio"> <label class="checks"> <input type="radio" class="form-control" ng-model="vm.card.mode" ng-disabled="!vm.isBillingEnabled()" value="existing"> <i></i> {{::\'Credit_Card_Ending\' | translate:vm.currentOrganization }} </label> </div> </div> <div class="form-group col-sm-6"> <div class="radio"> <label class="checks"> <input type="radio" class="form-control" ng-model="vm.card.mode" ng-disabled="!vm.isBillingEnabled()" value="new"> <i></i> {{::\'Use a new credit card\' | translate}} </label> </div> </div> </div> <div ng-if="vm.isNewCard()"> <div class="row"> <div class="form-group col-xs-8"> <label for="cardNumber">{{::\'Card number\' | translate}}</label> <div class="input-group"> <input id="cardNumber" type="text" class="form-control" placeholder="   " x-autocompletetype="cc-number" ng-model="vm.card.number" payments-validate="card" payments-format="card" payments-type-model="vm.card.type" ng-disabled="!vm.isBillingEnabled()" ng-required="true"> <span class="input-group-addon"><img ng-src="/img/cards/{{ vm.card.type ? vm.card.type : \'placeholder\' }}.png" alt="Card Type"></span> </div> </div> <div class="form-group col-xs-4"> <label for="cardExpiry">{{::\'Expires\' | translate}}</label> <input id="cardExpiry" type="text" class="form-control" placeholder="MM / YY" x-autocompletetype="cc-exp" ng-model="vm.card.expiry" ng-disabled="!vm.isBillingEnabled()" payments-validate="expiry" payments-format="expiry" ng-required="true"> </div> </div> <div class="row"> <div class="form-group col-xs-8"> <label for="cardName">{{::\'Name on card\' | translate}}</label> <input id="cardName" type="text" class="form-control" placeholder="{{::\'Name on card\' | translate}}" x-autocompletetype="full-name" autocapitalize="words" autocorrect="off" spellcheck="false" ng-model="vm.card.name" ng-disabled="!vm.isBillingEnabled()" ng-required="true"> </div> <div class="form-group col-xs-4"> <label for="cardCVC">{{::\'Card code\' | translate}}</label> <input id="cardCVC" type="text" class="form-control" placeholder="CVC" x-autocompletetype="cc-csc" autocomplete="off" ng-model="vm.card.cvc" ng-disabled="!vm.isBillingEnabled()" payments-validate="cvc" payments-format="cvc" payments-type-model="vm.card.type" ng-required="true"> </div> </div> </div> </div> <div class="form-group" ng-if="!vm.hasExistingCard()"> <label for="couponId">{{::\'Coupon code\' | translate}}</label> <input id="couponId" type="text" class="form-control" placeholder="{{::\'Coupon code\' | translate}}" ng-model="vm.coupon" ng-disabled="!vm.isBillingEnabled()"> </div> </div> <div ng-if="vm.isCancellingPlan()"> <p><strong>{{::\'Help us improve Exceptionless!\' | translate}}</strong></p> <p> We hate to see you downgrade, but we\'ll be more than happy to take care of that for you. Use the <a ng-click="vm.showIntercom()">Contact Us</a> button below to let us know why you\'re downgrading, so we can serve you better in the future. </p> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <span ng-if="vm.isCancellingPlan()"> <button type="submit" role="button" class="btn btn-primary" ng-click="vm.showIntercom()"> {{::\'Contact Us\' | translate}} </button> </span> <span ng-if="!vm.isCancellingPlan()"> <button type="submit" role="button" class="btn btn-primary" promise-button="vm.save(vm.changePlanForm.$valid)" promise-button-busy-text="{{::\'Changing Plan\' | translate}}"> {{::\'Change Plan\' | translate}} </button> </span> </div> </form> '),e.put("components/date-filter/custom-date-range-dialog.tpl.html",'<form name="addDateRangeForm" role="form" class="form-validation"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title">{{::\'Select Date Range\' | translate}}</h4> </div> <div class="modal-body"> <date-range-picker range="vm.range" min-date="vm.minDate" max-date="vm.maxDate" time-picker="true" time-picker-seconds="true" time-picker12-hour="true"> </date-range-picker> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save()" value="{{::\'Apply\' | translate}}"> </div> </form> '),e.put("components/date-filter/date-filter-directive.tpl.html",'<li class="dropdown" refresh-on="filterChanged" refresh-action="vm.updateFilterDisplayName()"> <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" refresh-on="filterChanged" refresh-action="vm.updateFilterDisplayName()"> {{vm.filteredDisplayName | translate}} <span class="caret"></span> </a> <ul class="dropdown-menu"> <li ng-class="{ active: vm.isActive(\'last hour\')}"> <a ng-click="vm.setFilter(\'last hour\')">{{::\'Last Hour\' | translate}}</a> </li> <li ng-class="{ active: vm.isActive(\'last 24 hours\')}"> <a ng-click="vm.setFilter(\'last 24 hours\')">{{::\'Last 24 Hours\' | translate}}</a> </li> <li ng-class="{ active: vm.isActive(\'last week\')}"> <a ng-click="vm.setFilter(\'last week\')">{{::\'Last Week\' | translate}}</a> </li> <li ng-class="{ active: vm.isActive(\'last 30 days\')}"> <a ng-click="vm.setFilter(\'last 30 days\')">{{::\'Last 30 Days\' | translate}}</a> </li> <li ng-class="{ active: vm.isActive(\'all\')}"> <a ng-click="vm.setFilter(\'all\')">{{::\'All Time\' | translate}}</a> </li> <li role="separator" class="divider hidden-xs"></li> <li ng-class="{ active: vm.isActive(\'Custom\')}" class="hidden-xs"> <a ng-click="vm.setCustomFilter()">{{::\'Custom\' | translate}}</a> </li> </ul> </li> '),e.put("components/date-range-picker/date-range-picker-directive.tpl.html",'<div id="datepicker" class="input-daterange"> <div class="input-group"> <input type="text" class="input-small form-control" name="start" ng-model="range.start" autofocus> <span class="input-group-addon">{{::\'to\' | translate}}</span> <input type="text" class="input-small form-control" name="end" ng-model="range.end"> </div> </div> '),e.put("components/dialog/confirm-dialog.tpl.html",'<div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> {{::vm.header}} </h4> </div> <div class="modal-body" ng-bind-html="vm.message"></div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()" autofocus> {{::\'Cancel\' | translate}} </button> <button type="button" role="button" class="btn btn-primary btn-dialog-confirm" ng-class="{\'btn-danger\': !!vm.danger}" ng-click="vm.confirm()"> {{vm.confirmButtonText}} </button> </div> '),e.put("components/dialog/json-dialog.tpl.html",'<div class="modal-header dialog-header-json"> <button type="button" role="button" class="close" ng-click="vm.close()">&times;</button> <h4 class="modal-title"> <span class="fa fa-code"></span> {{::vm.header}} </h4> </div> <div class="modal-body"> <pre class="json-content" ng-bind="vm.json"></pre> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.close()"> {{::\'DIALOGS_CLOSE\' | translate}} </button> <button type="button" role="button" class="btn btn-primary btn-dialog-copy" ng-click="vm.copy()" autofocus ng-show="vm.showCopyButton"> {{vm.copyButtonText}} </button> </div> '),e.put("components/events/events-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged PlanChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <tr> <th class="selection hidden-xs" ng-if="vm.actions.length > 0"> <label class="checks m-b-none"> <input type="checkbox" ng-click="vm.updateSelection()" ng-checked="vm.selectedIds.length > 0" ng-disabled="vm.events.length === 0"><i></i> </label> </th> <th>{{::\'Summary\' | translate}}</th> <th class="action-xl hidden-xs" ng-if="vm.showIPAddress">{{::\'IP\'}}</th> <th class="action-xl hidden-xs">{{::\'User\' | translate}}</th> <th class="clickable" ng-class="{ \'relative-date\': vm.relativeTo(), \'date\': !vm.relativeTo(), \'dropup\': !vm.sortByDateDescending }" ng-click="vm.toggleDateSort()"> <abbr title="{{::vm.sortByDateDescending ? \'Sort Descending\' : \'Sort Ascending\' | translate}}"> {{::vm.timeHeaderText | translate}} <span class="caret"></span> </abbr> </th> </tr> </thead> <tbody> <tr ng-repeat="event in vm.events track by event.id" ng-if="vm.events.length > 0" ng-class="{ \'row-clickable\': vm.currentEventId !== event.id, \'row-selected\': vm.currentEventId === event.id }"> <td class="hidden-xs" ng-if="vm.actions.length > 0"> <label class="checks m-b-none"><input type="checkbox" checklist-model="vm.selectedIds" checklist-value="event.id"><i></i></label> </td> <td ng-click="vm.open(event.id, $event)"> <summary source="event" show-type="vm.showType"></summary> </td> <td ng-click="vm.open(event.id, $event)" ng-if="vm.showIPAddress"> <span ng-if="event.data && event.data.IpAddress"> <span ng-if="event.data.IpAddress.length === 1">{{::event.data.IpAddress[0]}}</span> <abbr ng-if="event.data.IpAddress.length > 1" title="{{::event.data.IpAddress.join(\',\')}}">{{::event.data.IpAddress[0]}}</abbr> </span> </td> <td class="hidden-xs" ng-click="vm.open(event.id, $event)"> <abbr ng-if="event.data.Name && event.data.Identity" title="{{::event.data.Name}} ({{::event.data.Identity}})" truncate overwrite-tooltip="false" ng-bind-template="{{::event.data.Name}}"></abbr> <span ng-if="!event.data.Name || !event.data.Identity" truncate ng-bind-template="{{::(event.data.Name || event.data.Identity)}}"></span> </td> <td ng-click="vm.open(event.id, $event)"> <span ng-if="vm.hideSessionStartTime && event.data.Type === \'session\'">--</span> <span ng-if="!vm.hideSessionStartTime || event.data.Type !== \'session\'"> <abbr title="{{::\'DateTime\' | translate:event}}"> <span ng-if="vm.relativeTo()">{{::vm.afterRelativeText(event)}}<relative-time to="vm.relativeTo()" date="event.date"></relative-time>{{::vm.beforeRelativeText(event)}}</span> <span ng-if="!vm.relativeTo()"><timeago date="event.date"></timeago></span> </abbr> </span> </td> </tr> <tr ng-if="vm.events.length === 0 || vm.loading"> <td class="hidden-xs" ng-if="vm.actions.length > 0"> <label class="checks m-b-none"><input type="checkbox" disabled><i></i></label> </td> <td colspan="3"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter() ? \'No events were found with the current filter.\': \'No events were found.\' | translate}}</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="col-sm-4 hidden-xs"> <div class="dropdown" ng-if="vm.actions.length > 0"> <button type="button" role="button" id="bulkActions" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> {{::\'Bulk Action\' | translate}} <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="bulkActions"> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-repeat="action in vm.actions" ng-click="vm.save(action)">{{::action.name | translate}}</a> </li> </ul> </div> </div> <div class="col-sm-4 text-center" ng-class="vm.previous || vm.next ? \'col-xs-8\': \'col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"> <a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.previous}"> <a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.next}"> <a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> </div> </div> </div> '),e.put("components/intercom/intercom-directive.tpl.html",'<div> <div refresh-on="UserChanged" refresh-action="vm.getUser(true)" refresh-debounce="10000" refresh-stopping="vm.shutdown()"></div> <div refresh-on="OrganizationChanged" refresh-action="vm.getOrganizations(true)" refresh-debounce="10000"></div> <div refresh-on="ProjectChanged" refresh-action="vm.getProjects(true)" refresh-debounce="10000"></div> <div refresh-on="filterChanged" refresh-action="vm.updateIntercom(true)" refresh-debounce="10000"></div> <div refresh-on="$stateChangeSuccess" refresh-action="vm.hide()" refresh-debounce="1000"></div> </div> '),e.put("components/log-level/log-level-directive.tpl.html",'<div class="btn-toolbar hidden-print" style="margin-right: 10px" role="toolbar" aria-label="Log Level" refresh-on="ProjectChanged" refresh-action="vm.get()" refresh-if="vm.canRefresh(data)" refresh-throttle="10000"> <div class="btn-group btn-group-sm" role="group"> <button type="button" role="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <span>{{::\'Log Level\' | translate}}: <span ng-if="vm.loading">{{\'Loading...\' | translate}}</span> <span ng-if="!vm.loading">{{(vm.level || vm.defaultLevel) | translate}}</span> </span> <span ng-if="!vm.level && !vm.loading">({{::\'Default\' | translate}})</span> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li ng-class="{\'active\': vm.level == \'trace\'}"> <a ng-click="vm.setLogLevel(\'trace\')">{{::\'trace\' | translate}}</a> </li> <li ng-class="{\'active\': vm.level == \'debug\'}"> <a ng-click="vm.setLogLevel(\'debug\')">{{::\'debug\' | translate}}</a> </li> <li ng-class="{\'active\': vm.level == \'info\'}"> <a ng-click="vm.setLogLevel(\'info\')">{{::\'info\' | translate}}</a> </li> <li ng-class="{\'active\': vm.level == \'warn\'}"> <a ng-click="vm.setLogLevel(\'warn\')">{{::\'warn\' | translate}}</a> </li> <li ng-class="{\'active\': vm.level == \'error\'}"> <a ng-click="vm.setLogLevel(\'error\')">{{::\'error\' | translate}}</a> </li> <li ng-class="{\'active\': vm.level == \'fatal\'}"> <a ng-click="vm.setLogLevel(\'fatal\')">{{::\'fatal\' | translate}}</a> </li> <li ng-class="{\'active\': vm.level == \'off\'}"> <a ng-click="vm.setLogLevel(\'off\')">{{::\'off\' | translate}}</a> </li> <li ng-if="vm.level && vm.source != \'*\' && !vm.loading" role="separator" class="divider"></li> <li ng-if="vm.level && vm.source != \'*\' && !vm.loading"> <a ng-click="vm.setDefaultLogLevel()">{{::\'Default\' | translate}} ({{vm.defaultLevel | translate}})</a> </li> </ul> </div> </div> '),e.put("components/organization-notifications/organization-notifications-directive.tpl.html",'<div> <div ng-if="vm.hasNotifications" refresh-on="filterChanged" refresh-action="vm.onFilterChanged()"> <div refresh-on="OrganizationChanged ProjectChanged PersistentEventChanged PlanChanged PlanOverage" refresh-action="vm.get()" refresh-throttle="10000"></div> <div class="alert alert-success alert-banner m-b-none" ng-if="!vm.hasOrganizations()"> <h4>{{::"Setup your first project" | translate}}</h4> <p> Please <a ui-sref="app.project.add">add a new project</a> and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasOrganizationsWithNoProjects()"> <h4>{{::"Setup your first project" | translate}}</h4> <p> <strong ng-repeat="organization in vm.organizationsWithNoProjects"> <span ng-if="!$first">, </span><a ui-sref="app.project.add({ organizationId: organization.id })">{{organization.name}}</a> </strong> currently has no projects. <a ui-sref="app.project.add({ organizationId: vm.organizationsWithNoProjects[0].id })">Add a new project</a> and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasProjectsRequiringConfiguration()"> <h4>{{::"We haven\'t received any data!" | translate}}</h4> <p> Please configure your clients for <strong ng-repeat="project in vm.projectsRequiringConfiguration"> <span ng-if="!$first">, </span><a ui-sref="app.project.configure({ id: project.id, redirect: true })" title="{{::\'Configure_Project_Title\' | translate:{projectName: project.name, organizationName: project.organization_name} }}">{{project.name}}</a> </strong> projects and start becoming exceptionless in less than 60 seconds! </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasSuspendedOrganizations()"> <h4> <span ng-repeat="organization in vm.suspendedOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> has been suspended. </h4> <p> <em>{{::\'Please note that while your account is suspended all new client events will be discarded.\' | translate}}</em> </p> <p ng-if="vm.hasSuspendedForBillingOrganizations()"> To unsuspend <strong ng-repeat="organization in vm.suspendedForBillingOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </strong> , please <a ng-click="vm.showChangePlanDialog(vm.suspendedForBillingOrganizations[0].id)">update your billing information</a>. </p> <p ng-if="vm.hasSuspendedForAbuseOrOverageOrNotActiveOrganizations()"> <strong ng-repeat="organization in vm.suspendedForAbuseOrOverageOrNotActiveOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </strong> has exceeded the plan limits. To unsuspend your account, please <a ng-click="vm.showChangePlanDialog(vm.suspendedForAbuseOrOverageOrNotActiveOrganizations[0].id)">upgrade your plan</a>. </p> <p ng-if="vm.isIntercomEnabled()"> Please <a ng-click="appVm.showIntercom()">contact us</a> for more information on why your account was suspended. </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasExceededRequestLimitOrganizations()"> <h4> {{::\'API requests are currently being throttled for\' | translate}} <span ng-repeat="organization in vm.exceededRequestLimitOrganizations"> <span ng-if="!$first">, </span>{{organization.name}} </span> </h4> <p ng-if="vm.isIntercomEnabled()"> Please <a ng-click="appVm.showIntercom()">contact us</a> for more information. </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasHourlyOverageOrganizations()"> <h4> {{::\'Events are currently being throttled for\' | translate}} <span ng-repeat="organization in vm.hourlyOverageOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> </h4> <p> {{::\'Events are currently being throttled to prevent using up your plan limit in a small window of time.\' | translate}} <a ng-click="vm.showChangePlanDialog(vm.hourlyOverageOrganizations[0].id)">{{::\'Upgrade now\' | translate}}</a> {{::\'to increase your limits.\' | translate}} </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasMonthlyOverageOrganizations()"> <h4> <span ng-repeat="organization in vm.monthlyOverageOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> {{::\'has reached its monthly plan limit.\' | translate}} </h4> <p> <a ng-click="vm.showChangePlanDialog(vm.monthlyOverageOrganizations[0].id)">{{::\'Upgrade now\' | translate}}</a> {{::\'to continue receiving events.\' | translate}} </p> </div> <div class="alert alert-danger alert-banner m-b-none" ng-if="vm.hasOrganizationsWithoutPremiumFeatures()"> <h4> <span ng-repeat="organization in vm.organizationsWithoutPremiumFeatures"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> {{::\'is attempting to use a premium feature.\' | translate}} </h4> <p> <a ng-click="vm.showChangePlanDialog(vm.organizationsWithoutPremiumFeatures[0].id)">{{::\'Upgrade now\' | translate}}</a> {{::\'to enable search and other premium features!\' | translate}} </p> </div> <div class="alert alert-success alert-banner m-b-none" ng-if="vm.hasFreeOrganizations()"> <h4> <span ng-repeat="organization in vm.freeOrganizations"> <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)">{{organization.name}}</a> </span> {{::\'is currently on a free plan.\' | translate}} </h4> <p> <a ng-click="vm.showChangePlanDialog(vm.freeOrganizations[0].id)">{{::\'Upgrade now\' | translate}}</a> {{::\'to enable premium features and extra storage!\' | translate}} </p> </div> </div> </div> '),e.put("components/project-filter/project-filter-directive.tpl.html",'<li class="dropdown" refresh-on="OrganizationChanged ProjectChanged" refresh-action="vm.get()" refresh-throttle="5000"> <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" refresh-on="filterChanged" refresh-action="vm.update()"> {{vm.filteredDisplayName | translate}} <span class="caret"></span> </a> <ul class="dropdown-menu w-xl scrollable-menu" ng-style="{\'max-height\': vm.filterDropDownMaxHeight + \'px\'}" auto-active> <li ng-if="vm.showSearch()"> <div class="form-group" style="padding: 0px 10px"> <input name="search" type="search" class="form-control" placeholder="{{::\'Filter\' | translate}}" autocomplete="off" ng-model="vm.filter" ng-model-options="{ debounce: 500 }"> </div> </li> <li><a ng-href="{{vm.urls.projects.all}}">{{::\'All Projects\' | translate}}</a></li> <li role="separator" class="divider"></li> <li ng-if="vm.isLoadingOrganizations" disabled><a href="#">{{::\'Loading Organizations...\' | translate}}</a></li> <li ng-repeat-start="organization in vm.getFilteredOrganizations() | orderBy: \'name\' track by organization.id" class="heading-menu"> <a ng-href="{{vm.urls.organizations[organization.id]}}"> {{::organization.name}} <span class="icon-right" ui-sref="app.organization.manage({ id: organization.id })" show-on-hover-parent><i class="fa fa-gear fa-fw"></i></span> </a> </li> <li ng-if="vm.isLoadingProjects" class="child-menu" disabled> <a href="#">{{::\'Loading Projects...\' | translate}}</a> </li> <li ng-repeat="project in vm.getFilteredProjectsByOrganizationId(organization.id) | orderBy: \'name\' track by project.id" class="child-menu"> <a ng-href="{{vm.urls.projects[project.id]}}"> {{::project.name}} <span class="icon-right" ui-sref="app.project.manage({ id: project.id })" show-on-hover-parent><i class="fa fa-gear fa-fw"></i></span> </a> </li> <li ng-repeat-end role="separator" class="divider"></li> <li><a ui-sref="app.project.add">{{::\'Add New Project\' | translate}}</a></li> </ul> </li> '),e.put("components/projects/projects-directive.tpl.html",'<div class="table-responsive" refresh-on="OrganizationChanged ProjectChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="PersistentEventChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions, false)" refresh-throttle="10000"> <thead refresh-always="PlanChanged" refresh-action="vm.get(vm.currentOptions, false)"> <tr> <th>{{::\'Name\' | translate}}</th> <th ng-if="vm.includeOrganizationName">{{::\'Organization\' | translate}}</th> <th class="number hidden-xs"> <abbr title="{{::\'Total number of stacks\' | translate}}">{{::\'Stacks\' | translate}}</abbr> </th> <th class="number hidden-xs"> <abbr title="{{::\'Total number of events within the retention period\' | translate}}">{{::\'Events\' | translate}}</abbr> </th> <th class="action">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="project in vm.projects | orderBy: \'name\' track by project.id" ng-if="vm.hasProjects()"> <td ng-click="vm.open(project.id, $event)">{{project.name}}</td> <td ng-if="vm.includeOrganizationName" ng-click="vm.open(project.id, $event)"> {{project.organization_name}} </td> <td ng-click="vm.open(project.id, $event)" class="number hidden-xs"> {{project.stack_count | number:0}} </td> <td ng-click="vm.open(project.id, $event)" class="number hidden-xs"> {{project.event_count | number:0}} </td> <td> <div class="btn-group"> <button type="button" role="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li> <a ui-sref="app.project-frequent({ projectId: project.id })"><i class="fa fa-fw fa-signal"></i> {{::\'Project Most Frequent\' | translate}}</a> </li> <li> <a ui-sref="app.project.manage({ id: project.id })"><i class="fa fa-fw fa-edit"></i> {{::\'Edit\' | translate}}</a> </li> <li> <a ui-sref="app.project.configure({ id: project.id })"><i class="fa fa-fw fa-cloud-download"></i> {{::\'Download & Configure Client\' | translate}}</a> </li> <li> <a ng-click="vm.remove(project)"><i class="fa fa-fw fa-times"></i> {{::\'Delete\' | translate}}</a> </li> <li class="divider"></li> <li> <a ui-sref="app.organization.manage({ id: project.organization_id })"><i class="fa fa-fw fa-group"></i> {{::\'View Organization\' | translate}}</a> </li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasProjects() && vm.includeOrganizationName"> <td class="hidden-xs" colspan="5"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter ? \'No projects were found with the current filter.\': \'No projects were found.\' | translate}}</strong> </td> <td class="visible-xs" colspan="3"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter ? \'No projects were found with the current filter.\': \'No projects were found.\'}}</strong> </td> </tr> <tr ng-if="!vm.hasProjects() && !vm.includeOrganizationName"> <td class="hidden-xs" colspan="4"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter ? \'No projects were found with the current filter.\': \'No projects were found.\'}}</strong> </td> <td class="visible-xs" colspan="2"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter ? \'No projects were found with the current filter.\': \'No projects were found.\'}}</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"> <a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.previous}"> <a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.next}"> <a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> </div> </div> </div> '),e.put("components/promise-button/promise-button-directive.tpl.html",'<span> <span ng-if="running"> <span class="fa fa-spinner fa-spin" ng-class="promiseButtonBusySpinnerClass"></span> <span ng-if="promiseButtonBusyText">{{promiseButtonBusyText}}</span> <span ng-if="!promiseButtonBusyText" ng-transclude></span> </span> <span ng-if="!running" ng-transclude></span> </span> '),e.put("components/rate-limit/rate-limit-directive.tpl.html","<div class=\"alert alert-danger alert-banner m-b-none\" ng-if=\"vm.rateLimitExceeded()\"> <h4>{{::'API rate limit exceeded' | translate}}</h4> <p>{{::'Your API rate limit has been exceeded. Please try again in 15 minutes.' | translate}}</p> </div> "),e.put("components/release-notification/release-notification-directive.tpl.html",'<div refresh-on="ReleaseNotification" refresh-action="rvm.processReleaseNotification(data)"> <div class="alert alert-info alert-banner m-b-none" ng-if="!!rvm.releaseNotificationMessage"> <div ng-bind-html="rvm.releaseNotificationMessage"></div> </div> </div> '),e.put("components/search-filter/search-filter-directive.tpl.html",'<form class="navbar-form navbar-form-search no-shadow" name="vm.searchFilterForm" role="search" refresh-on="filterChanged" refresh-action="vm.updateFilter()"> <div class="form-group"> <div class="input-group"> <input id="search" name="search" type="search" class="form-control" placeholder="{{::\'Filter\' | translate}}" ng-model="vm.filter" ng-model-options="{ debounce: 500 }" ng-change="vm.setSearchFilter(vm.filter)" search-filter-validator uib-tooltip="{{(vm.searchFilterForm.search.$invalid) ? \'An invalid search term was found.\' : \'\'}}" tooltip-class="error-tooltip" tooltip-is-open="vm.searchFilterForm.search.$invalid" tooltip-placement="bottom"> <div class="input-group-btn"> <a class="btn btn-search-help btn-dark" href="https://exceptionless.com/docs/filtering-and-searching/" target="_blank" title="{{::\'Search Documentation\' | translate}}" aria-label="Search Documentation"> <i class="fa fa-fw fa-question-circle"></i> </a> </div> </div> </div> </form> '),e.put("components/stack-dialog/mark-fixed-dialog.tpl.html",'<form name="vm.markFixedForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"> <span class="glyphicon glyphicon-check"></span> {{::\'Mark Fixed\' | translate}} </h4> </div> <div class="modal-body text-muted"> <p> {{::\'Marks the stack as fixed. This will also prevent error occurrences from being displayed in the dashboard.\' | translate}} </p> <p> <b>{{::\'Optional:\' | translate}}</b> {{::\'Please enter the version in which the stack has been fixed. Any submitted occurrences with a lower version will not cause a regression.\' | translate}} <a href="https://exceptionless.com/docs/versioning/" target="_blank" title="{{::\'Versioning Documentation\' | translate}}" aria-label="Versioning Documentation"> <i class="fa fa-fw fa-question-circle"></i> </a> </p> <div class="form-group"> <input id="version" name="version" type="text" class="form-control input-lg" placeholder="{{::\'Optional Version (Example: 1.2.3)\' | translate}}" ng-model="vm.data.version" ng-model-options="{ debounce: 500 }" semver semantic-version-validator autofocus> <div class="error" ng-messages="vm.markFixedForm.$error" ng-if="vm.markFixedForm.$submitted || vm.markFixedForm.version.$touched"> <small ng-message="semver">{{::\'Invalid version.\' | translate}}</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <input type="submit" role="button" class="btn btn-primary btn-dialog-confirm" ng-click="vm.save(vm.markFixedForm.$valid)" value="{{::\'Mark Fixed\' | translate}}"> </div> </form> '),e.put("components/stacks/stacks-directive.tpl.html",'<div class="table-responsive" refresh-on="filterChanged" refresh-action="vm.get()"> <table class="table table-striped table-bordered table-selectable table-fixed b-t table-hover table-clickable" refresh-on="StackChanged PlanChanged" refresh-if="vm.canRefresh(data)" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead> <tr> <th class="selection hidden-xs"> <label class="checks m-b-none"> <input type="checkbox" ng-click="vm.updateSelection()" ng-checked="vm.selectedIds.length > 0" ng-disabled="vm.stacks.length === 0"><i></i> </label> </th> <th>{{::\'Summary\' | translate}}</th> <th class="percentage">{{::\'UserRatio\' | translate}}</th> <th class="number">{{::\'Events\' | translate}}</th> <th class="date hidden-xs">{{::\'First\' | translate}}</th> <th class="date hidden-xs">{{::\'Last\' | translate}}</th> </tr> </thead> <tbody> <tr class="row-clickable" ng-repeat="stack in vm.stacks track by stack.id" ng-if="vm.stacks.length > 0"> <td class="hidden-xs"> <label class="checks m-b-none"><input type="checkbox" checklist-model="vm.selectedIds" checklist-value="stack.id"><i></i></label> </td> <td ng-click="vm.open(stack.id, $event)"> <summary source="stack" show-type="vm.showType" show-status="vm.showStatus"></summary> </td> <td ng-click="vm.open(stack.id, $event)" class="number"> <abbr title="{{stack.users | number:0}} of {{stack.total_users | number:0}} users">{{(stack.total_users > 0 ? stack.users / stack.total_users * 100.0 : 0) | percentage:100}}</abbr> </td> <td ng-click="vm.open(stack.id, $event)" class="number">{{stack.total | number:0}}</td> <td ng-click="vm.open(stack.id, $event)" class="hidden-xs"> <abbr title="{{::\'DateTime\' | translate : {\'date\' : stack.first_occurrence} }}"> <timeago date="stack.first_occurrence"></timeago> </abbr> </td> <td ng-click="vm.open(stack.id, $event)" class="hidden-xs"> <abbr title="{{::\'DateTime\' | translate : {\'date\' : stack.last_occurrence} }}"> <timeago date="stack.last_occurrence"></timeago> </abbr> </td> </tr> <tr ng-if="vm.stacks.length === 0 || vm.loading"> <td class="hidden-xs"> <label class="checks m-b-none"><input type="checkbox" disabled><i></i></label> </td> <td colspan="5" class="hidden-xs"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter() ? \'No stacks were found with the current filter.\': \'No stacks were found.\' | translate}}</strong> </td> <td colspan="3" class="visible-xs"> <strong ng-if="vm.loading">{{::\'Loading...\' | translate}}</strong> <strong ng-if="!vm.loading">{{vm.hasFilter() ? \'No stacks were found with the current filter.\': \'No stacks were found.\' | translate}}</strong> </td> </tr> </tbody> </table> <div class="table-footer"> <div class="row"> <div class="col-sm-4 hidden-xs"> <div class="dropdown"> <button type="button" role="button" id="bulkActions" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> {{::\'Bulk Action\' | translate}} <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="bulkActions"> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-repeat="action in vm.actions" ng-click="vm.save(action)">{{::action.name | translate}}</a> </li> </ul> </div> </div> <div class="col-sm-4 text-center" ng-class="vm.previous || vm.next ? \'col-xs-8\': \'col-xs-12\'" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right" ng-if="vm.previous || vm.next"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"> <a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.previous}"> <a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.next}"> <a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> </div> </div> </div> '),e.put("components/summary/templates/event-error-summary.tpl.html",'<div> <strong ng-if="source.data.Type"> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr> <span ng-if="!source.data.Method">:</span> </strong> <span ng-if="source.data.Method"> in <strong> <abbr title="{{::source.data.MethodFullName}}">{{::source.data.Method}}</abbr> </strong> </span> <a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"> <i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),e.put("components/summary/templates/event-feature-summary.tpl.html",'<span ng-if="showType"><strong>{{::\'Feature\' | translate}}</strong>:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Source}}</a> '),e.put("components/summary/templates/event-log-summary.tpl.html",'<span ng-if="source.data.Level" class="label label-default" ng-class="{ \'label-success\': isLevelSuccess, \'label-info\': isLevelInfo, \'label-warning\': isLevelWarning, \'label-danger\': isLevelError }"> {{::source.data.Level}} </span> <span ng-if="showType"><strong>Log</strong><span ng-if="source.data.Source">&nbsp;in&nbsp;</span></span> <strong ng-if="source.data.Source"> <abbr ng-if="source.data.SourceShortName" title="{{::source.data.Source}}">{{::source.data.SourceShortName}}</abbr> <span ng-if="!source.data.SourceShortName">{{::source.data.Source}}</span> </strong> <span ng-if="showType || source.data.Source">:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> '),e.put("components/summary/templates/event-notfound-summary.tpl.html",'<span ng-if="showType"><strong>404</strong>:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Source}}</a> '),e.put("components/summary/templates/event-session-summary.tpl.html",'<span ng-if="showType"> <strong> <span ng-if="source.data.Type === \'sessionend\'">{{::\'Session End\' | translate}}</span> <span ng-if="source.data.Type === \'heartbeat\'">{{::\'Session Heartbeat\' | translate}}</span> <span ng-if="source.data.Type !== \'sessionend\' && source.data.Type !== \'heartbeat\'">{{::\'Session\' | translate}}</span> </strong>:&nbsp; </span> <a ui-sref="app.event({ id: source.id })" truncate lines="2"> {{::(source.data.Name || source.data.Identity || source.data.SessionId)}} <span ng-if="source.data.Name && source.data.Identity" class="text-muted"> ({{::source.data.Identity}})</span> </a> '),e.put("components/summary/templates/event-simple-summary.tpl.html",'<div> <strong> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr>: </strong> <a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"> <i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),e.put("components/summary/templates/event-summary.tpl.html",'<strong ng-if="showType">{{::source.data.Type}}</strong><span ng-if="showType && source.data.Source">&nbsp;in&nbsp;</span><strong ng-if="source.data.Source">{{::source.data.Source}}</strong><span ng-if="showType || source.data.Source">:&nbsp;</span><a ui-sref="app.event({ id: source.id })" truncate lines="2">{{::source.data.Message}}</a> '),e.put("components/summary/templates/stack-error-summary.tpl.html",'<div> <span ng-if="showBadge" class="label label-default {{badgeClass}}">{{::source.status | translate}}</span> <strong> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr> <span ng-if="!source.data.Method">:</span> </strong> <span ng-if="source.data.Method"> in <strong> <abbr title="{{::source.data.MethodFullName}}">{{::source.data.Method}}</abbr> </strong> </span> <a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"> <i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),e.put("components/summary/templates/stack-feature-summary.tpl.html",'<span ng-if="showBadge" class="label label-default {{badgeClass}}">{{::source.status | translate}}</span> <span ng-if="showType"><strong>{{::\'Feature\' | translate}}</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> '),e.put("components/summary/templates/stack-log-summary.tpl.html",'<span ng-if="showBadge" class="label label-default {{badgeClass}}">{{::source.status | translate}}</span> <span ng-if="showType"> <strong>{{::\'Log source\' | translate}}</strong>:&nbsp; </span> <a ui-sref="app.stack({ id: source.id })" truncate lines="2"> <abbr ng-if="source.data.Source" title="{{::source.data.Source}}">{{::source.data.SourceShortName}}</abbr> <span ng-if="!source.data.Source">{{::source.title}}</span> </a> '),e.put("components/summary/templates/stack-notfound-summary.tpl.html",'<span ng-if="showBadge" class="label label-default {{badgeClass}}">{{::source.status | translate}}</span> <span ng-if="showType"><strong>404</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{source.title}}</a> '),e.put("components/summary/templates/stack-session-summary.tpl.html",'<span ng-if="showBadge" class="label label-default {{badgeClass}}">{{::source.status | translate}}</span> <span ng-if="showType"><strong>{{::\'Session\' | translate}}</strong>:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{source.title}}</a> '),e.put("components/summary/templates/stack-simple-summary.tpl.html",'<span ng-if="showBadge" class="label label-default {{badgeClass}}">{{::source.status | translate}}</span> <div> <strong> <abbr title="{{::source.data.TypeFullName}}">{{::source.data.Type}}</abbr>: </strong> <a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> </div> <div class="hidden-xs error-path" ng-if="source.data.Path"> <i class="fa fa-caret-right"></i> <span truncate>{{::source.data.Path}}</span> </div> '),e.put("components/summary/templates/stack-summary.tpl.html",'<span ng-if="showBadge" class="label label-default {{badgeClass}}">{{::source.status | translate}}</span> <strong ng-if="showType">{{::source.data.Type}}</strong><span ng-if="showType && source.data.Source">&nbsp;in&nbsp;</span><strong ng-if="source.data.Source">{{::source.data.Source}}</strong><span ng-if="showType || source.data.Source">:&nbsp;</span><a ui-sref="app.stack({ id: source.id })" truncate lines="2">{{::source.title}}</a> '),e.put("components/system-notification/system-notification-directive.tpl.html",'<div refresh-on="SystemNotification" refresh-action="svm.processSystemNotification(data)"> <div class="alert alert-danger alert-banner m-b-none" ng-if="!!svm.systemNotificationMessage"> <div ng-bind-html="svm.systemNotificationMessage"></div> </div> </div> '),e.put("components/users/users-directive.tpl.html",'<div class="table-responsive"> <table class="table table-striped table-bordered table-fixed b-t" refresh-on="OrganizationChanged UserChanged" refresh-action="vm.get(vm.currentOptions)" refresh-throttle="10000"> <thead> <tr> <th>{{::\'Email Address\' | translate}}</th> <th>{{::\'Full Name\' | translate}}</th> <th class="action">{{::\'Actions\' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="user in vm.users"> <td> <span>{{::user.email_address}}</span> <span ng-if="user.has_admin_role" class="label label-info">{{::\'AdminRole\' | translate}}</span> <span ng-if="user.is_invite" class="label label-default">{{::\'Invited\' | translate}}</span> </td> <td> <span>{{::user.full_name}}</span> </td> <td> <div class="btn-group"> <button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-fw fa-edit"></i> <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right" role="menu"> <li ng-if="vm.settings.organizationId"> <a ng-click="vm.resendNotification(user)"><i class="fa fa-envelope"></i> {{::\'Resend Invite Email\' | translate}}</a> </li> <li ng-if="vm.settings.organizationId"> <a ng-click="vm.remove(user)"><i class="fa fa-times"></i> {{user.is_invite ? \'Revoke Invite\' : \'Remove User\' | translate}}</a> </li> <li ng-if="!user.is_invite && vm.hasAdminRole(appVm.user)"> <a ng-click="vm.updateAdminRole(user)"><i class="fa fa-user"></i> {{vm.hasAdminRole(user)? \'Add Admin Role\' : \'Remove Admin Role\' | translate}}</a> </li> </ul> </div> </td> </tr> <tr ng-if="!vm.hasUsers()"> <td colspan="2"> <strong>{{::\'No users were found.\' | translate}}</strong> </td> </tr> </tbody> </table> <div class="table-footer" ng-if="vm.previous || vm.next"> <div class="row"> <div class="col-sm-8 col-xs-8 text-center" ng-if="vm.pageSummary"> <small class="text-muted inline m-t-xs">{{vm.pageSummary}}</small> </div> <div class="col-sm-4 col-xs-4 text-right"> <ul class="pagination pagination-sm m-t-none m-b-none"> <li ng-show="vm.currentOptions.page && vm.currentOptions.page > 2"> <a ng-click="vm.get()"><i class="fa fa-fast-backward"></i></a> </li> <li ng-class="{\'disabled\': !vm.previous}"> <a ng-disabled="!vm.previous" ng-click="!vm.previous || vm.previousPage()"><i class="fa fa-chevron-left"></i></a> </li> <li ng-class="{\'disabled\': !vm.next}"> <a ng-disabled="!vm.next" ng-click="!vm.next || vm.nextPage()"><i class="fa fa-chevron-right"></i></a> </li> </ul> </div> </div> </div> </div> '),e.put("components/web-hook/add-web-hook-dialog.tpl.html",'<form name="vm.addWebHookForm" role="form" class="form-validation" autocomplete="on"> <div class="modal-header dialog-header-confirm"> <button type="button" role="button" class="close" ng-click="vm.cancel()">&times;</button> <h4 class="modal-title"><i class="fa fa-flash fa-fw"></i> {{::\'Create New Web Hook\' | translate}}</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="url">{{::\'URL\' | translate}}</label> <input id="url" name="url" type="url" class="form-control input-lg" placeholder="{{::\'Enter the URL to call\' | translate}}" ng-model="vm.data.url" ng-required="true" autofocus> <div class="error" ng-messages="vm.addWebHookForm.url.$error" ng-if="vm.addWebHookForm.$submitted || vm.addWebHookForm.url.$touched"> <small ng-message="required">{{::\'URL is required.\' | translate}}</small> <small ng-message="url">{{::\'URL is required.\' | translate}}</small> </div> </div> <p>{{::\'Control when the web hook is called by choosing the event types below.\' | translate}}</p> <div class="form-group"> <div class="checkbox checkbox-inline" ng-repeat="type in vm.eventTypes"> <label class="checks"> <input name="types" type="checkbox" checklist-model="vm.data.event_types" checklist-value="type.key" ng-required="!vm.hasEventTypeSelection()"> <i></i> <abbr title="{{::type.description}}">{{::type.name}}</abbr> </label> </div> <div class="error" ng-messages="vm.addWebHookForm.types.$error" ng-if="vm.addWebHookForm.$submitted || vm.addWebHookForm.types.$touched"> <small ng-message="required">{{::\'Please choose one or more event types.\' | translate}}</small> </div> </div> </div> <div class="modal-footer"> <button type="button" role="button" class="btn btn-default" ng-click="vm.cancel()"> {{::\'Cancel\' | translate}} </button> <input type="submit" role="button" class="btn btn-primary" ng-click="vm.save(vm.addWebHookForm.$valid)" value="{{::\'Create Web Hook\' | translate}}"> </div> </form> ')}]);
//# sourceMappingURL=app.min.js.map